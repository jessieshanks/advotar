(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function ba(){aa.Symbol||(aa.Symbol=da);ba=function(){}}var fa=0;function da(a){return"jscomp_symbol_"+a+fa++}function ha(){ba();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));ha=function(){}}
function ja(a){ha();if(a[aa.Symbol.iterator])return a[aa.Symbol.iterator]();if(!(a instanceof Array||"string"==typeof a||a instanceof String))throw new TypeError(a+" is not iterable");var b=0;return{next:function(){return b==a.length?{done:!0}:{done:!1,value:a[b++]}}}}function ka(a){this.data=a}
ka.prototype.get=function(a,b){var c;if(!this.data)throw Error("no viewConfig, unable to get: "+a);c=void 0===this.data[a]?b:this.data[a];if(void 0===c)throw Error('Could not retrieve "'+a+'" from viewConfig');return c};var la=(new UAParser).getResult(),ma=la.browser.name,na=la.browser.major,oa=(new ka(window.viewConfig||{})).get("magicButtonEnabled",null),pa=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||la.browser.version.match(pa)||("Chrome"==ma||"Chromium"==ma)&&27<=na||"Safari"==ma&&6<=na||"Firefox"==ma&&23<=na||"IE"==ma&&11<=na||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(oa.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");var qa=qa||{},ra,t,u,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,z,Ea,Fa,D,Ga,Ha,Ia,Ja,Ka,La,Ma,Oa,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,bb=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144],cb=1<window.devicePixelRatio,db=window.navigator.userAgent.match(/Macintosh/)?!0:!1,eb={mz:"search",rI:"layout",EI:"text",gI:"backgrounds",II:"uploads"},fb=/^#(video-)([a-z0-9-]+)$/,gb=230/24,hb={MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",
MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",
MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"},ib=/^(?:https?:\/\/)?support\.canva\.com\/.+/,jb=/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,kb=[5,4,3,2,1,.67,.5,.333,.25,.1667,.125],
lb="#000000 #ffffff #cc0000 #ffcc00 #009900 #0066cc".split(" "),mb=/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i,nb={FI:"title",CI:"subtitle",hI:"body"};function F(a){this.MB=a.fallback;this.Jw=a.localePrecedence;this.Or={};this.B=a.messages;this.EF=this.Jw[0];this.iG=!!a.returnKeys}F.prototype.format=function(a,b){if(this.iG)return[].join.call(arguments,":");var c=qb(this,a);return c.format.call(c,[].slice.call(arguments,1))};
function qb(a,b){if(a.Or.hasOwnProperty(b))return a.Or[b];var c=a.EF,d;a.Jw.some(function(a){d=this.B[a]&&this.B[a][b];return void 0!==d},a);d||(c=a.MB,d=a.B[c]&&a.B[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,rb);return a.Or[b]=c}var rb={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function sb(){this.Da=window.cmsg;this.au=this.mt=this.oq=this.Cc=this.Ob=this.ge=this.It=this.X=this.Rc=this.Xe=this.yc=this.Cb=this.Ab=this.Wc=this.xe=this.vq=this.ef=this.R=null}function tb(a){a.R||(a.R=new ub(a.Da));return a.R}function vb(a){a.cv||(a.cv=new xb(a.Da));return a.cv}function yb(a){a.Mc||(a.Mc=new zb(a.Da));return a.Mc}function Ab(a){a.Qc||(a.Qc=new Bb(a.Da));return a.Qc}function Cb(a){a.Xa||(a.Xa=new Db(a.Da));return a.Xa}function Eb(a){a.vq||(a.vq=new Fb(a.Da));return a.vq}
function Gb(a){a.Eu||(a.Eu=new Hb(a.Da));return a.Eu}function Ib(a){a.rb||(a.rb=new Jb(a.Da));return a.rb}function Kb(a){a.yc||(a.yc=new Lb(a.Da));return a.yc}function Mb(a){a.Xe||(a.Xe=new Nb(a.Da));return a.Xe}function Ob(a){a.Rc||(a.Rc=new Pb(a.Da));return a.Rc}function Qb(a){a.X||(a.X=new Rb(a.Da));return a.X}function Sb(a){a.Cb||(a.Cb=new Tb(a.Da));return a.Cb}function Ub(a){a.Ob||(a.Ob=new Vb(a.Da));return a.Ob}function Wb(a){a.mt||(a.mt=new Xb(a.Da));return a.mt}
function Yb(a){a.au||(a.au=new Zb(a.Da));return a.au}function ub(a){F.apply(this,arguments)}ub.prototype=Object.create(F.prototype);function $b(a){return a.format("objectPanelInfoClose")}function ac(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function bc(a){return a.format("objectPanelInfoUntitledImage")}function cc(a){return a.format("searchNoResults")}function dc(a){return a.format("objectPanelUploadsPanelUploadButtonLabel")}
function ec(a){return a.format("objectPanelUploadsPanelMarketplaceUploadButtonLabel")}function fc(a,b){return a.format("objectPanelUploadsPanelUseProviderPhotos",b)}function gc(a,b){return a.format("objectPanelUploadsPanelProviderSigninToUsePhotos",b)}function hc(a,b){return a.format("objectPanelUploadsPanelFacebookFolderEmptyMessage",b)}function ic(a,b){return a.format("objectPanelUploadsPanelFolderImageAlt",b)}function jc(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}
function kc(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function lc(a){return a.format("objectPanelTextPanelAddHeading")}function mc(a){return a.format("objectPanelTextPanelAddSubHeading")}(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Tb(a){F.apply(this,arguments)}Tb.prototype=Object.create(F.prototype);f=Tb.prototype;f.Gu=function(){return this.format("creditCardCardNumberPlaceholder")};f.Ow=function(){return this.format("creditCardMonthPlaceholder")};
f.ez=function(){return this.format("creditCardYearPlaceholder")};f.Ru=function(){return this.format("creditCardCvcPlaceholder")};f.save=function(){return this.format("creditCardSave")};function xb(a){F.apply(this,arguments)}xb.prototype=Object.create(F.prototype);xb.prototype.Yn=function(){return this.format("documentPlaceholderText")};xb.prototype.Oo=function(){return this.format("documentUntitledDesign")};function nc(a){F.apply(this,arguments)}nc.prototype=Object.create(F.prototype);
nc.prototype.kp=function(){return this.format("brandKitEditorActionRetry")};nc.prototype.Vs=function(){return this.format("brandKitEditorSavingError")};nc.prototype.Vx=function(){return this.format("brandKitEditorSaving")};nc.prototype.tu=function(){return this.format("brandKitEditorAllChangesSaved")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Db(a){F.apply(this,arguments)}Db.prototype=Object.create(F.prototype);f=Db.prototype;f.SH=function(){return this.format("editorControlsUpgrade")};
f.lt=function(){return this.format("editorControlsShare")};f.download=function(){return this.format("editorControlsDownload")};f.Vx=function(){return this.format("editorControlsSaving")};f.tu=function(){return this.format("editorControlsAllChangesSaved")};function oc(a){F.apply(this,arguments)}oc.prototype=Object.create(F.prototype);oc.prototype.error=function(){return this.format("homeDesignError")};function pc(a){F.apply(this,arguments)}pc.prototype=Object.create(F.prototype);
pc.prototype.error=function(){return this.format("sharedDesignsError")};function qc(a){F.apply(this,arguments)}qc.prototype=Object.create(F.prototype);qc.prototype.ce=function(){return this.format("homeTitleSearchResults")};function rc(a){F.apply(this,arguments)}rc.prototype=Object.create(F.prototype);rc.prototype.wm=function(){return this.format("homeSideBarCreateFolder")};function sc(a){F.apply(this,arguments)}sc.prototype=Object.create(F.prototype);sc.prototype.title=function(){return this.format("designImporterTitle")};
sc.prototype.prompt=function(){return this.format("designImporterPrompt")};sc.prototype.empty=function(){return this.format("designImporterEmpty")};sc.prototype.Oo=function(){return this.format("designImporterUntitledDesign")};function tc(a){F.apply(this,arguments)}tc.prototype=Object.create(F.prototype);tc.prototype.Qr=function(a){return this.format("designCardMoreFolders",a)};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);
(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function uc(a){F.apply(this,arguments)}uc.prototype=Object.create(F.prototype);uc.prototype.empty=function(){return this.format("designStreamEmpty")};uc.prototype.error=function(a,b){return this.format("designStreamError",a,b)};function vc(a){F.apply(this,arguments)}vc.prototype=Object.create(F.prototype);f=vc.prototype;f.title=function(){return this.format("docTypeSelectorTitle")};f.Ty=function(){return this.format("docTypeSelectorUseCustomDimensions")};
f.error=function(){return this.format("docTypeSelectorError")};f.times=function(){return this.format("docTypeSelectorTimes")};f.width=function(){return this.format("docTypeSelectorWidth")};f.height=function(){return this.format("docTypeSelectorHeight")};f.yx=function(){return this.format("docTypeSelectorPixelsUnit")};f.Fd=function(){return this.format("docTypeSelectorDesign")};f.Xk=function(){return this.format("docTypeSelectorMore")};function zb(a){F.apply(this,arguments)}zb.prototype=Object.create(F.prototype);
zb.prototype.bb=function(a){return this.format("colorPickerBrandColor",a)};function wc(a){F.apply(this,arguments)}wc.prototype=Object.create(F.prototype);wc.prototype.save=function(){return this.format("editorFileMenuPaneSave")};wc.prototype.cG=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};wc.prototype.Jr=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};wc.prototype.xC=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};
function xc(a){F.apply(this,arguments)}xc.prototype=Object.create(F.prototype);xc.prototype.Cz=function(){return this.format("customDimensionsPaneActionResize")};xc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};xc.prototype.yx=function(){return this.format("customDimensionsPanePixelsUnit")};function yc(a){F.apply(this,arguments)}yc.prototype=Object.create(F.prototype);yc.prototype.Ty=function(){return this.format("documentResizePaneUseCustomDimensions")};
yc.prototype.Pp=function(){return this.format("documentResizePaneCouldNotBeLoaded")};yc.prototype.Pt=function(){return this.format("documentResizePaneTryLoadingAgain")};yc.prototype.Kq=function(){return this.format("documentResizePaneFetchingDesignTypes")};function zc(a){F.apply(this,arguments)}zc.prototype=Object.create(F.prototype);f=zc.prototype;f.QA=function(){return this.format("magicResizePaneCopyAndResize")};f.Pp=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.Pt=function(){return this.format("magicResizePaneTryLoadingAgain")};
f.Kq=function(){return this.format("magicResizePaneFetchingDesignTypes")};f.XA=function(){return this.format("magicResizePaneCurrentDesignSize")};f.vz=function(){return this.format("magicResizePaneAbracadabraResize")};f.XC=function(){return this.format("magicResizePaneOhSnap")};f.VC=function(){return this.format("magicResizePaneMultipleTabs")};function Fb(a){F.apply(this,arguments)}Fb.prototype=Object.create(F.prototype);Fb.prototype.Bz=function(){return this.format("editorPageControlActionMoveUp")};
Fb.prototype.Az=function(){return this.format("editorPageControlActionMoveDown")};Fb.prototype.yz=function(){return this.format("editorPageControlActionCopy")};Fb.prototype.zz=function(){return this.format("editorPageControlActionDelete")};function Bb(a){F.apply(this,arguments)}Bb.prototype=Object.create(F.prototype);function Ac(a){return a.format("editorToolbarFilterOptionAdvanced")}function Bc(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}
function Cc(a,b){var c=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+c)}function Dc(a){return a.format("editorToolbarElementTransparency")}Bb.prototype.Xk=function(){return this.format("editorToolbarMore")};Bb.prototype.SB=function(){return this.format("editorToolbarFontUploadUpgradePrompt")};Bb.prototype.Jr=function(){return this.format("editorToolbarLearnMoreButtonLabel")};function Hb(a){F.apply(this,arguments)}
Hb.prototype=Object.create(F.prototype);function Ec(a){return a.format("canvaForWorkUpgradeTeamBrandKitsTitle")}function Fc(a){return a.format("canvaForWorkUpgradeLayoutCreatorsTitle")}function Gc(a){return a.format("canvaForWorkUpgradeMagicallyResizeTitle")}function Hc(a){return a.format("canvaForWorkUpgradePhotoFoldersTitle")}function Jb(a){F.apply(this,arguments)}Jb.prototype=Object.create(F.prototype);f=Jb.prototype;f.title=function(){return this.format("shareViewTitle")};f.post=function(){return this.format("shareViewPost")};
f.lt=function(){return this.format("shareViewShare")};f.email=function(){return this.format("shareViewEmail")};f.IG=function(){return this.format("shareViewShareAsEditableDesign")};f.link=function(){return this.format("shareViewLink")};f.send=function(){return this.format("shareViewSend")};f.mv=function(){return this.format("shareViewEmailInputPlaceholder")};function Ic(a){F.apply(this,arguments)}Ic.prototype=Object.create(F.prototype);f=Ic.prototype;f.Iz=function(){return this.format("exportPopOverAllPagesLabel")};
f.sC=function(a){return this.format("exportPopOverInvalidPageRange",a)};f.PF=function(){return this.format("exportPopOverPublishWithCropMarks")};f.GC=function(){return this.format("exportPopOverMakeBackgroundTransparent")};f.title=function(){return this.format("exportPopOverTitle")};function Lb(a){F.apply(this,arguments)}Lb.prototype=Object.create(F.prototype);Lb.prototype.Dq=function(){return this.format("exportDialogErrorPleaseRetry")};function Nb(a){F.apply(this,arguments)}Nb.prototype=Object.create(F.prototype);
Nb.prototype.title=function(a){return this.format("shareDialogTitle",a)};Nb.prototype.xs=function(a){return this.format("shareDialogPreparingDesign",a)};Nb.prototype.Yp=function(){return this.format("shareDialogDesignReady")};function Pb(a){F.apply(this,arguments)}Pb.prototype=Object.create(F.prototype);Pb.prototype.title=function(){return this.format("emailDialogTitle")};Pb.prototype.progress=function(){return this.format("emailDialogProgress")};Pb.prototype.Dq=function(){return this.format("emailDialogErrorPleaseRetry")};
function Rb(a){F.apply(this,arguments)}Rb.prototype=Object.create(F.prototype);f=Rb.prototype;f.nu=function(){return this.format("publishViewActionClose")};f.xz=function(){return this.format("publishViewActionCloseHint")};f.Yh=function(){return this.format("publishViewActionOK")};f.kp=function(){return this.format("publishViewActionRetry")};f.xs=function(a,b){return this.format("publishViewPreparingDesign",a,b)};f.wH=function(){return this.format("publishViewTitleErrorPage")};
f.AB=function(a){return this.format("publishViewErrorPageHtml",a)};f.Yp=function(){return this.format("publishViewDesignReady")};f.jC=function(){return this.format("publishViewHintSeeAllDesigns")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);
function Jc(a){F.apply(this,arguments)}Jc.prototype=Object.create(F.prototype);Jc.prototype.Xf=function(){return this.format("brandPageOnboardingCloseButton")};function Kc(a){F.apply(this,arguments)}Kc.prototype=Object.create(F.prototype);function Lc(a){return a.format("twentyThreeSecondOnboardingSearchText")}function Mc(a){return a.format("twentyThreeSecondOnboardingDragText")}function Nc(a){return a.format("twentyThreeSecondOnboardingPublishText")}
(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Oc(a){F.apply(this,arguments)}Oc.prototype=Object.create(F.prototype);Oc.prototype.signOut=function(){return this.format("userMenuSignOut")};function Pc(a){F.apply(this,arguments)}Pc.prototype=Object.create(F.prototype);Pc.prototype.Oo=function(){return this.format("notificationPopOverUntitledDesign")};Pc.prototype.Zg=function(){return this.format("notificationPopOverErrorMessage")};
(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Qc(a){F.apply(this,arguments)}Qc.prototype=Object.create(F.prototype);Qc.prototype.kp=function(){return this.format("teamBillingActionRetry")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);
(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Rc(a){F.apply(this,arguments)}Rc.prototype=Object.create(F.prototype);Rc.prototype.mv=function(){return this.format("socialOnboardingEmailAddressInputPlaceholder")};Rc.prototype.Db=function(){return this.format("socialOnboardingDoneText")};function Sc(a){F.apply(this,arguments)}Sc.prototype=Object.create(F.prototype);Sc.prototype.copy=function(){return this.format("lightboxCopyButton")};Sc.prototype.next=function(){return this.format("lightboxNext")};
Sc.prototype.previous=function(){return this.format("lightboxPrevious")};Sc.prototype.page=function(){return this.format("lightboxPage")};function Tc(a){F.apply(this,arguments)}Tc.prototype=Object.create(F.prototype);Tc.prototype.TA=function(a){return this.format("teamUpgradeCreateTrialPeriodPoint1Html",a)};Tc.prototype.UA=function(){return this.format("teamUpgradeCreateTrialPeriodPoint2")};Tc.prototype.VA=function(){return this.format("teamUpgradeCreateTrialPeriodPoint3Html")};
function Uc(a){F.apply(this,arguments)}Uc.prototype=Object.create(F.prototype);f=Uc.prototype;f.fA=function(a){return this.format("teamBillingSignupClaimHtml",a)};f.eH=function(){return this.format("teamBillingSignupStartTrial")};f.jG=function(){return this.format("teamBillingSignupRevertCard")};f.vC=function(){return this.format("teamBillingSignupItemsTitle")};f.hm=function(){return this.format("teamBillingSignupBillingError")};f.GH=function(){return this.format("teamBillingSignupTryAgain")};
f.xB=function(){return this.format("teamBillingSignupEncryption")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Vb(a){F.apply(this,arguments)}Vb.prototype=Object.create(F.prototype);function Vc(a){return a.format("starOnboardingActionStayAndPlay")}function Wc(a){return a.format("starOnboardingActionKeepExploring")}Vb.prototype.LF=function(){return this.format("starOnboardingProgressTitle")};Vb.prototype.$G=function(){return this.format("starOnboardingSpecialInstructionsTitle")};
Vb.prototype.YG=function(){return this.format("starOnboardingSpecialInstructionsHtml")};Vb.prototype.ZG=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Xc(a){F.apply(this,arguments)}Xc.prototype=Object.create(F.prototype);function Zb(a){F.apply(this,arguments)}Zb.prototype=Object.create(F.prototype);Zb.prototype.nl=function(){return this.format("viewDesignsPopOverTitle")};
Zb.prototype.ml=function(){return this.format("viewDesignsPopOverMessage")};Zb.prototype.ll=function(){return this.format("viewDesignsPopOverDone")};(function(a){F.apply(this,arguments)}).prototype=Object.create(F.prototype);function Yc(a){F.apply(this,arguments)}Yc.prototype=Object.create(F.prototype);Yc.prototype.nl=function(){return this.format("downloadPopOverTitle")};Yc.prototype.ml=function(){return this.format("downloadPopOverMessage")};Yc.prototype.ll=function(){return this.format("downloadPopOverDone")};
function Xb(a){F.apply(this,arguments)}Xb.prototype=Object.create(F.prototype);Xb.prototype.nl=function(){return this.format("sharePopOverTitle")};Xb.prototype.ml=function(){return this.format("sharePopOverMessage")};Xb.prototype.ll=function(){return this.format("sharePopOverDone")};function G(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Zc(b))}function Zc(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function $c(a,b){this.name=a;this.defaultValue=b}function ad(a){this.values=a||{}}ad.prototype.get=function(a){return a.name in this.values?this.values[a.name]:a.defaultValue};function bd(a){this.Ia=a}var cd=null;function ed(){null===cd&&(cd=new bd(new ad(window.cflags)));return cd}
var fd=new $c("ad",!1),gd=new $c("ag",!0),hd=new $c("aj",!1),id=new $c("au",!1),jd=new $c("ay",!1),kd=new $c("av",!1),ld=new $c("aw",!1),md=new $c("SSFB",!0),nd=new $c("SSTW",!0),od=new $c("SSEM",!0),pd=new $c("SSPI",!1),qd=new $c("SSLI",!1),rd=new $c("ao",!1),sd=new $c("at",!1),td=new $c("az",!1),ud=new $c("ba",!1),vd=new $c("bf",!1),wd=new $c("bk",!1),xd=new $c("bw",!1),yd=new $c("by",!1),zd=new $c("ca",!1),Ad=new $c("cn",!1),Bd=new $c("ct",!1),Cd=new $c("cu",!1),Dd=new $c("cv",!1);
bd.prototype.zm=function(){return!!this.Ia.get(id)};function Ed(a){return!!a.Ia.get(Ad)};var H="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),I=null,Fd=null,Gd=null;function Hd(a){this.Ta=a.Ta;this.Tb=a.Tb;this.Me=a.Me;this.Fb=a.Fb;this.Lo=a.Lo;this.Qp=a.Qp}function Id(a,b,c,d){b=Jd(b);if(!b)return null;var e=L(a.Ta);a=Kd(a,b.fa());isNaN(parseFloat(c*d))?(b.xb(a),e.addElement(b,!0)):(a.Ga(c||0),a.Ha(d||0),b.xb(a),b.appendTo(e));Ld(b);Md(b);return b}Hd.prototype.ou=function(a,b,c){var d;d={height:a.lg().C(),isCutout:!1,mediaId:a.F(),mediaVersion:0,type:"image",width:a.lg().A()};b=Id(this,d,b,c);Nd(this.Lo,Od(a),b)};
Hd.prototype.qu=function(a,b,c,d){switch(a.zb()){case Pd:a=Qd(a,"image",d);Id(this,a,b,c);break;case Rd:a=Qd(a,"svg");Id(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.zb());}};Hd.prototype.ru=function(a,b,c,d){a=a.nH?Sd(a,"svg"):Sd(a,"image",d);Id(this,a,b,c)};
function Od(a){var b=a.lg(),c=a.Mb();return Td({files_:[{page:0,quality:"THUMBNAIL",height:c.C(),url:c.aa(),width:c.A()},{page:0,quality:"SCREEN",height:b.C(),url:b.aa(),width:b.A()}],id:a.F(),origin:Ud,title:a.getName()})}function Qd(a,b,c){var d=a.ia().Lb()[Vd];return{height:d.C(),isCutout:!!c,mediaId:a.F(),mediaVersion:a.ia().V(),type:b,width:d.A()}}function Sd(a,b,c){return{height:a.sb().height,isCutout:!!c,mediaId:a.Qa().F(),mediaVersion:1,type:b,width:a.sb().width}}
function Xd(a,b){b.forEach(function(a){a=Od(a);Yd(this.Lo,a)},a)}function Zd(a,b){b.forEach(function(a){$d(this.Me,a.F(),a.ia().V(),a.ia().Lb())},a)}function Kd(a,b){var c=b.clone(),d=ae(a.Ta.za().sb());(function(){var a=c.A()/c.C();c.ca(Math.min(c.C(),.95*d.C()));c.da(a*c.C())})();(function(){var a=c.C()/c.A();c.da(Math.min(c.A(),.95*d.A()));c.ca(a*c.A())})();return c}Hd.prototype.Ul=function(a,b,c){0<b.length&&this.Qp(a,c).upload(b,be(a))};function ce(a,b){a.dv=b}
function de(a,b,c,d,e,g){function h(){var a=b.getFile(Vd);return new M(0,0,a.A()*K,a.C()*K)}function k(a){var b,d,g;b=a.clientX-e.O()+c.O();d=a.clientY-e.K()+c.K();g=Math.max(Math.min((a.clientX-ea)/sa,1),0);g=1>y?Math.min(Math.max(y,1+g*(y-1)),1):Math.min(Math.max(1,1+g*(y-1)),y);a.clientX>J?(p=!0,g=y):p=!1;m(b,d,g)}function l(a){var b,c,e=!1,h;b=d.get(0).getBoundingClientRect();c=ee(b);e=$(a.target).is(".hotspot");a=ee(E);h=(b.left-E.left)/K;b=(b.top-E.top)/K;$(document).off("mouseup",l);$(document).off("mousemove",
k);!w&&e?q():p&&ge(c,a)?(g(h,b,w),q()):setTimeout(r,50);$("#hotspots").remove();he().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){ie(d[0],{Te:c,Hf:c,Fc:a,Gc:b});p&&je(C.D(),d)&&(null===ca&&(ca=new ke(d,E,{left:A,top:B})),a=le(),me(ca,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function q(){m(c.O(),c.K(),1);d.css("left",c.O()).css("top",c.K()).css("opacity",0).addClass("draggedMediaPlacing");n()}function r(){var a="",b="",e=d.get(0).getBoundingClientRect(),
g=x.dv||c,h=e.left-g.O(),e=e.top-g.K();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.K()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.O(),g.K(),1);x.dv=void 0;n()}var p=!1,v,w=!1,y,x=a,A,B,C,E,J,ea,sa,K=O,N={},ca=null;0<d.find("img").length&&(w=ne(d.find("img").get(0)));v=oe(h(),function(){var a=ae(x.Ta.za().sb()),
b=.95*K;return new M(0,0,a.A()*b,a.C()*b)}());y=Math.min(h().A(),v.A())/c.A();A=e.O()-c.O();B=e.K()-c.K();C=L(a.Ta);E=C.D().get(0).getBoundingClientRect();J=$("#objectPanel").get(0).getBoundingClientRect().right;ea=J-$(".uploadsLayoutColumn").outerWidth()/2+20;sa=J-ea;Q();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.A());d.css("height",c.C());d.css("transform-origin",A+"px "+B+"px");m(c.O(),c.K(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=
d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",w);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.A());a.data("screenHeight",v.C());pe(d,L(x.Ta),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function qe(a){this.Jg=new ka(a)}var re=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];qe.prototype=Object.create(ka.prototype);qe.prototype.Xd=function(){var a=this.Jg.get("brandColor",null);return a&&R(a)};qe.prototype.ae=function(){return this.Jg.get("onboardingMode",null)};function se(a){return a.Jg.get("magicTemplates",[]).map(te)}function ue(a){return a.Jg.get("enabledPublicationContexts",[])};function ve(a){this.T=a;this.url="/folders"}ve.prototype.wm=P.method(function(a){return we(this.T,this.url+"/~",a).get(0).then(xe)});ve.prototype.OB=P.method(function(a){a=this.url+"/~?"+ye(a);return ze(this.T,a).get(0).then(Ae)});ve.prototype.gb=P.method(function(a){a=this.aa(a.gb());return ze(this.T,a).get(0).then(Be)});ve.prototype.aa=function(a){var b=a.cc();return b?[this.url,"~/system",b.hb(),b.zb()].join("/"):[this.url,a.F()].join("/")};
P.method(function(a){var b=this.aa(a.gb())+"?removeItems";return we(this.T,b,a).return()});ve.prototype.EC=P.method(function(a){a=this.aa(a.gb())+"?list\x26"+a.wd();return ze(this.T,a).get(0).then(Ce)});ve.prototype.NC=P.method(function(a){var b=this.aa(a.xi())+"?moveItems";return we(this.T,b,a).return()});ve.prototype.Tt=P.method(function(a){var b;if(a.gb().cc())throw Error("System folders cannot be updated");b=this.url+"/"+a.gb().F();return we(this.T,b,a).get(0).then(De)});function Ee(){}Ee.prototype.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Fe(a,b){a.to=b;return a}Ee.prototype.az=function(a){this.items=a;return this};function Ge(a,b){a.from=b;return a}Ee.prototype.nd=function(){return this.items};Ee.prototype.xi=function(){if(this.from)return He(this.from)};function Ie(){}function He(a){return Object.freeze(G(Ie,a))}
Ie.prototype.F=function(){return this.id};Ie.prototype.cc=function(){if(this.systemFolder)return Object.freeze(G(Je,this.systemFolder))};function be(a){a.cc()?(a={brand:a.ma(),type:a.cc(),user:a.hb()},a=Object.freeze(G(Je,a)),a=He({systemFolder:a})):a=He({id:a.F()});return a}function Je(){}Je.prototype.ma=function(){return this.brand};Je.prototype.zb=function(){return this.type};Je.prototype.hb=function(){return this.user};function Ke(){}function De(a){return Object.freeze(G(Ke,a))}
Ke.prototype.gb=function(){if(this.folder)return Le(this.folder)};Ke.prototype.gh=function(){return this.access};function Me(){}function Le(a){return Object.freeze(G(Me,a))}f=Me.prototype;f.F=function(){return this.id};f.Mb=function(){if(this.thumbnail)return Object.freeze(G(Ne,this.thumbnail))};f.cc=function(){return this.systemFolder};f.ti=function(){if(this.acl)return Oe(this.acl)};f.getName=function(){return this.name};f.ma=function(){return this.brand};f.hb=function(){return this.user};
f.zb=function(){return this.type};f.Lp=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Le(a)};function Ne(){}Ne.prototype.C=function(){return this.height};Ne.prototype.A=function(){return this.width};Ne.prototype.aa=function(){return this.url};function Pe(){}function Oe(a){return Object.freeze(G(Pe,a))}Pe.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(G(Qe,a))})};function Qe(){}
Qe.prototype.ma=function(){return this.brand};Qe.prototype.gh=function(){return this.access};Qe.prototype.hb=function(){return this.user};function Re(){}f=Re.prototype;f.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Rf=function(a){this.folder=a;return this};function Se(a,b){a.acl=b;return a}f.Lg=function(a){this.name=a;return this};
f.Yy=function(a){this.description=a;return this};function Te(a){a.trash=!0;return a}f.gb=function(){if(this.folder)return He(this.folder)};f.ti=function(){if(this.acl)return Oe(this.acl)};f.getName=function(){return this.name};function Ue(a,b,c){var d;d=function(){var c=[];a.ti()&&a.ti().getEntries()&&a.ti().getEntries().forEach(function(a){a.ma()!==b&&c.push({brand:a.ma(),access:a.gh()})});return c}();c&&d.push({brand:b,access:c});c=Oe({entries:d});return Se((new Re).Rf(be(a)),c)}
function Ve(){}function Ce(a){return Object.freeze(G(Ve,a))}Ve.prototype.nd=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return We(a)})};Ve.prototype.bc=function(){return this.continuation};Ve.prototype.gb=function(){if(this.folder)return Le(this.folder)};Ve.prototype.gh=function(){return this.access};function Xe(){}function We(a){return Object.freeze(G(Xe,a))}f=Xe.prototype;f.F=function(){return this.id};
f.Mb=function(){if(this.thumbnail)return Object.freeze(G(Ne,this.thumbnail))};f.getName=function(){return this.name};f.zb=function(){return this.type};f.Qa=function(){var a;if(this.media&&(a=Ye(this.media)))return a};f.Lp=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return We(a)};function Ze(){}f=Ze.prototype;f.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.Rj=function(a){this.limit=a;return this};f.Rf=function(a){this.folder=a;return this};f.Qj=function(a){this.continuation=a;return this};f.Vc=function(){return this.limit};f.gb=function(){if(this.folder)return He(this.folder)};f.bc=function(){return this.continuation};function $e(){}function Be(a){return Object.freeze(G($e,a))}$e.prototype.gb=function(){if(this.folder)return Le(this.folder)};$e.prototype.gh=function(){return this.access};function af(){}
af.prototype.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};af.prototype.Rf=function(a){this.folder=a;return this};af.prototype.gb=function(){if(this.folder)return He(this.folder)};function bf(){}function Ae(a){return Object.freeze(G(bf,a))}bf.prototype.jg=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Le(a)})};
bf.prototype.bc=function(){return this.continuation};function cf(){}f=cf.prototype;f.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Rj=function(a){this.limit=a;return this};f.Pj=function(a){this.brand=a;return this};f.Uj=function(a){this.user=a;return this};f.Qj=function(a){this.continuation=a;return this};f.az=function(a){this.items=a;return this};f.Vc=function(){return this.limit};
f.ma=function(){return this.brand};f.hb=function(){return this.user};f.bc=function(){return this.continuation};function ye(a){return Object.keys(a).map(function(a){var c=this[a];if(Array.isArray(c))return a+"\x3d"+c.map(encodeURIComponent).join(",");if("object"!==typeof c)return a+"\x3d"+encodeURIComponent(c)},a).filter(Boolean).join("\x26")}function df(){}function xe(a){return Object.freeze(G(df,a))}df.prototype.gh=function(){return this.access};df.prototype.gb=function(){if(this.folder)return Le(this.folder)};
function ef(){}f=ef.prototype;f.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Lg=function(a){this.name=a;return this};f.Pj=function(a){this.brand=a;return this};f.Uj=function(a){this.user=a;return this};f.Tj=function(a){this.type=a;return this};f.getName=function(){return this.name};f.ma=function(){return this.brand};f.hb=function(){return this.user};f.zb=function(){return this.type};function ff(){this.xhr=null}ff.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};ff.prototype.finish=function(){this.xhr=null};function gf(a){this.sp=a&&a.analyticsContext||null;this.cm=a&&a.authToken||null;this.dm=a&&a.authzToken||null;this.Cp=a&&a.brandRestriction||null;this.Ep=a&&a.buildName||null;this.Fp=a&&a.buildSha||null;this.Zf=a&&a.csrfTokens||{};this.so=a&&a.serverRoot||null;this.Zx=!!this.so;this.AG=this.so?this.so+"/_ajax":"/_ajax"}
function hf(){return new gf(window.httpServiceConfig)}gf.prototype.copy=function(a){var b={analyticsContext:this.sp,authToken:this.cm,authzToken:this.dm,brandRestriction:this.Cp,buildName:this.Ep,buildSha:this.Fp,serverRoot:this.so},c;for(c in a)b[c]=a[c];if(null===a.csrfTokens)c=null;else{c={};a=a.csrfTokens||{};for(var d in this.Zf)c[d]=this.Zf[d];for(d in a)c[d]=a[d]}b.csrfTokens=c;return new gf(b)};function jf(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}
function kf(a){return 200<=a&&300>a}gf.prototype.get=function(a,b){var c=new ff;this.send("GET",a,null,!0,null,c,null,b);return c};function ze(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){kf(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}gf.prototype.post=function(a,b,c,d){var e=new ff;lf(this,"POST",a,b,!0,0,e,c,d);return e};
function we(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,null,function(a,b){kf(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function mf(a,b,c,d){if(a.Zx)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new ff,null,function(){})}function nf(a,b,c){var d=new ff;lf(a,"DELETE",b,null,!0,0,d,null,c);return d}
function of(a,b){var c;return(new P(function(d,e){c=nf(a,b,function(a,b){kf(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function lf(a,b,c,d,e,g,h,k,l){var m=jf(c);if(m in a.Zf){var n=a.Zf[m];a.send(b,c,d,e,n,h,k,function(q,r){418==q&&1>g?(a.Zf[m]==n&&delete a.Zf[m],lf(a,b,c,d,e,g+1,h,k,l)):(l&&l(q,r),h.finish())})}else a.send("GET","/csrf"+m,null,e,null,h,null,function(n,r){200==n?(m in a.Zf||(a.Zf[m]=String(r)),lf(a,b,c,d,e,g,h,k,l)):(l(n,null),h.finish())})}
gf.prototype.send=function(a,b,c,d,e,g,h,k){function l(){4==n.readyState&&m()}function m(){var a,b,c;try{a=n.status;var d,e;try{d=n.getResponseHeader("X-Canva-Auth")}catch(h){}try{e=n.getResponseHeader("X-Canva-Authz")}catch(h){}d&&(q.cm="!"!=d?d:null);e&&(q.dm="!"!=e?e:null);b=n.responseText}catch(h){if(h.message&&h.message.match(/c00c023f/))a=0,b="";else throw g.finish(),h;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){k(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(h){k(500,null);g.finish();return}}else c=null;k(a,c);g.finish()}b=this.AG+b;var n=g.xhr=new XMLHttpRequest,q=this;n.open(a,b,d);this.Zx&&(n.withCredentials=!0);"GET"!=a&&e&&n.setRequestHeader("X-Csrf-Token",e);this.sp&&n.setRequestHeader("X-Canva-Analytics",this.sp);this.cm&&n.setRequestHeader("X-Canva-Auth",this.cm);this.dm&&n.setRequestHeader("X-Canva-Authz",this.dm);this.Cp&&n.setRequestHeader("X-Canva-Brand",this.Cp);this.Ep&&n.setRequestHeader("X-Canva-Build-Name",
this.Ep);this.Fp&&n.setRequestHeader("X-Canva-Build-Sha",this.Fp);null===c?a=null:"object"==typeof c&&"undefined"!==typeof Blob&&c instanceof Blob?(n.setRequestHeader("Content-Type",c.type),h&&n.upload.addEventListener("progress",h,!1),a=c):(n.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(n.onreadystatechange=l,n.send(a)):(n.send(a),m())};"undefined"!=typeof exports&&(exports.nI=gf);function pf(a){this.T=a;this.url="/metrics"};function qf(){}qf.prototype.Lg=function(a){this.name=a;return this};function rf(){}rf.prototype=Object.create(qf.prototype);rf.prototype.constructor=rf;rf.prototype.fu=function(a){this.events=a;return this};function sf(){}function tf(a){return Object.freeze(G(sf,a))};function uf(){}uf.prototype.now=function(){return Date.now()};var vf=new uf;var xf=new wf;function wf(){}f=wf.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function yf(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function zf(a,b,c,d){this.name=a;this.Kp=b;this.HC=c;this.startTime=d;this.events={}}function Af(a,b){a.events[b]=a.Kp.now()-a.startTime}zf.prototype.done=function(){if(Object.keys(this.events).length){var a=this.HC,b=this.name,c=this.events,d=new rf;d.metricType="TIMELINE";b=d.Lg(b).fu(c);a=a.BG;we(a.T,a.url,b).get(0).then(tf)}};function Bf(a,b){this.BG=a;this.Kp=vf;this.rF=b}function Cf(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new Bf(a,b)}
function Df(a){return new zf("canva.editor.load",a.Kp,a,a.rF)};function Ef(a){this.Hb=a;this.Lm=a.O();this.Mm=a.K();this.av=this.$u=0;if(a.re){var b=a.Ij;this.Lm=b.O();this.Mm=b.K();this.$u=(b.O()-a.O())*O;this.av=(b.K()-a.K())*O}}f=Ef.prototype;f.$a=function(){var a=this.Hb.$a()+this.$u,b=this.Hb.Ua().O()*O;return a+b};f.fb=function(){var a=this.Hb.fb()+this.av,b=this.Hb.Ua().K()*O;return a+b};f.O=function(){return this.Hb.Ua().O()+this.Lm};f.Ja=Ef.prototype.O;f.K=function(){return this.Hb.Ua().K()+this.Mm};f.ta=Ef.prototype.K;f.A=function(){return this.Hb.Ua().A()};
f.Wb=Ef.prototype.A;f.C=function(){return this.Hb.Ua().C()};f.Ub=Ef.prototype.C;f.Va=function(){return this.O()+this.A()};f.tb=Ef.prototype.Va;f.qa=function(){return this.K()+this.C()};f.cb=Ef.prototype.qa;f.yi=function(){return this.O()+this.A()/2};f.Ma=function(){return 0};f.setSize=function(a,b){var c=this.Hb.Ua();c.da(a);c.ca(b);Ff(this.Hb,c)};f.da=function(a){var b=this.Hb.Ua();b.da(a);Ff(this.Hb,b)};f.ca=function(a){var b=this.Hb.Ua();b.ca(a);Ff(this.Hb,b)};
f.Ga=function(a){var b=this.Hb.Ua();b.Ga(a-this.Lm);Ff(this.Hb,b)};f.Ha=function(a){var b=this.Hb.Ua();b.Ha(a-this.Mm);Ff(this.Hb,b)};f.setPosition=function(a,b){var c=this.Hb.Ua();c.setPosition(a-this.Lm,b-this.Mm);Ff(this.Hb,c)};
function Gf(a){this.Dd=a;a=Array.min(this.Dd.map(function(a){return a.Ja()}));var b=Array.max(this.Dd.map(function(a){return a.tb()})),c=Array.min(this.Dd.map(function(a){return a.ta()})),d=Array.max(this.Dd.map(function(a){return a.cb()}));this.width=b-a;this.height=d-c}f=Gf.prototype;f.$a=function(){return Array.min(this.Dd.map(function(a){return a.$a()}))};f.fb=function(){return Array.min(this.Dd.map(function(a){return a.fb()}))};f.O=function(){return Array.min(this.Dd.map(function(a){return a.Ja()}))};
f.Ja=Gf.prototype.O;f.K=function(){return Array.min(this.Dd.map(function(a){return a.ta()}))};f.ta=Gf.prototype.K;f.A=function(){return this.width};f.Wb=Gf.prototype.A;f.C=function(){return this.height};f.Ub=Gf.prototype.C;f.Va=function(){return this.O()+this.A()};f.tb=Gf.prototype.Va;f.qa=function(){return this.K()+this.C()};f.cb=Gf.prototype.qa;f.yi=function(){return this.O()+this.A()/2};f.Ma=function(){return 0};f.U=function(){return this.Dd[0].U()};
f.fa=function(){return new M(this.O(),this.K(),this.A(),this.C())};f.Pi=function(a){return a?ge(this.fa(),a.fa()):!1};f.setSize=function(){};f.da=function(){};f.ca=function(){};f.Ga=function(a){var b=a-this.O();this.Dd.forEach(function(a){a.Ga(a.O()+b)})};f.Ha=function(a){var b=a-this.K();this.Dd.forEach(function(a){a.Ha(a.K()+b)})};f.setPosition=function(a,b){var c=a-this.O(),d=b-this.K();this.Dd.forEach(function(a){a.setPosition(a.O()+c,a.K()+d)})};
function ke(a,b,c){this.elem=a;this.Pe=b;this.height=a.height();this.width=a.width();this.Yt=void 0!==c;this.origin=c}f=ke.prototype;f.$a=function(){return this.elem[0].getBoundingClientRect().left+$("#canvaDocument").scrollLeft()-$("#canvaDocument").offset().left};f.fb=function(){var a=$("#canvaDocument"),b=a.scrollTop(),a=a.offset().top;return this.elem[0].getBoundingClientRect().top+b-a};f.O=function(){return(this.elem[0].getBoundingClientRect().left-this.Pe.left)/O};f.Ja=ke.prototype.O;
f.K=function(){return(this.elem[0].getBoundingClientRect().top-this.Pe.top)/O};f.ta=ke.prototype.K;f.A=function(){return this.elem[0].getBoundingClientRect().width/O};f.Wb=ke.prototype.A;f.C=function(){return this.elem[0].getBoundingClientRect().height/O};f.Ub=ke.prototype.C;f.Va=function(){return this.O()+this.A()};f.tb=ke.prototype.Va;f.qa=function(){return this.K()+this.C()};f.cb=ke.prototype.qa;f.yi=function(){return this.O()+this.A()/2};f.Ma=function(){return 0};f.setSize=function(){};f.da=function(){};
f.ca=function(){};f.Ga=function(a){var b;this.Yt?(b=Hf(this.elem[0]).Te,a=a*O+this.Pe.left+(b-1)*this.origin.left,ie(this.elem[0],{Fc:a})):this.elem.css("left",a*O+this.Pe.left)};f.Ha=function(a){var b;this.Yt?(b=Hf(this.elem[0]).Hf,a=a*O+this.Pe.top+(b-1)*this.origin.top,ie(this.elem[0],{Gc:a})):this.elem.css("top",a*O+this.Pe.top)};
f.setPosition=function(a,b){var c,d;this.Yt?(c=Hf(this.elem[0]),d=a*O+this.Pe.left+(c.Te-1)*this.origin.left,c=b*O+this.Pe.top+(c.Hf-1)*this.origin.top,ie(this.elem[0],{Fc:d,Gc:c})):this.elem.css("left",a*O+this.Pe.left).css("top",b*O+this.Pe.top)};function If(a){this.ad=a.ad;this.Na=a.Na;this.Ug=a.Ug;this.Sh=a.Sh;this.te=this.Fd=null;this.Pn=[];this.ready=!1;this.pi=a.pi;this.eg=a.eg;this.ga=a.ga;this.dh=a.dh;this.Sl=a.Sl}
function Jf(a,b){var c=$.extend({},b);a.Fd&&(c.design=a.Fd);c.experience=a.pi;for(var d in a.eg)a.eg.hasOwnProperty(d)&&(c["Experiment:"+d]=a.eg[d]);a.Na&&(c.brand=a.Na);a.Ug&&(c.cohort=a.Ug);a.Sh&&(c.tier=a.Sh);try{var e=window.crypto||window.msCrypto,g=new Uint8Array(16);e.getRandomValues(g);c.insert_id=btoa(String.fromCharCode.apply(null,g))}catch(h){}return c}f=If.prototype;f.track=function(){};f.identify=function(a){this.ad=a};f.alias=function(){};f.uf=function(){return this.ready};f.set=function(){};
f.Gj=function(){};f.union=function(){};function Kf(a,b){var c=I,d,e,g=null;if(Ca.Ia.get(Cd))try{d=Lf(),(g=d.getItem("dwldctaexpv"))||(e=Math.random(),g=.2>e?"download_my_doctype":.4>e?"finish_my_doctype":.6>e?"save_my_doctype":.8>e?"send_my_doctype":"current",d.setItem("dwldctaexpv",g))}catch(h){}d=g;c.Fd=a;c.te=b;e={design:c.Fd,source:"editor",template:c.te};d&&"invitation"===b&&(e.experiment="download-cta-exp",e.experimentVariant=d);c.track("design_open",e);c.Sl&&c.Sl("l54ua")}
function Mf(a,b){var c=I;c.track("design_shared",{design:c.Fd,template:c.te,medium:a,location:b})}function Nf(a,b){a.track("experiment_enroll",{type:b,section:"editor",subsection:"header",location:"publish_pop_over"})}function Of(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Pf(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function Qf(a,b){a.track("upgrade_cta_clicked",{location:b,variant:void 0})};function Rf(a){If.call(this,{pi:a.pi,eg:a.eg,ad:a.ad,Na:a.Na,Ug:a.Ug,Sh:a.Sh,ga:function(a,c,d){window.console.log("Google track: ",a,c,d)},dh:function(a){window.console.log("Facebook track pixelId: ",a)},Sl:function(a){window.console.log("Twitter trackPid: ",a)}})}_.extend(Rf.prototype,If.prototype);f=Rf.prototype;f.track=function(a,b){window.console.log("analytics:track",this.ad,a,Jf(this,b))};f.Gj=function(a,b){window.console.log("analytics:trackNow",this.ad,a,Jf(this,b))};
f.identify=function(a){this.ad=a;window.console.log("analytics:identify",a)};f.alias=function(a){window.console.log("analytics:alias",this.ad,a);this.ad=a};f.set=function(a,b){window.console.log("analytics:set",this.ad,a);b&&window.setTimeout(b,0)};f.union=function(a){window.console.log("analytics:union",this.ad,a)};function Sf(a){function b(){for(this.ready=!0;this.Pn&&0<this.Pn.length;)this.Pn.shift()();this.Pn=null;if(!Tf){if(a.ad){var b=(new UAParser).getResult(),e=b.browser.name,g=b.browser.version,h=b.device.type,b=b.os.name;h||"Android"!=b&&"iOS"!=b||(h="mobile");this.set({"Most recent browser":e+" "+g,timezone:(new Date).getTimezoneOffset()/-60});this.union({"Operating Systems":[b],Browsers:[e],Devices:[h]})}c.page();Tf=!0}}If.call(this,a);var c=window.analytics;c&&(c.load(a.AH),c.ready(b.bind(this)))}
var Tf=!1;_.extend(Sf.prototype,If.prototype);f=Sf.prototype;f.track=function(a,b){window.analytics&&window.analytics.track(a,Jf(this,b))};f.Gj=function(a,b){window.analytics&&window.analytics.track(a,Jf(this,b))};f.identify=function(a){window.analytics&&window.analytics.identify(a)};f.alias=function(a){window.analytics&&window.analytics.alias(a)};f.set=function(a,b){window.analytics&&window.analytics.identify(a,b)};f.union=function(){};function Uf(a){function b(a){e.push(["track",a.toString()])}function c(a){d("https://analytics.twitter.com/i/adsct?txn_id\x3d"+encodeURIComponent(a)+"\x26p_id\x3dTwitter");d("//t.co/i/adsct?txn_id\x3d"+encodeURIComponent(a)+"\x26p_id\x3dTwitter")}function d(a){$(function(){var b=$("\x3cimg\x3e").css({display:"none",height:"1px",width:"1px"});b.one("load",function(){b.remove()});b.prop("src",a);b.appendTo("body")})}var e=window._fbq||(window._fbq=[]),g=window.ga,h=a.user,k=a.brand,l=a.cohort,m=a.tier,
n=String(a.experience),q=a.experiments,r=a.impl;switch(r){case "console":a=new Rf({pi:n,eg:q,ad:h,Na:k,Ug:l,Sh:m});break;case "segment":a=new Sf({AH:a.segmentWriteKey,pi:n,eg:q,ad:h,Na:k,Ug:l,Sh:m,ga:g,dh:b,Sl:c});break;default:throw Error("Cant find analytics implementation "+r);}h&&a.identify(h);return a};function Vf(a){this.T=a}f=Vf.prototype;f.Jk=function(a){throw Wf(a[0].errorKey);};f.Tk=function(a){return"CreditCardInvalid"===a[0].errorType};f.RA=P.method(function(a,b){return we(this.T,"/billing/brands/"+encodeURIComponent(a)+"/account",{brand:a,stripeToken:b}).get(0).get("account").then(Xf).catch(this.Tk,this.Jk)});function Yf(a,b,c){a.T.get("/billing/brands/"+encodeURIComponent(b)+"/account",function(a,b){200!=a?c(a,null):c(a,Xf(b))})}
function Zf(a,b){return new P(function(a,d){Yf(this,b,function(b,g){kf(b)?a(g):d(b)})}.bind(a))}f.bn=function(a,b,c){a="/billing/design/"+encodeURIComponent(a);0!==b.length&&(a+="?pages\x3d"+b.join(","));return this.T.get(a,function(a,b){var g=200==a?$f(b):null;c&&c(a,g)})};
function ag(a,b,c,d){return a.T.post("/billing/design/"+encodeURIComponent(b),c.map(function(a){return bg(a)}),null,function(a,b){var c;b?void 0===b.credits?c=$f(b):(c=G(cg,b),c.items&&(c.items=c.items.map(dg)),c.licenses&&(c.licenses=c.licenses.map(eg))):c=null;d&&d(a,c)})}function fg(a,b){var c=[{ql:10,hi:11,name:"PACK_10"},{ql:20,hi:22,name:"PACK_20"},{ql:50,hi:55,name:"PACK_50"},{ql:100,hi:110,name:"PACK_100"}].filter(function(b){return b.hi>a});b&&b(c)}
function gg(a,b,c){return a.T.post("/billing/brand/account?buycredit",{creditPack:encodeURIComponent(b)},null,function(a,b){200!=a?c(a,b&&b.error&&b.error.message||"Unkown error ("+a+")"):c(a,dg(b.invoiceItem))})}f.getSubscription=P.method(function(a){return ze(this.T,a.brand?"/billing/brands/"+a.brand+"/subscription"+(null!=a.excludeStandard?"?excludeStandard\x3d"+(a.excludeStandard?"true":"false"):""):"/billing/subscriptions/"+a.id).get(0).then(hg)});
f.PH=P.method(function(a){return we(this.T,a.brand?"/billing/brands/"+a.brand+"/subscription":"/billing/subscriptions/"+a.id,a).get(0).then(ig).catch(this.Tk,this.Jk)});P.method(function(a){return we(this.T,"/billing/brands/"+a.brand+"/subscription?refund",a).get(0).then(jg).catch(this.Tk,this.Jk)});P.method(function(a){return we(this.T,"/billing/campaign",a).spread(kg)});P.method(function(a){return of(this.T,"/billing/campaign/"+encodeURIComponent(a)).spread()});
P.method(function(a,b){return ze(this.T,"/billing/coupon/"+encodeURIComponent(a)+"?validate\x3d"+encodeURIComponent(b)).spread(lg)});P.method(function(a){a="/billing/brands/"+encodeURIComponent(a.ma())+"/invoices?"+a.wd();return ze(this.T,a).get(0).then(mg)});P.method(function(a){a="/billing/invoices/"+encodeURIComponent(a.F())+"?"+a.wd();return ze(this.T,a).get(0).then(ng)});
P.method(function(a){a=a.ma()?"/billing/brands/"+encodeURIComponent(a.ma())+"/invoice?upcoming":"/billing/brand/invoice?upcoming";return ze(this.T,a).get(0).then(og).catch(this.Tk,this.Jk)});P.method(function(a){var b=a.ma()?"/billing/brands/"+encodeURIComponent(a.ma())+"/invoice?create":"/billing/brand/invoice?create";return we(this.T,b,a).get(0).then(pg)});P.method(function(a){return we(this.T,"/billing/invoices/"+encodeURIComponent(a.invoiceId)+"?pay",a).get(0).then(qg).catch(this.Tk,this.Jk)});function rg(){}rg.prototype.F=function(){return this.id};rg.prototype.hb=function(){return this.user};rg.prototype.ub=function(){return this.status};function sg(){}function dg(a){return Object.freeze(G(sg,a))}sg.prototype.getDate=function(){return this.date};sg.prototype.hb=function(){return this.user};sg.prototype.ma=function(){return this.brand};sg.prototype.F=function(){return this.id};function tg(){}
function ug(a){a=G(tg,a);a.licenses=a.licenses.map(eg);a.credits=a.credits.map(vg);a.subscriptionCharges=a.subscriptionCharges.map(wg);return Object.freeze(a)}tg.prototype.Wq=function(){return this.licenses};function xg(){}function vg(a){a=G(xg,a);a.date=new Date(a.date);return Object.freeze(a)}xg.prototype.getDate=function(){return this.date};function yg(){}function wg(a){a=G(yg,a);a.fromDate=new Date(a.fromDate);a.toDate=new Date(a.toDate);return Object.freeze(a)}yg.prototype.getSubscription=function(){return this.subscription};
function zg(){}zg.prototype.getSubscription=function(){return this.subscription};function hg(a){a=G(zg,a);a.subscription=Ag(a.subscription);return a}function Bg(){}Bg.prototype.F=function(){return this.id};Bg.prototype.ma=function(){return this.brand};Bg.prototype.ub=function(){return this.status};
function Ag(a){a=G(Bg,a);a.plan=Object.freeze(G(Cg,a.plan));null!=a.trialEnd&&(a.trialEnd=new Date(a.trialEnd));null!=a.paidUntil&&(a.paidUntil=new Date(a.paidUntil));null!=a.periodEnd&&(a.periodEnd=new Date(a.periodEnd));return a}function Cg(){}Cg.prototype.F=function(){return this.id};Cg.prototype.mc=function(){return this.displayName};Cg.prototype.br=function(){return this.trialPeriodDays};function Dg(a){return a.billingInterval}Cg.prototype.rf=function(){return this.price};
function Eg(a){return("YEARLY"===Dg(a)?1:12)*a.rf()}function Fg(){}Fg.prototype.Pj=function(a){this.brand=a;return this};function Gg(){}Gg.prototype.getSubscription=function(){return this.subscription};function ig(a){a=G(Gg,a);a.subscription=Ag(a.subscription);return a}function Hg(){}function jg(a){return Object.freeze(G(Hg,a))}function Ig(){}Ig.prototype.F=function(){return this.id};Ig.prototype.mc=function(){return this.displayName};Ig.prototype.zb=function(){return this.type};Ig.prototype.br=function(){return this.trialPeriodDays};
function Jg(a){a=G(Ig,a);null!=a.created&&(a.created=new Date(a.created));null!=a.expiry&&(a.expiry=new Date(a.expiry));return a}function Kg(){}Kg.prototype.hb=function(){return this.user};Kg.prototype.ma=function(){return this.brand};function Lg(){}function kg(a){a=G(Lg,a);a.campaign=Jg(a.campaign);return a}function Mg(){}function lg(a){a=G(Mg,a);var b=G(Kg,a.coupon);b.campaign=Jg(b.campaign);null!=b.dateRedeemed&&(b.dateRedeemed=new Date(b.dateRedeemed));a.coupon=b;return a}function Ng(){}
Ng.prototype.ma=function(){return this.brand};function Og(){}function Pg(a){a=G(Og,a);a.card=Object.freeze(G(Ng,a.card));a.addedDate&&(a.addedDate=new Date(a.addedDate));a.deletedDate&&(a.deletedDate=new Date(a.deletedDate));return Object.freeze(a)}Og.prototype.hh=function(){return this.card};function Qg(){}function Xf(a){a=G(Qg,a);a.archivedCards&&(a.archivedCards=a.archivedCards.map(Pg));return Object.freeze(a)}Qg.prototype.ma=function(){return this.brand};
Qg.prototype.hh=function(){if(this.card)return Object.freeze(G(Ng,this.card))};function Rg(){this.media="";this.version=0;this.title="";this.price=0;this.sessionCreationDate=null;this.layout=""}f=Rg.prototype;f.Qa=function(){return this.media};f.V=function(){return this.version};f.Ka=function(){return this.title};f.rf=function(){return this.price};function Sg(a){return a.sessionCreationDate}f.Lv=function(){return this.layout};function eg(a){return a?$.extend(new Rg,a):null}
function Tg(){this.contributorName=this.thumbnail=this.license=""}function bg(a){return a.license}Tg.prototype.ng=function(){return this.thumbnail};function Ug(a){if(!a)return null;a=$.extend(new Tg,a);a.license=eg(a.license);return a}function Vg(a){return a?a.map(Ug):null}function Wg(){this.newItems=[];this.paidItems=[];this.subscriptionCredit=this.creditBalance=0;this.card=null;this.documentVersion=0}Wg.prototype.od=function(){return this.newItems};Wg.prototype.hh=function(){return this.card};
function Xg(a){var b=a.creditBalance;a.subscriptionCredit&&(b+=a.subscriptionCredit);return b}function Yg(a){return a.newItems.reduce(function(a,c){return a+bg(c).rf()},0)}Wg.prototype.Ak=function(){var a=this.paidItems.filter(function(a){return 0!==bg(a).rf()&&null!==Sg(bg(a))});if(0==a.length)return null;a=a.map(function(a){return Sg(bg(a))});return Math.min.apply(Math,a)};function Zg(a){return 0<Yg(a)&&Xg(a)<Yg(a)}
function $f(a){if(!a)return null;a=$.extend(new Wg,a);a.newItems&&(a.newItems=Vg(a.newItems));a.paidItems&&(a.paidItems=Vg(a.paidItems));a.card&&(a.card=Object.freeze(G(Ng,a.card)));return a}function cg(){}cg.prototype.nd=function(){return this.items};cg.prototype.Wq=function(){return this.licenses};cg.prototype.Ak=function(){var a=this.Wq().filter(function(a){return 0!==a.rf()&&null!==Sg(a)});if(0==a.length)return null;a=a.map(function(a){return Sg(a)});return Math.min.apply(Math,a)};
function $g(){}function mg(a){return Object.freeze(G($g,a))}function ah(){}function ng(a){a=G(ah,a);a.invoice=Object.freeze(G(rg,a.invoice));a.details&&(a.details=ug(a.details));return Object.freeze(a)}function bh(){}function og(a){a=G(bh,a);a.invoice=Object.freeze(G(rg,a.invoice));a.details=ug(a.details);return Object.freeze(a)}function ch(){}function pg(a){a=G(ch,a);return Object.freeze(a)}function dh(){}function qg(a){a=G(dh,a);return Object.freeze(a)}function eh(){Rg.call(this);this.DC=[]}
eh.prototype=Object.create(Rg.prototype);eh.prototype.constructor=eh;eh.prototype.Wq=function(){return this.DC};function M(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function fh(a){return a?new M(a.left||0,a.top||0,a.width||0,a.height||0):gh.clone()}function ee(a){return fh({left:a.left,top:a.top,width:a.width,height:a.height})}function hh(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var gh=new M(0,0,0,0);f=M.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new M(this.left,this.top,this.width,this.height)};f.O=function(){return this.left};f.Ja=M.prototype.O;f.K=function(){return this.top};f.ta=M.prototype.K;f.Va=function(){return this.left+this.width};f.tb=M.prototype.Va;f.qa=function(){return this.top+this.height};f.cb=M.prototype.qa;f.A=function(){return this.width};f.Wb=M.prototype.A;f.C=function(){return this.height};f.Ub=M.prototype.C;
f.Ei=function(){return{width:this.width,height:this.height}};function ih(a){return{x:a.left+a.width/2,y:a.top+a.height/2}}f.Ga=function(a){this.left=a;return this};f.Ha=function(a){this.top=a;return this};f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.da=function(a){this.width=a;return this};f.ca=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};function jh(a){return a.width/a.height}
f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};function kh(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function lh(a,b){a.left+=b;a.top+=b;a.width-=b;a.height-=b}function mh(a,b,c){a.width+=b;a.height+=c;return a}function nh(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}
function oh(a,b){var c=jh(a);jh(a)>jh(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);nh(a,b);return a}function oe(a,b){var c=jh(a);jh(a)<jh(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);nh(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
function ge(a,b){return a.Va()<=b.O()||a.qa()<=b.K()||a.O()>=b.Va()||a.K()>=b.qa()?!1:!0}function ph(a,b){return a.O()<=b.O()&&a.K()<=b.K()&&a.Va()>=b.Va()&&a.qa()>=b.qa()}function qh(a,b){a.Va()>b.Va()&&a.translate(b.Va()-a.Va(),0);a.O()<b.O()&&a.translate(b.O()-a.O(),0);a.qa()>b.qa()&&a.translate(0,b.qa()-a.qa());a.K()<b.K()&&a.translate(0,b.K()-a.K());return a}function rh(a,b,c){0!=(c&1)&&a.Ga(b.A()-a.Va());0!=(c&2)&&a.Ha(b.C()-a.qa());return a};var sh={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};function th(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function uh(a){return vh(new th(a.layout),a)}function vh(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}f=th.prototype;f.getName=function(){return this.name};f.Le=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new wh(b)).bi().serialize();a.elements.forEach(function(a){a.origin=c})}return a};
f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.da=function(a){this.width=a};f.ca=function(a){this.height=a};f.A=function(){return this.width};f.C=function(){return this.height};
function xh(a){function b(a){a.mediaId&&c.push(new yh(a.mediaId,a.mediaVersion));a.fontMedia&&c.push(new yh(a.fontMedia.id,a.fontMedia.version));a.htmlFontMedia&&a.htmlFontMedia.forEach(function(a){c.push(new yh(a.id,a.version))})}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function zh(a){var b=Array.prototype.concat.apply([],arguments);b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function Ah(a){var b=new zh;b.m[2]=a[0];b.m[5]=a[1];return b}function Bh(a){return[a.m[2],a.m[5]]}f=zh.prototype;
f.multiply=function(a){var b=new zh;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new zh;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new zh;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new zh;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new zh;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new zh,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function Ch(){this.r=255;this.g=0;this.b=255;this.h=300;this.s=100;this.To=50}function Dh(a,b,c,d){a.h=b;a.s=c;a.To=d;var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;d=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];a.r=d[0];a.g=d[1];a.b=d[2];return a}
function Gh(a,b,c,d){a.r=b;a.g=c;a.b=d;var e;b=a.r;c=a.g;d=a.b;b/=255;c/=255;d/=255;var g=Math.max(b,c,d),h=Math.min(b,c,d);if(g==h)e=h=0;else{var k=g-h,h=k/g;switch(g){case b:e=(c-d)/k+(c<d?6:0);break;case c:e=(d-b)/k+2;break;case d:e=(b-c)/k+4}e/=6}e=[360*e,100*h,100*g];a.h=e[0];a.s=e[1];a.To=e[2];return a}
function Hh(a){var b=new Ch;if(!/^#?[0-9a-z]*$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return Gh(b,Ih(a,0*c,c),Ih(a,1*c,c),Ih(a,2*c,c))}function Jh(a){return 0==(a.r&-256|a.g&-256|a.b&-256)}f=Ch.prototype;f.Z=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.g).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};f.clone=function(){var a=new Ch;Gh(a,this.r,this.g,this.b);return a};
f.distanceTo=function(a){var b=(this.r+a.r)/2,c=this.r-a.r,d=this.g-a.g;a=this.b-a.b;return(512+b)*c*c/256+4*d*d+(767-b)*a*a/256};function Kh(a){return Math.round(Math.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b))}function Lh(a,b,c){return Gh(new Ch,Math.round(a.r+(b.r-a.r)*c),Math.round(a.g+(b.g-a.g)*c),Math.round(a.b+(b.b-a.b)*c))}f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};f.serialize=Ch.prototype.Z;f.toString=Ch.prototype.Z;
function R(a){if(a){a=String(a);try{if("#"==a.slice(0,1))return Hh(a);if("hsl("==a.slice(0,4)){var b=new Ch,c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(a);if(!c)throw new SyntaxError('Invalid HSL color: "'+a+'"');var d,e=+c[2],g=+c[3],e=e/100,g=g/100,h=e*(.5>g?g:1-g),k=g+h;d=[+c[1],100*(0<g?2*h/k:e),100*k];return Dh(b,d[0],d[1],d[2])}if("rgb("==a.slice(0,4)){h=new Ch;k=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(a);if(!k)throw new SyntaxError('Invalid RGB color: "'+a+'"');
return Gh(h,+k[1],+k[2],+k[3])}if(6===a.length)return Hh("#"+a)}catch(l){}}return null}function Mh(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function Ih(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}function Nh(a,b,c){return Gh(new Ch,a.r+Math.round(c*(b.r-a.r)),a.g+Math.round(c*(b.g-a.g)),a.b+Math.round(c*(b.b-a.b)))};function Oh(a,b,c,d){function e(a){var b=g.data("angle")||0,c=g.data("radius")||0,d=g.data("distance")||0;if(b=Dh(new Ch,b,100*c,100*(1-d)))l.css("background-color",Dh(new Ch,b.h,b.s,100).Z()),$(".colorPickerColorCodeHex",g).val(b.Z().slice(1)),a&&a(b)}var g=$(Ph({colorCodeLabel:a.format("colorPickerColorCode")}));g.data("canvaPicker",this).on("mousedown",!1).on("click",!1);Qh(g,b);var h=$(".colorPickerSpectrum",g),k=$(".marker",h),l=$(".colorPickerBrightness",g),m=$(".marker",l),n=$(".colorPickerColorCodeHex",
g);b&&n.val(b.Z().slice(1));h.on("mousedown",function(a){function b(a){var d=$("body").scrollLeft()||$("html").scrollLeft(),h=$("body").scrollTop()||$("html").scrollTop(),d=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)+d-l.left;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+h-l.top;var h=Rh(m/2,y/2,d,a),n=h*Math.PI/180,p=Sh(d,a,m/2,y/2);p>A&&(p=A,a=Math.sin(n)*A+m/2,d=Math.cos(n)*A+y/2);n=p/A;g.data("angle",h).data("radius",n);k.css("left",d).css("top",a);
c&&e(c);return!1}function d(){h.removeClass("mousedown");e(c);$(document).off("mousemove",b).off("mouseup",d);return!1}var l=h.offset(),m=h.width(),y=h.height(),x=parseInt(k.css("margin-top"),10),A=m/2+x;h.addClass("mousedown");n.blur();$(document).on("mousemove",b).on("mouseup",d);b(a);return!1});n.on("mousedown",function(){$(this).focus().select()}).on("keyup",function(a){var b=$(this).val().replace(/\u200B/g,"").replace(/\u200E/g,"").split("").filter(function(a){return 0<="0123456789abcdef".indexOf(a.toLowerCase())}).join("").substring(0,
6);b!==$(this).val()&&$(this).val(b);6===b.length&&(b=R("#"+b),Qh(g,b),c(b));(13===a.which||27===a.which)&&d&&d()});l.on("mousedown",function(a){function b(a){a=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-h.left;a<-x?a=-x:a>A&&(a=A);g.data("distance",(a+x)/(A+x));m.css("left",a);e(c);return!1}function d(){l.removeClass("mousedown");e(c);$(document).off("mousemove",b).off("mouseup",d);return!1}var h=l.offset(),k=l.outerWidth(),y=m.outerWidth(),x=parseInt(m.css("margin-left"),
10);l.addClass("mousedown");n.blur();var A=k-y-x;$(document).on("mousemove",b).on("mouseup",d);b(a);return!1});this.element=g}Oh.prototype.remove=function(){this.element.remove()};
function Qh(a,b){var c=$(".colorPickerSpectrum",a),c=$(".marker",c),d=$(".colorPickerBrightness",a),e=$(".marker",d);b?(a.data("angle",b.h).data("radius",b.s/100).data("distance",1-b.To/100),c.css("left",Math.round(Math.min(90,b.s/100*100)*Math.cos(b.h*Math.PI/180)+100)).css("top",Math.round(Math.min(90,b.s/100*100)*Math.sin(b.h*Math.PI/180)+100)),e.css("left",Math.round(Math.min(190,Math.max(10,200*(1-b.To/100))))),d.css("background-color",Dh(new Ch,b.h,b.s,100).Z())):(c.css("left",100).css("top",
100),e.css("left",10),d.css("background-color",""))}var Ph=_.template('\x3cdiv class\x3d"colorPicker showColorCode"\x3e\x3ca class\x3d"enterColorCode" href\x3d"#"\x3e\x26#xe003;\x3c/a\x3e\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerBrightness"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d"colorPickerSlots"\x3e\x3c/ul\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e\x3c%- colorCodeLabel %\x3e #\x3cinput class\x3d"colorPickerColorCodeHex" maxlength\x3d"8" name\x3d"colorPickerColorCodeHex" /\x3e\x3c/div\x3e\x3c/div\x3e');function Th(a){this.view=null;this.lb=a.lb;this.vh=a.vh;this.sc=a.sc||null;this.Qg=void 0===a.Qg||a.Qg;this.wp=this.vp=this.Cf=null;this.fr=!1;this.Mc=a.Mc;this.xg=!!a.xg;(this.Ot=!a.fB)&&Uh.push(this)}var Uh=[];function Vh(){Uh.slice(0).forEach(function(a){a.remove()})}f=Th.prototype;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function Xh(a,b,c){var d=document.body;a.vp=b;a.wp=c;a.view||(a.view=a.xm(),a.view.render().$el.appendTo(d));Yh(new Zh({toolbar:b,hs:a.view.$el.get(0)}),c,d)}function $h(a){a.fr&&(a.fr=!1,a.trigger("confirmColor"))}function ai(a,b,c){return a.view?b===a.vp&&(!c||c===a.wp):!1}f.xm=function(){var a=new bi({di:ci(this),colors:di(this),sc:this.sc,Qg:this.Qg,xg:this.xg,Mc:this.Mc});this.listenTo(a,{addColor:this.fD,updateColor:this.ds,dragColor:this.wg,removeColor:this.KE,overlayClick:this.DE});return a};
f.remove=function(){this.wg();$h(this);this.stopListening();this.view&&this.view.remove();this.wp=this.vp=this.view=null;this.Ot&&(Uh.splice(Uh.indexOf(this),1),this.Ot=!1);this.trigger("removed")};f.wg=function(){if(this.Cf){this.Cf.remove();this.Cf=null;var a=this.view;a.ym=null;var b=di(this);a.colors=[].concat(b);if(a=a.render().$(".colorPaletteStandard").get(0))a.scrollTop=a.scrollHeight-a.getBoundingClientRect().height;this.sc&&ei(this.vh,this.sc)}};
function ci(a){function b(a){return R("#"+fi(a))}return(a=function(){try{var a;var b=this.lb;a=b.colorPalettes?b.colorPalettes.filter(Boolean).map(gi):void 0;return a[0]}catch(e){return null}}.call(a))?a.lf().map(b).filter(Boolean):[]}function di(a){var b=ci(a).map(function(a){return a.Z()});return a.vh.Fe().lf().filter(function(a){return 0>b.indexOf(a.Z())})}f.Jy=function(a){this.sc=a.clone();this.trigger("updateColor",this.sc);this.fr=!0;this.Cf&&(a=this.view,a.ym=this.sc,a.render())};
f.fD=function(a){if(this.Cf)this.wg(),$h(this);else{this.Cf=new Oh(this.Mc,this.sc||R("#ffffff"),this.GE.bind(this),this.HE.bind(this));var b=this.Cf;a=a.currentTarget;var c=a.ownerDocument.body,d=a.getBoundingClientRect();a=d.left+d.width/2;var d=d.top+d.height/2,e;b.element.appendTo(c);c=c.getBoundingClientRect();if(e=b.element.get(0)&&b.element.get(0).getBoundingClientRect())a+7+e.width<c.width?b.element.css("left",a+7+"px"):b.element.css("left",a-7-e.width+"px"),d+7+e.height<c.height?b.element.css("top",
d+7+"px"):b.element.css("top",d-7-e.height+"px");this.trigger("showPicker")}};f.DE=function(){this.wg()};f.GE=function(a){this.Jy(a)};f.HE=function(){this.wg()};f.KE=function(a){hi(this.vh,a);a=this.view;var b=di(this);a.colors=[].concat(b);a.render()};f.ds=function(a){var b=this.sc;if(b&&a?b.Z()!==a.Z():b!==a)this.Jy(a),this.Cf?Qh(this.Cf.element,this.sc):$h(this)};function bi(){}bi=Backbone.View.extend({tagName:"div",className:"colorPalette"});f=bi.prototype;f.initialize=function(a){this.di=[].concat(a.di);this.colors=[].concat(a.colors);this.sc=a.sc;this.Qg=a.Qg;this.xg=a.xg;this.ym=this.draggable=this.no=null;this.aw=!1;this.Mc=a.Mc};f.events=function(){return{click:this.sE,"click .colorPaletteSwatchSelect":this.ds,"click .colorPaletteSwatchAdd":this.trigger.bind(this,"addColor"),"mousedown .colorPaletteStandard .colorPaletteSwatchSelect":this.JE,"startdrag .colorPaletteSwatch":this.$E}};
f.render=function(){this.aw?this.$(".colorPaletteStandard").html(ii(this)):(this.$el.html([0===this.di.length?"":this.px({paletteClass:1===this.di.length?"colorPaletteBrandSingle":"colorPaletteBrand",itemsHtml:this.di.map(this.Qx.bind(this)).join(""),brandColor:this.Mc.bb(this.di.length)}),this.px({paletteClass:"colorPaletteStandard scrollPane",itemsHtml:ii(this),brandColor:this.Mc.bb(1)})].filter(Boolean).join(this.zG())),this.xg&&(this.$el.addClass("colorPaletteScrollable"),this.no=new ji(this.$(".colorPaletteStandard")),
this.no.render()),this.aw=!0);return this};f.remove=function(){this.no&&this.no.remove();Backbone.View.prototype.remove.call(this);return this};function ii(a){var b=a.colors.map(a.Qx.bind(a));a.Qg&&b.push(a.Ez({pickerColor:a.ym&&a.ym.Z()}));return b.join("")}f.HD=function(a){for(var b=!0;b&&a.parentElement;)b=a!==this.$el[0],a=a.parentElement;b&&(a=$(this.draggable.target).css("background-color"),this.trigger("removeColor",R(a)))};f.sE=function(a){$(a.target).is(".colorPalette \x3e menu")&&this.trigger("overlayClick")};
f.JE=function(a){var b=a.originalEvent;if(0===b.button&&a.target){var c=new ki({target:a.target}),d=b.clientY;c.Em.x=b.clientX;c.Em.y=d;c.gf=c.target.cloneNode(!0);document.addEventListener("mousemove",c.Qw);document.addEventListener("mouseup",c.Rw);this.draggable=c;this.listenTo(this.draggable,{end:this.HD,start:this.trigger.bind(this,"dragColor")});a.preventDefault()}};f.$E=function(a){a.preventDefault()};f.ds=function(a){(a=R($(a.target).css("color")))&&this.trigger("updateColor",a)};
f.Qx=function(a){var b=["colorPaletteSwatchSelect"];this.sc&&this.sc.Z()===a.Z()&&b.push("colorPaletteSwatchActive");return this.lh({color:a.Z(),classes:b.join(" ")})};f.Ez=_.template('\x3cli class\x3d"colorPaletteSwatch colorPaletteSwatchAdd"\x3c% if (pickerColor) { %\x3e style\x3d"color: \x3c%- pickerColor %\x3e"\x3c% } %\x3e\x3e\x3c/li\x3e');f.px=_.template('\x3cmenu class\x3d"colorPaletteSwatchGroup \x3c%- paletteClass %\x3e"\x3e\x3cdiv class\x3d"colorPaletteTitleMultiple"\x3e\x3c%- brandColor %\x3e\x3c/div\x3e\x3c%\x3d itemsHtml %\x3e\x3cdiv class\x3d"colorPaletteTitleSingle"\x3e\x3c%- brandColor %\x3e\x3c/div\x3e\x3c/menu\x3e');
f.lh=_.template('\x3cli class\x3d"colorPaletteSwatch \x3c%- classes %\x3e" style\x3d"color: \x3c%- color %\x3e"\x3e\x3c/li\x3e');f.zG=_.template('\x3chr class\x3d"colorPaletteSeparator"\x3e');function ki(a){this.target=a.target;this.gf=null;this.Em={x:0,y:0};this.Fm=void 0!==a.Fm?a.Fm:5;this.iv=!1;this.Ql=null;this.Qw=this.aC.bind(this);this.Rw=this.bC.bind(this)}f=ki.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;
f.release=function(a){document.removeEventListener("mousemove",this.Qw);document.removeEventListener("mouseup",this.Rw);$(this.target).removeClass("fauxDraggerTarget");this.gf&&this.gf.parentNode&&this.gf.parentNode.removeChild(this.gf);this.gf=null;this.trigger("end",a);this.off()};f.aC=function(a){var b=a.pageX-this.Em.x;a=a.pageY-this.Em.y;this.iv?$(this.gf).css("top",this.Ql.top+a+"px").css("left",this.Ql.left+b+"px"):(Math.abs(b)>this.Fm||Math.abs(a)>this.Fm)&&this.qq()};
f.bC=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.qq=function(){this.Ql=this.target.getBoundingClientRect();$(this.gf).css("top",this.Ql.top+"px").css("left",this.Ql.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.gf);this.trigger("start");this.iv=!0};function li(a,b){this.item={elements:[],pl:null,timestamp:0};this.Co=a;this.vy=(b||"anonymous")+"-copybuffer"}function mi(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp});try{a.Co.setItem(a.vy,b)}catch(c){}}function ni(a){var b;return a.Co&&(b=a.Co.getItem(a.vy))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return Jd(a)}),pl:null,timestamp:b.timestamp}:null}
function oi(a,b){var c=Za;c.item.timestamp=Date.now();c.item.elements=a;c.item.pl=b?b:null;c.Co&&mi(c)}function pi(){var a=Za,b=ni(a);return b?b:{elements:a.item.elements,pl:a.item.pl,timestamp:a.item.timestamp}};function qi(a,b){this.la=a;this.Ey=b||null;this.ap=this.co=null}qi.prototype.read=function(a){this.co||(ri++,si.splice(ri,0,this));this.co=a;if(ti==ui||ti==vi)this.la.requestAnimationFrame(wi),ti=xi;return this};qi.prototype.write=function(a){this.ap||(yi++,zi.splice(yi,0,this));this.ap=a;ti==ui&&(this.la.requestAnimationFrame(wi),ti=xi);return this};function he(a){return new qi(xf,a)}var ui=0,xi=1,vi=3,ti=ui,si=[],zi=[],ri=0,yi=0;
function wi(){var a,b;ti=2;yi=-1;for(a=0;a<si.length;a++){ri=a;b=si[a];var c=b.co;b.co=null;c&&c.call(b.Ey,b)}si.length=0;ri=-1;ti=vi;for(a=0;a<zi.length;a++)yi=a,b=zi[a],c=b.ap,b.ap=null,c&&c.call(b.Ey,b);zi.length=0;yi=-1;ti!=xi&&(ti=ui)};function Ai(){this.T=Ba;this.url="/designschool"}function Bi(a){var b=u.Ea();return we(a.T,a.url+"/"+encodeURIComponent(b)+"/complete",null).get(0).then(Ci)};function Di(){}function Ci(a){return Object.freeze(G(Di,a))};function Ei(a){this.analytics=a.analytics;this.Sp=a.Sp;this.st=!1;this.window=a.window}function Fi(a,b){if(!a.st){var c=a.Sp();c.on("signup",function(){$(window).off("beforeunload");a.window.location="/brand/onboarding/upgrader"});c.on("hide",function(){a.st=!1});Gi(c,b);a.st=!0}};function Hi(a,b){this.action=a;this.param=b}var Ii={DI:"tab",mz:"search",mI:"folder"};function Ji(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Ii);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;a=a[1];c=_.values(eb);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(a)?null:new Hi(b,a||null)};function Ki(a){this.colors=Li(a)}function Li(a){if(a){var b={};a.forEach(function(a){var d=a.Z();!b.hasOwnProperty(d)&&Jh(a)&&(b[d]=a)});return _.values(b)}return lb.map(R)}function Mi(a,b){return 0<=Ni(a).indexOf(b.Z())}f=Ki.prototype;f.kc=function(){delete this.Mp;delete this.LI};f.cd=function(a){Jh(a)&&!Mi(this,a)&&(this.colors.push(a),this.kc())};f.unshift=function(a){Jh(a)&&!Mi(this,a)&&(this.colors.unshift(a),this.kc())};function Oi(){var a=new Ki;a.colors=[];a.kc();return a}
function Pi(a,b){b&&b.length&&b.forEach(function(b){a.cd(b)});a.kc();return a}f.lf=function(){return this.colors};function Ni(a){a.Mp||(a.Mp=a.colors.map(function(a){return a.Z()}));return a.Mp}f.serialize=function(){this.kc();return this.colors.filter(function(a){return-1==lb.indexOf(a.Z())}).map(function(a){return a.serialize()})};function Qi(a){function b(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))}function c(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))}function d(a){var b=q+Rh(l,m,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-r;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>n.Ma(),e=d&&42<c,d=!d&&3>c,g=3>c||42<
c;if(a.shiftKey)y=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(y=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(y)return!1;e?(b=b+45-c,y=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,y=!0)}a=b;$("#overlays .rotationGuide").css("transform",Ri({rotateZ:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",Ri({rotateZ:360-a}));Si(n,b);n instanceof Ti&&Ui(n);return!1}function e(){Vi();
n.Ec=!1;w.off("mousemove|touchmove",d).off("mouseup|touchend",e);g.removeClass("on");n.Ke&&n.Ke();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");$(document).off("keydown",c);$(document).off("keydown",b);if(q!=n.Ma()){var a={elementIndex:n.W(),pageIndex:S(t,n.U()),"new":{rotation:n.Ma()},old:{rotation:q}};D.register(new U(Wi,a))}}Xi();var g=$(this);g.addClass("on");var h=$(this).parents(".selectionBox").data("element"),
k=h.offset(),l=k.left+h.width()/2,m=k.top+h.height()/2,n=h.data("canvaElement"),q=n.Ma(),r=Rh(l,m,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),p=!1,v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);Vh();$(document).on("keydown",c);$(document).on("keyup",b);var w=new V($(document));n.Ec=!0;w.on("mousemove|touchmove",d).on("mouseup|touchend",e);a=Yi(n);var y=!1,h=$("#overlays").get(0).getBoundingClientRect();
$("#overlays .rotation.align").first().css("left",a.x-h.left+"px").css("top",a.y-h.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-h.left+"px").css("top",a.y-h.top+"px").css("margin-top",-1*Zi(n)/2+"px").css("height",Zi(n)+"px");return!1};function $i(a){this.analytics=a};function aj(a,b){this.yp=a;this.namespace=void 0===b?null:b}function Lf(){if(window.localStorage)return new aj(window.localStorage,void 0);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}aj.prototype.setItem=function(a,b){try{return this.yp.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};aj.prototype.getItem=function(a){return this.yp.getItem(null==this.namespace?a:this.namespace+"."+a)};
aj.prototype.removeItem=function(a){this.yp.removeItem(null==this.namespace?a:this.namespace+"."+a)};function bj(a,b,c,d,e,g,h){this.oa=d;this.Vd=b;this.wq=a;this.rd=c;this.B=e;this.analytics=g;this.Se=h;var k;try{k=Lf()}catch(l){k=null}this.ck=k}bj.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=cj(b);if(!a)throw Error("Malformed document. Missing content.");dj(this,a,b,c,d,e,g)};
function dj(a,b,c,d,e,g,h){b={content:b,Pc:c,wB:!(-1==re.indexOf(d.ae())&&!d.ae()),Vd:a.Vd,wq:a.wq,ag:d,Dz:g,vH:h,B:a.B,lb:e,xv:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.ae();if(t){if(-1!=re.indexOf(d.ae())){var e=a.B;e.Cc||(e.Cc=new Xc(e.Da));(new ej(t,d,e.Cc)).go()}e=new fj(a.rd,d,a.B);if(!c&&a.ck&&"1"==a.ck.getItem("justOnboarded")){if(a.oa.Ia.get(Dd)){var g=Math.random();.33>g?gj(a):.66>g?hj(a):ij(a)}else a.analytics&&Nf(a.analytics,"no_hint");a.ck.removeItem("justOnboarded")}"FREE_NEW_USER"===
c?(e.go(),jj(a)):kj()?(e.go(),jj(a),new lj({analytics:a.analytics,me:"five_saves_view_designs",Se:a.Se,Qh:5,title:Yb(a.B).nl(),content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(Yb(a.B).ml()),Db:Yb(a.B).ll(),anchor:$("#editorLogo"),Yj:"homepage"})):-1<b.indexOf(c)&&mj({ae:c,zm:a.oa.zm(),OF:0<=ue(d).indexOf("TEAM_TEMPLATE"),Ob:Ub(a.B)}).start();if(a.oa.Ia.get(Bd))a:if(b=new $i(a.analytics),"1"===window.localStorage.getItem("CHOF")){try{window.localStorage.setItem("CHOF","2")}catch(h){break a}b.BH=
"7644";window.inline_manual_player=window.inline_manual_player||[];window.inline_manual_player.push(["activateStep",b.BH,1]);$.ajax({dataType:"script",cache:!0,url:"https://inlinemanual.com/embed/player.60a8a47d743c45d69d4ce93621b89b29.js"});b.analytics.Gj("experiment_homepage_onboarding_flow_step_two")}}}};nj(b)}function jj(a){a.ck&&a.ck.setItem("justOnboarded","1")}
function gj(a,b){var c;c=a.B;c.oq||(c.oq=new Yc(c.Da));c=c.oq;b=_.defaults({},b,{analytics:a.analytics,me:"download_hint",Se:a.Se,Qh:5,title:c.nl(),content:c.ml(),Db:c.ll(),anchor:$("button.editorActionExport"),Yj:"download",position:oj});new lj(b)}function hj(a,b){var c=Wb(a.B);b=_.defaults({},b,{analytics:a.analytics,me:"share_hint",Se:a.Se,Qh:5,title:c.nl(),content:c.ml(),Db:c.ll(),anchor:$("button.editorActionShare"),Yj:"share",position:oj});return new lj(b)}
function ij(a){var b=Wb(a.B);hj(a,{Db:b.format("sharePopOverNext")+" \x26#8594;",me:"download_share_hint_1"}).on("remove",function(){gj(a,{me:"download_share_hint_2",Qh:0})})};function pj(a,b,c){function d(a){var b=R(a.replace("!",""));b&&(/^!/gi.test(a)?e.oi.cd(b):e.uh.cd(b))}var e=this;this.Pc=b;this.Ay=a.pages||[];this.Ri=a.keywords||[];this.locale=a.locale||null;this.uh=Oi();this.oi=Oi();a.palette&&a.palette.length&&a.palette.forEach(d);this.S=[];this.Zj=null;this.title=new qj(c,a.title,this.za().getName());this.title.on("change",this.dC.bind(this));this.Wl={title:{},subtitle:{},body:{}};$.extend(this.Wl,a.defaultFonts);this.rm={title:{fontSize:42,fontFamily:"Abril Fatface"},
subtitle:{fontSize:24,fontFamily:"Trocchi"},body:{fontSize:16,fontFamily:"Arimo"}};$.extend(this.rm,a.canvaDefaultFonts);a=rj(this,a);a.pages?a.pages.forEach(function(a){e.S.push(new sj(e,a))}):this.S.push(new sj(this,this.Le()));tj(this,0)}f=pj.prototype;f.za=function(){return this.Pc};f.Le=function(){return this.Pc.Le()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;
_.extend(pj.prototype,Backbone.Events);f=pj.prototype;f.Fe=function(){var a=this,b=this.uh.lf(),c=Oi(),d=[];b.forEach(function(a){c.cd(a)});this.S.forEach(function(b){b.Fe().lf().forEach(function(b){Mi(a.oi,b)||d.unshift(b)})});d.forEach(function(a){c.unshift(a)});return c};function ei(a,b){if(!Mi(a.uh,b)){a.uh.cd(b);var c=a.oi.lf().filter(function(a){return a.Z()!==b.Z()});a.oi=Pi(Oi(),c);a.trigger("paletteEntry:add",a,b)}}
function hi(a,b){a.oi.cd(b);var c=a.uh.lf().filter(function(a){return a.Z()!==b.Z()});a.uh=Pi(Oi(),c);a.trigger("paletteEntry:remove",a,b)}function uj(a){return Ni(a.uh).concat(a.oi.lf().map(function(a){return"!"+a.Z()}))}f.serialize=function(a){var b;b=this.S.reduce(function(b,d){d.Qd||b.push(d.serialize(!!a));return b},[]);b={canvaDefaultFonts:this.rm,defaultFonts:this.Wl,layout:this.za().F(),pages:b,palette:uj(this),title:this.title.Ek()};this.Ri&&0<this.Ri.length&&(b.keywords=this.Ri);return b};
f.Ka=function(){return this.title};f.ih=function(){return this.Ri};function vj(a,b){a.Ri=b;""!==a.Ri.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.cn=function(){return this.locale};f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function wj(a){return ae(a.Pc.sb()).C()||(a.Ay[0]||{}).height||0}function xj(a){return ae(a.Pc.sb()).A()||(a.Ay[0]||{}).width||0}
function L(a){for(var b=0;b<a.S.length;b++)if(a.S[b].selected)return a.S[b];return a.S[0]}f.Ov=function(){return this.S};f.pf=function(){return this.S.length};function yj(a){return a.S.filter(function(a){return!a.Qd})}f.wr=function(){return!!zj(this.Pc)};function tj(a,b){b=Math.min(Math.max(0,b),a.S.length-1);var c=a.S[b],d=c.selected;c.Cg(!0);d!==c.selected&&a.trigger("page:change:selected",a,c)}function S(a,b){return a.S.indexOf(b)}
function Aj(a){var b=new sj(a,a.Le());if(0<a.S.length){var c=Bj(a.S[a.S.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),Cj(c))}a.S.push(b);a.trigger("page:add",a,b);b.ha().forEach(function(a){b.trigger("element:add",b,a)});return b}
function Dj(a,b,c,d){var e=a.S.indexOf(b),g=!0;!1===d&&(g=!1);Ej(b,a);-1==e?(a.S.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.S.splice(c,0,a.S.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ha().forEach(function(a){b.trigger("element:add",b,a)})}function Fj(a,b){var c=S(a,L(a)),d=a.S.indexOf(b);-1<d&&a.S.splice(d,1);Ej(b,null);c>d&&c--;tj(a,Math.max(0,Math.min(a.S.length-1,c)));a.trigger("page:remove",a,b,d)}
f.wa=function(){var a=[],b=this.S.map(function(a){return a.wa()});return a.concat.apply(a,b)};function Gj(){return t.S.some(function(a){return 0<a.wa().length})}f.ha=function(){var a=[],b=this.S.map(function(a){return a.ha()});return a.concat.apply(a,b)};function Hj(a){a=a.ha();var b=a.filter(function(a){return a.sg()});a.filter(function(a){return a.vr()}).forEach(function(a){a.Nv().forEach(function(a){b.push(a)})});return b}
function Ij(a){var b={};Hj(a).filter(function(a){return a.Vb()}).map(function(a){return a.Vb()}).forEach(function(a){Jj(ta,a)&&(b[a.F()]=a)});return _.values(b)}function Kj(a){return Hj(a).some(function(a){return(a=a.Vb())&&!Jj(ta,a)?!0:!1})}f.Ee=function(a){return $.extend(!0,{},this.rm[a],this.Wl[a])};
function Lj(a,b){var c=a.Ee(b);c&&a.ha().filter(function(a){return a instanceof Mj&&a.style===b}).forEach(function(a){var b=$.extend(!0,{},a.Pd),g;for(g in c)a.Pd[g]||(-1<Nj.indexOf(g)&&("fontFamily"==g?a.We(0,c[g]):"fontSize"==g?a.Dc(0,c[g]):"bold"==g?a.yg(0,c[g]):"italic"==g?a.Ag(0,c[g]):"justification"==g&&a.Jf(0,c[g])),"color"==g&&a.setColor(0,R(c[g])));a.Pd=b;a.kc()})}
function rj(a,b){var c=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(c).forEach(function(b){var c=Object.keys(nb).map(function(a){return nb[a]}),g=b.style;-1<c.indexOf(g)&&(c=a.Ee(g),void 0===b.fontFamily&&(b.fontFamily=c.fontFamily),void 0===b.fontSize&&(b.fontSize=c.fontSize))});return c}
function Oj(a){function b(a){var e,g;for(g in a)a.hasOwnProperty(g)&&(e=a[g],c=c&&("number"===typeof e?!isNaN(e):!0),"object"==typeof e&&b(e));Array.isArray(a)&&a.forEach(function(a){c=c&&("number"===typeof a?!isNaN(a):!0);"object"==typeof e&&b(e)})}var c=!0;b(a);return c}f.isEmpty=function(){return 0===this.ha().length};f.dC=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a){this.Pc=a;this.S.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};
f.Qt=function(a,b){this.Pc=b;this.S.forEach(function(b,d){b.Qt(a.pages[d])});this.trigger("resize");this.trigger("change")};function Pj(){Error.captureStackTrace&&Error.captureStackTrace(this,Pj)}Pj.prototype=Object.create(Error.prototype);function Qj(){Pj.call(this)}Qj.prototype=Object.create(Pj.prototype);function Rj(){Pj.call(this)}Rj.prototype=Object.create(Pj.prototype);function Sj(){Pj.call(this)}Sj.prototype=Object.create(Pj.prototype);function Tj(){this.Ss=[]}Tj.prototype.update=function(a){this.Ss.push(a)};Tj.prototype.serialize=function(){if(0==this.Ss.length)return null;var a=this.Ss.reduce(function(a,c){a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.Ho+=c;a.count++;return a},{min:Infinity,max:-Infinity,count:0,Ho:0});return{min:a.min,max:a.max,sum:a.Ho,count:a.count,mean:a.Ho/a.count}};function Uj(a){this.T=a;this.path="/documents"}f=Uj.prototype;f.duplicate=function(a){return we(this.T,this.path+"?duplicate\x3d"+encodeURIComponent(a.F()),a).get(0).then(Vj)};f.move=function(a,b,c){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.lj=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Jj=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.Bp=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.Dp=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.Rl=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.Tl=function(a){return we(this.T,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.hg=function(a){a=[this.path,null!=a.doc?"/"+encodeURIComponent(a.doc):"",a.excludePages?"?excludePages":""].join("");return ze(this.T,a).get(0).then(Wj)};
function Xj(a,b){var c=[a.path+"?",null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"",null!=b.designType?"\x26designType\x3d"+encodeURIComponent(b.designType):"",b.excludeApiDocuments?"\x26excludeApiDocuments":"",b.excludeEmpty?"\x26excludeEmpty":"",null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"",null!=b.principal?"\x26brand\x3d"+encodeURIComponent(b.principal.brand):"",null!=b.principal?"\x26user\x3d"+
encodeURIComponent(b.principal.user):"",null!=b.principalRole?"\x26principalRole\x3d"+encodeURIComponent(b.principalRole):"",b["public"]?"\x26public":"",b.published?"\x26published":"",null!=b.withoutTags?"\x26withoutTags\x3d"+encodeURIComponent(b.withoutTags):""].join("").replace("?\x26","?");return ze(a.T,c).spread(function(a){return{documents:Yj(a.documents),continuation:a.continuation}})}f.search=function(a){a=this.path+"/search?"+a.wd();return ze(this.T,a).get(0).then(Zj)};
function ak(a){var b=va;return ze(b.T,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(bk)};function ck(){this.remix=this.edit=this.view=this["default"]=null}function dk(a){var b=new ck;a&&$.extend(b,a);return b}function ek(){}function Vj(a){return Object.freeze(G(ek,a))}ek.prototype.hg=function(){return fk(this.document)};ek.prototype.getSession=function(){return this.session};ek.prototype.zb=function(){if(this.type)return cj(this.type)};function gk(){}function hk(a){var b=new gk;b.doc=a;return b}function ik(){}function Wj(a){return Object.freeze(G(ik,a))}ik.prototype.hg=function(){return fk(this.document)};
function jk(){}jk.prototype.Wo=function(a){this.ids=a.slice(0);return this};function kk(){var a=new jk;a.excludeApiDocuments=!0;a.excludeEmpty=!0;return a}jk.prototype.Yl=function(a,b){this.continuation=a;this.limit=b;return this};function lk(a,b,c){a.principal={user:b,brand:c};a.principalRole="OWNER";return a}function mk(){}mk.prototype.Mb=function(){return this.thumbnail};
function nk(a){if(!a)return null;a=$.extend(new mk,a);a.thumbnail&&(a.thumbnail=ok(a.thumbnail));a.preview&&(a.preview=ok(a.preview));return a}function pk(){}pk.prototype.C=function(){return this.height};pk.prototype.Vq=function(){return this.images};pk.prototype.V=function(){return this.version};pk.prototype.A=function(){return this.width};function ok(a){if(!a)return null;a=$.extend(new pk,a);if(a.images){var b;b=(b=a.images)?b.map(qk):null;a.images=b}return a}function rk(){}rk.prototype.U=function(){return this.page};
rk.prototype.aa=function(){return this.url};function qk(a){return a?$.extend(new rk,a):null}function sk(){}sk.prototype.F=function(){return this.id};sk.prototype.V=function(){return this.version};sk.prototype.Vq=function(){return this.images};function tk(a){a=G(sk,a);var b=a.images;if(b)for(var c in b)b[c]=uk(b[c]);return a}function bk(a){return a.map(tk)}function vk(){}function Zj(a){return Object.freeze(G(vk,a))}vk.prototype.kn=function(){return this.results?this.results.map(wk):[]};
function xk(){}function wk(a){return Object.freeze(G(xk,a))}xk.prototype.Ka=function(){return this.title};xk.prototype.Lv=function(){return this.layout};xk.prototype.F=function(){return this.id};xk.prototype.Mb=function(){return uk(this.thumbnail)};function yk(){}f=yk.prototype;f.yk=function(){return this.extensions};f.F=function(){return this._id};f.nf=function(){return this.draft};f.U=function(a){try{return this.nf().content.pages[a]}catch(b){}};
f.pf=function(){var a,b,c=0,d;if(a=this.draft){var e=a.imageSets;if("preview"in e)for(b=e.preview.images,a=0;a<b.length;a++)d=b[a].page,d>c&&(c=d);if("thumbnail"in e)for(b=e.thumbnail.images,a=0;a<b.length;a++)d=b[a].page,d>c&&(c=d)}return c};function zk(a){return ok(a.draft.imageSets.thumbnail)}f.Sv=function(){var a=this.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.height:0};
function Ak(a,b){var c=a.draft;if(c&&c.imageSets&&c.imageSets.thumbnail)for(var c=c.imageSets.thumbnail.images,d=0;d<c.length;d++)if(c[d].page==b+1)return c[d].url;return null}f.Tv=function(){var a=this.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.width:0};f.Ka=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.V=function(){var a=this.draft;return a?a.version:-1};
f.kh=function(a,b){return this.acl?this.acl.rules.some(function(c){return c.role==Bk&&c.principal.brand==b.F()&&c.principal.user==a.F()}):!1};var Bk="OWNER";function fk(a){var b=new yk;$.extend(b,a);b.extensions=dk(a.extensions);return b}function Yj(a){return a.map(function(a){return fk(a)})};function Ck(a,b,c,d){this.yb=a;this.T=b;this.context=c;this.Hg=null;this.Ft=d;this.Ni=!1;this.Ik=this.sx=this.Zh=this.hj=this.Sf=null}f=Ck.prototype;f.start=function(){null!=this.context.id&&(Dk(this,6666),Ek(this))};function Dk(a,b){b!=a.Zh&&(null!=a.Sf&&window.clearInterval(a.Sf),a.Zh=b,a.Sf=null!=b?window.setInterval(function(){a.save()},b):null)}function Ek(a){6E5!=a.sx&&(null!=a.hj&&window.clearInterval(a.hj),a.sx=6E5,a.hj=window.setInterval(function(){a.sync()},6E5))}
f.save=function(){this.context.Ie()&&this.sync()};f.sync=function(){function a(a){var e=b.Zh;a=a.throttle;if(b.Hg==c){b.Hg=null;var g=e;!0===a?g=Math.min(2*b.Zh,6E5):!1===a&&(g=Math.max(b.Zh-1E3,6666));g!=b.Zh&&Dk(b,g)}return e}if(this.Ni&&null!=this.context.id&&!this.Hg){var b=this,c=new Fk(b.T,b.context);b.Hg=c;b.Hg.sync().then(a).then(b.Ft.update.bind(b.Ft))}};
f.close=function(){this.Ni=!1;this.Hg&&(this.Hg.stop(),this.Hg=null);this.Sf&&(window.clearInterval(this.Sf),this.Sf=null);this.hj&&(window.clearInterval(this.hj),this.hj=null)};f.kt=function(a){this.context.kt(a)};f.post=function(a,b){var c;c=this.context;var d=null;3!=c.ic&&(c.oe!=a?(c.ic=3,c.state=null):(c.ic=0,c.state=b,c.oe++,d=c.oe));Hk(c);c=d;null!=c&&(this.Ik=b);return c};f.Vi=function(a){this.Ik||(this.Ik=a)};function Ik(a,b){return!(!a.Ik||_.isEqual(a.Ik,b))}
f.lj=function(a){var b=this.context.F();if(this.context.Ie())return P.reject(new Rj);if(!this.context.Ld())return P.reject(new Qj);if(!b)return P.reject(new Sj);switch(a){case "BRAND":return this.yb.Bp(b);case "GLOBAL":return this.yb.lj(b)}return P.reject(new Pj)};f.Jj=function(a){var b=this.context.F();if(!b)return P.reject(new Sj);switch(a){case "BRAND":return this.yb.Dp(b);case "GLOBAL":return this.yb.Jj(b)}return P.reject(new Pj)};
f.Rl=function(){var a=this.context.F();return a?this.yb.Rl(a):P.reject(Error("synced context has no id"))};f.Tl=function(){var a=this.context.F();return a?this.yb.Tl(a):P.reject(Error("synced context has no id"))};f.Ea=function(){return this.context.F()};function Jk(a){return a.context.yk()["default"]}function Kk(){return u.context.yk().edit}f.timestamp=function(){return this.context.Uv()};f.version=function(){return this.context.oe};f.Yb=function(){return this.context.Yb};f.Ie=function(){return this.context.Ie()};
f.Oi=function(){return this.context.Oi()};f.state=function(){return this.context.Ld()};function Lk(a,b,c,d,e,g,h,k,l){this.id=a;this.oe=c;this.sm=d;this.Yb=e;this.Fl=g;this.state=k;this.Ew=null;this.timestamp=h;this.HB=l;this.Bw=this.ic=b;this.Jo=null}f=Lk.prototype;f.F=function(){return this.id};f.yk=function(){return this.HB};f.Uv=function(){return this.timestamp};f.Ie=function(){return 0==this.ic||1==this.ic};f.Oi=function(){return 3!=this.ic};f.Ld=function(){return this.state};
f.kt=function(a){if(this.Jo)throw Error("Cannot overwrite DocumentContext sync listener");this.Jo=a};function Mk(a,b,c){b==a.oe&&c==a.Yb&&0==a.ic&&(a.ic=1,Hk(a))}function Nk(a,b,c){3!=a.ic&&a.Yb==b&&(b=c.document.draft,b.version<=a.Yb||(a.timestamp=b.timestamp,a.Yb=b.version,a.Fl=b.session,a.Fl!=a.sm&&(a.oe++,a.ic=3,a.state=null),Hk(a)))}function Ok(a,b,c,d,e){3!=a.ic&&(e=e.document.draft,a.Yb==d&&(a.Ew=b,a.oe==c&&(a.ic=2),a.timestamp=e.timestamp,a.Yb=e.version,a.Fl=e.session,Hk(a)))}
function Pk(a,b,c,d){3==a.ic||a.Yb>c||(a.timestamp=d.timestamp,a.Yb=d.version,a.Fl=d.session,a.Fl!=a.sm?(a.oe++,a.ic=3,a.state=null):a.oe==b&&(a.ic=2),Hk(a))}function Hk(a){a.ic!=a.Bw&&null!=a.id&&(a.Bw=a.ic,a.Jo&&a.Jo(a.ic))}function Fk(a,b){this.T=a;this.context=b;this.Ig=this.request=this.Bb=null}function Qk(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}
Fk.prototype.stop=function(){this.Bb=null;this.request&&(this.request.cancel(),this.request=null);null!=this.Ig&&(window.clearTimeout(this.Ig),this.Ig=null)};Fk.prototype.sync=function(){if(this.Bb)throw Error("already syncing");return new P(function(a){this.Bb=a;Rk(this,Qk(null))}.bind(this))};Fk.prototype.finish=function(a,b){var c=this.Bb;c&&(this.Bb=null,c({success:a,throttle:b}))};
function Sk(a,b){var c=null,d=!1,e=b;if(null!=a){var g=_.extend({},a),h=_.extend({},b),k=[],l;for(l in h)h.hasOwnProperty(l)&&"pages"!=l&&(_.isEqual(h[l],g[l])||k.push(l));g=g.pages;h=h.pages;if(g&&h){l=g.length==h.length;var m=!_.isEqual(g,h);if(0==k.length&&l&&m){for(k=0;k<g.length;k++)if(!_.isEqual(g[k],h[k]))if(null==c)c=k;else{c=null;break}null!=c&&(e=h[c])}else m||1!=k.length||"title"!=k[0]||(e={title:b.title},d=!0)}}return{xH:d,nx:c,DF:e}}
function Rk(a,b){function c(c,e){window.clearTimeout(a.Ig);a.request=null;a.Ig=null;var g=e&&null!=e.throttle?!!e.throttle:null,l=!1;n&&200==c?Ok(d,m,h,k,e):n&&409==c?Pk(d,h,k,e):n||200!=c?0!=c&&(l=!0):Nk(d,k,e);l?a.Ig=window.setTimeout(function(){Rk(a,Qk(b))},b):a.finish(200==c,g)}var d=a.context,e=d.F(),g=d.sm,h=d.oe,k=d.Yb,l,m=d.Ld(),n=d.Ie();if(n&&m)l=Sk(d.Ew,m),e="/documents"+(null==e?"":"/"+encodeURIComponent(e)+"/content"),l.xH?e+="/title":null!=l.nx&&(e+="/pages/"+l.nx),e+="?version\x3d"+
encodeURIComponent(k.toString())+(null==g?"":"\x26session\x3d"+encodeURIComponent(g.toString()));else{if(null==e)return;e="/documents/"+encodeURIComponent(e)+(null==g?"":"?session\x3d"+encodeURIComponent(g.toString()))}a.Ig=window.setTimeout(function(){var c=a.Bb;a.Bb=null;a.request&&a.request.cancel();a.request=null;a.Ig=null;a.Bb=c;Rk(a,Qk(b))},b);n?(a.request=a.T.post(e,l.DF,null,c),Mk(d,h,k)):a.request=a.T.get(e,c)};function Tk(a){this.T=a;this.url="/doctypes"}Tk.prototype.createDocumentType=function(a){return we(this.T,this.url,a).get(0).then(Uk)};function Vk(a,b){var c=a.url+"?"+b.wd();return ze(a.T,c).get(0).then(Wk)}Tk.prototype.za=function(a){return ze(this.T,this.url+"/"+encodeURIComponent(a.F())).get(0).then(Xk)};function Yk(){}Yk.prototype.A=function(){return this.width};Yk.prototype.C=function(){return this.height};function Zk(a,b,c){switch(c){case "PIXELS":return a+"px × "+b+"px";case "CENTIMETERS":return a+"cm × "+b+"cm";case "INCHES":return a+"in × "+b+"in";case "MILLIMETERS":return a+"mm × "+b+"mm";default:throw Error("Unknown units: "+c);}}Yk.prototype.print=function(){return Zk(this.A(),this.C(),this.units)};
function ae(a){var b;switch(a.units){case "PIXELS":return a;case "CENTIMETERS":b=a.A()/2.54*96;a=a.C()/2.54*96;break;case "INCHES":b=96*a.A();a=96*a.C();break;case "MILLIMETERS":b=a.A()/25.4*96;a=a.C()/25.4*96;break;default:throw Error("Unknown units: "+a.units);}return Object.freeze(G(Yk,{units:"PIXELS",width:b,height:a}))}function $k(){}function cj(a){return Object.freeze(G($k,a))}$k.prototype.Mb=function(){if(this.thumbnail)return Object.freeze(G(al,this.thumbnail))};function al(){}
al.prototype.A=function(){return this.width};al.prototype.getKey=function(){return this.key};al.prototype.aa=function(){return this.url};al.prototype.C=function(){return this.height};function zj(a){return a.multiPage}function bl(){}f=$k.prototype;f.getName=function(){return this.name};f.F=function(){return this.id};f.ma=function(){return this.brand};f.sb=function(){return Object.freeze(G(Yk,this.dimensions))};
function cl(a,b){var c=Zk(a,b,"PIXELS");return cj({id:"custom",name:c,sentenceName:"design",dimensions:{width:a,height:b,units:"PIXELS"},visible:!1,order:0,multiPage:!0,showAsNew:!1,custom:{width:a,height:b,units:"PIXELS"},imageExportSettings:{dpi:96,filetype:"JPG",compression:null,jpqQuality:null,jpgTargetFilesizeKb:null},pdfExportSettings:{dpi:300}})}function dl(a){a=a.newPageElements;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}):[]}
function el(a){a=dl(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function fl(a){a=dl(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function gl(a){var b=dl(a),b=_.max(b.map(function(a){return a.top+a.height})),c=fl(a);return Math.max(ae(a.sb()).C(),b)-c}function hl(a){var b=dl(a),b=_.max(b.map(function(a){return a.left+a.width})),c=el(a);return Math.max(ae(a.sb()).A(),b)-c}f.fa=function(){var a=ae(this.sb());return new M(0,0,a.A(),a.C())};
f.Le=function(){var a;a=this.imageExportSettings?Object.freeze(G(bl,this.imageExportSettings)):void 0;var b=ae(this.sb());return{elements:this.newPageElements,width:b.A(),height:b.C(),dpi:a&&a.dpi}};function il(){}il.prototype.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};il.prototype.ke=function(a){this.id=a;return this};il.prototype.F=function(){return this.id};
function jl(){}function Xk(a){return Object.freeze(G(jl,a))}function kl(){}function Uk(a){return Object.freeze(G(kl,a))}kl.prototype.F=function(){return this.id};function ll(){}f=ll.prototype;f.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Rj=function(a){this.limit=a;return this};f.Qj=function(a){this.continuation=a;return this};f.Vc=function(){return this.limit};
f.bc=function(){return this.continuation};function ml(){}function Wk(a){return Object.freeze(G(ml,a))}function nl(a){if(a.docTypes)return a.docTypes.filter(function(a){return!!a}).map(function(a){return cj(a)})}ml.prototype.bc=function(){return this.continuation};function ol(a){this.T=a}function pl(a){return"0"==a.toString()?"0":/^2[0-9]{2}$/.test(a.toString())?"2xx":/^3[0-9]{2}$/.test(a.toString())?"3xx":/^4[0-9]{2}$/.test(a.toString())?"4xx":/^5[0-9]{2}$/.test(a.toString())?"5xx":"418"}function ql(a){this.cancel=a;this.Ui=[]}ql.prototype.cancel=function(){this.cancel&&this.cancel()};function rl(a,b){a.Ui.forEach(function(a){a.status!==b&&"*"!==a.status||a.handler(b)})}
ql.prototype.on=function(a,b){1===arguments.length?this.Ui.push({status:"*",handler:a}):this.Ui.push({status:a,handler:b})};ql.prototype.off=function(a,b){var c=[];this.Ui.forEach(function(d){d.status===a&&d.handler===b&&c.push(d)});var d=this;c.forEach(function(){var a=d.Ui.indexOf(c);d.Ui.splice(a,1)})};ol.prototype.vm=function(a,b,c){return this.T.post("/export",a,null,function(a,e){var g=new sl(pl(a));if(200==a){var h=tl(e["export"]);b&&(g=g.ke(h.F()),g.$g=h,b(g))}else c&&c(g)})};
ol.prototype.zc=function(a,b,c){return this.T.get("/export/"+encodeURIComponent(a.F().toString())+"?attachment\x3d"+encodeURIComponent(a.attachment+""),function(d,e){var g=(new sl(pl(d))).ke(a.F());if(200==d){var h=tl(e["export"]);g.$g=h;var h=g.zc().ub(),k=[];"COMPLETE"==h?(k=ul(g.zc().Ck()),0<k.length&&(h=k[0].aa(),g.url=h)):"FAILED"==h?g.message=e.error:"CANCELLED"==h&&(g.message="The export job was cancelled");b&&b(g)}else c&&c(g)})};
ol.prototype.gi=function(a,b,c){function d(a){var d=a&&a.zc()?a.zc().ub():"FAILED";h(d);if(d=a.$g)d=a.$g.ub(),d="COMPLETE"==d||"FAILED"==d||"CANCELLED"==d;d&&(g(),r=!0);a.uf()&&b&&b(a);var e;(e=a.$g.ub())&&("FAILED"==e||"CANCELLED"==e)&&c&&c(a.jo)}function e(a){var b=a&&a.zc()?a.zc().ub():"FAILED";h(b);a.jo&&"0"==a.jo||(r=!1)}function g(){n&&window.clearTimeout(n);q&&window.clearTimeout(q)}function h(a){a!==y&&rl(v,a);y=a}var k=this,l,m,n,q,r=!1,p=vl(a),v=new ql(function(){g();l&&l.cancel();m&&m.cancel();
r=!0}),w=1E3,y;(function(){g();l=k.vm(p,function(a){function b(){g();n=window.setTimeout(function(){var c=new wl(a.zc().F());m=k.zc(c,d,e);r||(w=Math.min(3E4,1.6*w),b())},w)}b();var c=a&&a.zc()?a.zc().ub():"FAILED";h(c)},function(a){var b=a&&a.zc()?a.zc().ub():"FAILED";h(b);g();c&&c(a.jo)})})();return v};function xl(){}xl.prototype.F=function(){return this.id};xl.prototype.Ck=function(){return this.output};xl.prototype.ub=function(){return this.status};xl.prototype.Zq=function(){return this.spec};
function tl(a){if(!a)return null;a=$.extend(new xl,a);if(a.output){var b;if(b=a.output){if(b=$.extend(new yl,b),b.exportBlobs){var c;c=(c=b.exportBlobs)?c.map(zl):null;b.exportBlobs=c}}else b=null;a.output=b}a.spec&&(b=(b=a.spec)?$.extend(new Al,b):null,a.spec=b);return a}function Bl(){}Bl.prototype.getKey=function(){return this.key};Bl.prototype.U=function(){return this.page};Bl.prototype.aa=function(){return this.url};function zl(a){return a?$.extend(new Bl,a):null}function yl(){}
function ul(a){return a.exportBlobs}yl.prototype.getFileName=function(){return this.fileName};yl.prototype.C=function(){return this.height};yl.prototype.A=function(){return this.width};function Al(){}function Cl(a,b){a.mediaDpi=b;return a}Al.prototype.Vo=function(a){this.format=a;return this};function Dl(a){return a.Vo("PNG")}Al.prototype.Jv=function(){return this.format};function El(a,b){a.mediaQuality=b;return a}function Fl(a){return El(a,"SCREEN")}Al.prototype.Tj=function(a){this.type=a;return this};
function Gl(){this.attachment=!0}function vl(a){var b=new Gl,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function Hl(a,b){a.docId=b;return a}function Il(a,b){a.docVersion=b;return a}function Jl(a,b){a.spec=b;return a}Gl.prototype.Zq=function(){return this.spec};Gl.prototype.validate=function(){if(void 0===this.docId||null===this.docId||void 0===this.spec||null===this.spec||!this.spec.validate())throw Error("Invalid create export request");};function wl(a){this.id=a;this.attachment=!0}
wl.prototype.F=function(){return this.id};wl.prototype.validate=function(){if(void 0!==this.id&&null!==this.id)throw Error("Invalid get export request");};function sl(a){this.jo=a}f=sl.prototype;f.zc=function(){return this.$g};f.ke=function(a){this.id=a;return this};f.F=function(){return this.id};f.aa=function(){return this.url};f.uf=function(){return this.$g&&"COMPLETE"==this.$g.ub()};function Kl(a){this.T=a;this.path="/profile"}Kl.prototype.hb=P.method(function(a){return ze(this.T,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Ll)});function Ml(a){return ze(a.T,a.path+"/user/uiinfo").get(0)}function Nl(a,b){Ml(a).then(function(a){if(!0===a[b])return a;a[b]=!0;return we(this.T,this.path+"/user/uiinfo",a).get(0)}.bind(a))}Kl.prototype.ma=function(a){return ze(this.T,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Ol)};
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ma())+"/invitations";return we(this.T,b,a).spread(Pl)});P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ma())+"/invitations?"+(null!=a.bc()?"\x26continuation\x3d"+encodeURIComponent(a.bc()):"")+(null!=a.Vc()?"\x26limit\x3d"+encodeURIComponent(a.Vc()):"")+(a.Tq()?"\x26countOnly\x3d"+encodeURIComponent(a.Tq()):"");return ze(this.T,a).spread(Ql)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ma())+"/invitations?update\x3dtrue";return we(this.T,b,a).spread(Rl)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ma())+"/members?"+(a.VB()?"\x26includeAvatars\x3d"+encodeURIComponent(a.VB()):"")+(a.WB()?"\x26includeEmails\x3d"+encodeURIComponent(a.WB()):"")+(a.Tq()?"\x26countOnly\x3d"+encodeURIComponent(a.Tq()):"")+(null!=a.bc()?"\x26continuation\x3d"+encodeURIComponent(a.bc()):"")+(null!=a.Vc()?"\x26limit\x3d"+encodeURIComponent(a.Vc()):"");return ze(this.T,a).spread(Sl)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ma())+"/members";return we(this.T,b,a).spread(Tl)});function Ul(){}function Vl(a){return Object.freeze(G(Ul,a))}Ul.prototype.clone=function(){return Vl(JSON.parse(JSON.stringify(this)))};Ul.prototype.equals=function(a){function b(a){for(var d in a){var e=a[d];null===e?delete a[d]:e instanceof Object&&b(e)}return a}return _.isEqual(b(JSON.parse(JSON.stringify(this))),b(JSON.parse(JSON.stringify(a))))};function Wl(){}function gi(a){return Object.freeze(G(Wl,a))}Wl.prototype.lf=function(){if(this.colors)return this.colors.filter(Boolean).map(Xl)};
Wl.prototype.getName=function(){return this.name};function Yl(a){if(a.textStylePalettes)return a.textStylePalettes.filter(Boolean).map(Zl)}function $l(){}function Zl(a){return Object.freeze(G($l,a))}$l.prototype.getName=function(){return this.name};function am(a){if(a.textStyles)return a.textStyles.filter(Boolean).map(bm)}function cm(){}function bm(a){return Object.freeze(G(cm,a))}function dm(a){if(a.font)return Object.freeze(G(em,a.font))}cm.prototype.getName=function(){return this.name};
function em(){}em.prototype.vi=function(){return this.bold};function fm(a){return a.family}em.prototype.zi=function(){return this.italic};em.prototype.Ei=function(){return this.size};em.prototype.Qa=function(){return this.media};Ul.prototype.Xd=function(){if(this.brandColor)return Xl(this.brandColor)};function gm(){}function Xl(a){return Object.freeze(G(gm,a))}function fi(a){return a.hexString}gm.prototype.getName=function(){return this.name};
function hm(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.contributor=this.personal=!1;this.brandColor=null}hm.prototype.F=function(){return this.id};hm.prototype.mc=function(){return this.displayName};hm.prototype.Xd=function(){return this.brandColor};function Ol(a){if(!a)return null;var b=G(hm,a);a.brandKit&&(b.brandKit=Vl(a.brandKit));return b}
function im(){this.id="UNKNOWN_USER_ID";this.displayName=this.personalBrand=this.username="";this.avatar=this.headerDesign=this.countryCode=this.city=this.homepage=null;this.roles=[];this.deactivated=!1}im.prototype.F=function(){return this.id};im.prototype.ln=function(){return this.username};im.prototype.mc=function(){return this.displayName};function Ll(a){if(!a)return null;a=G(im,a);a.avatar&&(a.avatar=jm(a.avatar));return a}function km(){this.version=0;this.sizes={}}km.prototype.V=function(){return this.version};
function jm(a){if(!a)return null;a=G(km,a);var b;var c=a.sizes,d={};if(c){for(b in c){var e=b,g;g=(g=c[b])?G(lm,g):null;d[e]=g}b=d}else b=null;a.sizes=b;return a}function lm(){this.height=this.width=this.size=0;this.url=""}lm.prototype.Ei=function(){return this.size};lm.prototype.A=function(){return this.width};lm.prototype.C=function(){return this.height};lm.prototype.aa=function(){return this.url};
var mm=jm({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function nm(){}function Pl(a){return Object.freeze(G(nm,a))}function om(){}om.prototype.bc=function(){return this.continuation};function Ql(a){return Object.freeze(G(om,a))}function pm(){}pm.prototype.bc=function(){return this.continuation};function Sl(a){return Object.freeze(G(pm,a))}function qm(){}
qm.prototype.ma=function(){return this.brand};function Tl(a){return Object.freeze(G(qm,a))}function rm(){}function Rl(a){return Object.freeze(G(rm,a))};function sm(a){this.T=a;this.path="/social"}sm.prototype.createComment=function(a){return we(this.T,this.path+"/comments/"+encodeURIComponent(a.SI()),a).get(0).then(tm)};function um(a,b){var c=a.path+"/documents/"+encodeURIComponent(b.Ea())+"/emails";return we(a.T,c,b).return()};function vm(){}vm.prototype.F=function(){return this.id};vm.prototype.mf=function(){return this.content};function wm(){}function tm(a){return Object.freeze(G(wm,a))}wm.prototype.F=function(){return this.id};function xm(){}function ym(a,b){a.documentId=b;return a}xm.prototype.Ea=function(){return this.documentId};function zm(a,b){a.mode=b;return a}function Am(a,b){a.extension=b;return a}function Bm(a,b){a.emails=b;return a}function Cm(a,b){a.utmSource=b;return a};function Dm(){}function Em(){var a=G(Dm,window.clientInfo),b;b=G(Fm,a.brandInfo);b.brand=Ol(b.brand);b.brandKit&&(b.brandKit=Vl(b.brandKit));b.subscription&&(b.subscription=Ag(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=G(Gm,a.user);b.avatar=jm(b.avatar);b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Hm(a){return a.brandInfo}function Fm(){}Fm.prototype.ma=function(){return this.brand};function Im(a){return a.brandKit||null}
Fm.prototype.getSubscription=function(){return this.subscription||null};function Gm(){}f=Gm.prototype;f.F=function(){return this.id};f.Iv=function(){return this.email};f.ln=function(){return this.username};f.mc=function(){return this.displayName};f.cn=function(){return this.locale};function Jm(){}Jm=Backbone.View.extend();Jm.prototype.initialize=function(a){a=_.defaults({},a,{dk:!0,content:$(),vj:!0,wj:!0});this.la=a.la;this.dk=!!a.dk;this.content=a.content;this.pc=new Km({style:this.dn(),la:this.la});this.listenTo(this.pc,"maskClick",this.blur);this.result=1;this.vj=!!a.vj;this.Yc=!!a.Yc;this.wj=!!a.wj;this.title=a.wj?a.title:""};Jm.iz=300;f=Jm.prototype;f.blur=function(){this.dk&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(){this.result=3;this.remove()};f.events=function(){return{"click .close":this.Vw,"click .dialogMaskCloseButton":this.Vw,"click button.done":this.ok}};f.dn=function(){return Lm};f.ok=function(){this.result=2;this.remove()};f.Vw=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.pc.hide();this.trigger("hide",this.result);this.la.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},Jm.iz);return this};f.render=function(){this.$el.html(this.template(this.Ra()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);this.$(".dialog").toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);return this};
f.Ra=function(){return{showCloseButton:this.vj,showDialogMaskCloseButton:this.Yc,showTitle:this.wj,title:this.title}};function Mm(a,b){a.$("h2").text(b);a.title=b}f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.pc.show(this.$el);this.trigger("show",this);yf(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};
f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function Nm(){}Nm=Jm.extend({className:"fontUploadDialog"});Nm.create=function(){return new Nm({})};f=Nm.prototype;f.events=function(){return _.extend(Jm.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.uD,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.Xz})};f.initialize=function(){Jm.prototype.initialize.call(this,{la:xf,vj:!0,dk:!0,Yc:!1});this.error=null;this.Oq="the font you are uploading.";this.opentype=opentype;this.progress=!1};
f.render=function(){Jm.prototype.render.call(this);Om(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.bD.bind(this));return this};
f.bD=function(){var a={message:"Your font file could not be read. Try a different font. If this problem persists, contact support."},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.Zm=b[0],this.Oq=this.Zm.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Oq=b.names.fullName.en):this.error=a}catch(e){this.error=
a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.Zm);return}}else this.error={message:"Are you sure that is a font? Please check the file and try again."};this.show()};
f.uD=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html("Please wait while the font is uploaded to your brand kit. It will be ready in a jiffy."),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3eUploading\x26hellip;\x3c/span\x3e'),this.Zm&&this.trigger("fontUpload",this.Zm)):Pm(this)};
function Pm(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.qt=function(a){this.error=a;Om(this)};function Om(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.NA({canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.XI:null,supportTitle:null!=a.error?a.error.WI:"fonts",fontName:a.Oq,progress:a.progress||!1}))}
f.Xz=function(){this.trigger("fontUploadCancel");this.cancel()};f.NA=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3eSorry, something went wrong\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3ePlease see the support article on \x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e for more info.\x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3eOK\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3eBefore you upload, please confirm the following:\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3eFont name\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3eYou must confirm this before uploading.\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3eI own this font or have the right to use it for my intended purpose.\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3eYes. Upload away!\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3eCancel the upload.\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function Qm(){}Qm=Backbone.View.extend({className:"multipageDialog"});f=Qm.prototype;f.initialize=function(a){this.la=xf;this.Ib=0;this.Jq=a.Jq||[];this.pe=void 0===a.pe||a.pe;this.Yc=!!a.Yc;this.pc=new Km({la:this.la,style:Lm});this.S=a.S;this.S.forEach(function(a){this.listenTo(a,"next",this.RG);this.listenTo(a,"back",this.SG)},this)};f.events=function(){return{click:this.zf,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.pc.hide();this.la.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.zf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.pe&&this.hide()};
f.render=function(){var a=this;(function(){a.Jq.forEach(function(b){a.$el.addClass(b)})})();(function(){a.S.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Yc&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.S.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();Rm(this,this.Ib);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.pc.show(this.render().$el);this.la.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.RG=function(){var a=this.Ib+1;a>=this.S.length?this.hide():Rm(this,a)};f.SG=function(){var a=this.Ib-1;0>a?this.hide():Rm(this,a)};
function Rm(a,b){a.trigger("pageChange",a.S[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Ib=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function Sm(){}Sm=Jm.extend();Sm.prototype.initialize=function(a){Jm.prototype.initialize.call(this,_.extend(a,{la:xf}))};Sm.prototype.render=function(){Jm.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e');return this};var oj="top",Tm={sI:"left",tI:"leftTop",GI:oj,HI:"topLeft",AI:"rightTop"};function X(){}X=Jm.extend();f=X.prototype;f.initialize=function(a){Jm.prototype.initialize.call(this,_.extend(a,{la:xf}));this.Db=a.Db||"Done";this.pt=void 0!==a.pt?a.pt:!0;this.Wj=null;this.Ax=a.position instanceof Array?a.position:[a.position||oj];this.position=null;this.Md=_.defaults({},a.Md,{left:0,top:0});this.Xn=a.Xn||!1;this.on("hide",this.Tu);this.keydown=this.keydown.bind(this)};
f.SF=function(){$(document).off("keydown",this.keydown)};f.dn=function(){return Um};f.getCurrentPosition=function(){return this.position};f.render=function(){Jm.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.Xn?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.pt&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Db+"\x3c/button\x3e\x3c/p\x3e");return this};
f.ee=function(a){if(!this.Wj){var b=_.debounce(this.Kj.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.SF);Vm(this,a);this.Kj();return this};function Wm(){this.rs=this.Re=this.dialogLeft=this.dialogTop=null}
f.Kj=function(){for(var a,b,c=0;c<this.Ax.length;c++){a=b=this.Ax[c];var d=this.Xn?7:19,e=this.Xn?20:40,g=this.Wj,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),g=g.outerHeight(),m=this.$(".dialog").outerHeight(),n=this.$(".dialog").outerWidth(),q=this.$el.width(),r=new Wm,p=Math.round(h.left+l/2-n/2),v=void 0;switch(a){case oj:r.dialogLeft=p+n+30>q?q-n-30:p;r.dialogLeft+=this.Md.left;r.dialogTop=Math.round(k)+g+d+this.Md.top;v=p-r.dialogLeft;r.Re="calc(50% - 8.5px + "+v+"px)";break;
case "topLeft":r.dialogLeft=h.left+n+30>q?q-n-30:h.left;r.dialogLeft+=this.Md.left;r.dialogTop=Math.round(k)+g+d+this.Md.top;r.Re=r.dialogLeft+d;break;case "left":r.dialogLeft=h.left+l+this.Md.left;r.dialogTop=k-m/2+d+this.Md.top;break;case "leftTop":r.dialogLeft=h.left+l+this.Md.left+d;r.dialogTop=k+g/2-e+this.Md.top;10>r.dialogTop&&(r.rs=r.dialogTop-10,r.dialogTop=10);break;case "rightTop":r.dialogLeft=h.left-n+this.Md.left-d,r.dialogTop=k+g/2-e+this.Md.top,10>r.dialogTop&&(r.rs=r.dialogTop-10,
r.dialogTop=10)}d=a=r;e=this.$(".dialog");if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Tm).join(" ")).addClass(b);c.css("left",a.Re||"");c.css("margin-top",a.rs||"");return this};function Vm(a,b){a.Tu();a.Wj=b;b.addClass("on");b.blur()}f.Tu=function(){this.Wj&&this.Wj.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function nj(a){db&&$("html").addClass("isMac");$("#content").addClass("preparing");Xm();window.setTimeout(function(){Ym(a.content,a.Pc,a.ag,a.B,a.Dz,a.vH);Zm();$m({lb:a.lb,B:a.B});an(a);$("#zoomIn").on("click",bn);$("#zoomOut").on("click",cn);dn(a.B);a.wB&&en();fn();a.xv&&a.xv();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(gn)},600),window.setTimeout(function(){hn()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},
600)},20)}function gn(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(gn);else $(a).one("animationend",hn)}function hn(){$("#content").removeClass("preparing").addClass("on");window.setTimeout(function(){if(!(new qe(window.viewConfig)).ae()){var a=hf(),b=new Kl(a),a=new jn(a),c=ed();kn(new ln(c,I,b,a))}},1E3);$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function Xm(){Ia=Ha=Ga=0;var a=mn("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Ia=parseInt(a[b].style.marginTop,10),Ga=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Ha=parseInt(a[b].style.width,10)),Ha&&Ga&&Ia);b++);}function mn(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function fn(){if(!nn&&!on){var a=$("#objectPanel");pn();var b=$(".layer",a).eq(0).width(),c=Math.ceil(b/110),d=Math.ceil(b/180),b=Math.ceil(b/145),e=mn("objectPanelStylesheet");null!=e&&(e[0].style.width=Math.round(100/c*10)/10+"%",e[1].style.width=Math.round(100/d*10)/10+"%",e[2].style.width=Math.round(100/b*10)/10+"%");qn();window.setTimeout(function(){a.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){rn($(this),!0)})},20);$("#canvaDocument").nextAll(".hScrollTrack").andSelf().css("left",
$("#objectPanel").outerWidth(!0));sn==O&&Ja&&Ja.Mq()}}function tn(a){return u.Oi()?u.Ie()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);H.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||1500);H.on("session:sync",d);u.save()}):P.resolve():P.reject()};function un(a){this.T=a.T;this.es=a.es;this.Fd=a.Fd;this.na=a.na;this.zq=a.zq;this.Jt=a.Jt;this.zp=a.zp;this.uq=a.uq}
un.prototype.kG=function(){if(!this.zq&&this.na&&this.na.Oi()&&!$("#savingError").hasClass("on")){if(0<this.Jt.Hj.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.na.Ie())return this.na.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=t;if(a&&Ik(this.na,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.na.close();this.zp||mf(this.T,"/session/editor/"+encodeURIComponent(this.Fd)+"?close",this.uq,{docId:this.Fd,session:this.na.context.sm,durationSecs:Math.floor((Date.now()-this.es)/1E3)})}};var Nj="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function vn(a){a=a.children(".inner").get(0);a=wn(a);for(var b=window.getSelection(),c=a.filter(function(a){return xn(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=yn(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function yn(a,b){if(a==b)return!0;var c=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," "),d=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return c==d}function zn(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function An(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return Bn(b,a)?b.toString().length:-1}function Cn(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return Bn(b,a)?b.isCollapsed:!0}
function Bn(a,b){if(!b)return!1;var c=a.getRangeAt(0),d=c.startContainer,c=c.endContainer;if(!d||!c)return!1;var d=3==d.nodeType||4==d.nodeType?Dn(d):d,e=3==c.nodeType||4==c.nodeType?Dn(c):c,c=!(b!=d&&b!=e),d=!(!b.contains(d)&&!b.contains(e));return c||d}function En(a,b){var c=a.Fa(b).children(".inner");Fn(c);Gn(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");Hn(a,b)}
function Hn(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.dc(b),e=a.Fa(b).children(".inner").contents(),g=e,h=!1;c(e);)In(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.Kh(b,d))}
function In(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=R(b.style.color);b.color&&(e=R(b.color));e&&(a.color=e.Z());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(d=Jn(e))&&(a.fontFamily=d)}function Kn(a){var b=[],c=[],d=a.children(".inner").get(0);wn(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=Ln(Dn(d),a),Array.prototype.push.apply(b,d.Wd),Array.prototype.push.apply(c,d.Tc))});return{Wd:b,Tc:c}}function Mn(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}function Nn(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function On(a){function b(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"!==a&&"script"!==a&&"style"!==a){var c=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===c.length&&c[0].nodeType===Node.TEXT_NODE&&1===c[0].data.length)return;c.replaceAll(this)}}c.each(b)}}else this.nodeType===Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");
b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var c=String(a.data("fontFamily"));z&&Pn(c)||a.children(".inner").each(b)}function Qn(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var Rn=!1;
function Sn(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}On(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0";if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);document.body.contains(a[0])||
(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var l=0,m=-1,n=0,q=0,r=0;b.forEach(function(a){var b=l,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=m&&Nn(g[m],g[h])&&
d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),m=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>n&&(n=a,q=h,r=k)));l=e}});k=e[0].offsetWidth;if(n>k){var p=Mn(g.slice(q,r+1)).length,k=(k-n)/p,p=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),v=Math.max(h-1E3/12,1E3*k/p),w=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.by(w,v)})}d.forEach(function(a){a()});Rn=!0;Tn(a);Rn=!1}}
function Un(a,b){if(!Rn){Qn(a,b);a.removeData("cachedLineLengths");var c=a.children(".inner");c.hasClass("explicitLineBreaksLayoutMode")&&(c.removeClass("explicitLineBreaksLayoutMode"),c.find(".implicitLineBreak").remove(),c.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),Tn(a))}}
function Fn(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function Gn(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}
function Vn(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);Cn(a)?1==e.rangeCount&&b(g)&&(g=e.getRangeAt(0).startContainer,g=Ln(Dn(g),a),c=c.concat(g.Wd),d=d.concat(g.Tc)):wn(g).filter(function(a){return xn(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=Ln(Dn(b),a);c=c.concat(b.Wd);d=
d.concat(b.Tc)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{Wd:c,Tc:d}}
function Ln(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName"),l=b.data("fill");if(a==h||a==c)c=k,d=R(l),c&&e.push(c),d&&g.push(d.Z());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=R($(a).css("color")||a.getAttribute("color")))&&g.push(d.Z())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&l&&g.push(l)}return{Wd:e,Tc:g}}
function wn(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(wn(d))}return b}function Dn(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function xn(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function Wn(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function Xn(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return Wn(b).filter(function(a){return null!==Yn(z,a)})}function Zn(a,b){b?this.Fa(a).data("fontMedia",{id:b.F(),version:b.V()}):this.Fa(a).removeData("fontMedia")}function $n(a,b){function c(a){return{id:a.F(),version:a.V()}}b&&0<b.length?this.Fa(a).data("htmlFontMedia",b.map(c)):this.Fa(a).removeData("htmlFontMedia")}
function ao(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'";$.browser.msie||(d+=", "+m.Be);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");Tn(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.Fa(a),k=h.data("fontName"),l=!1;b&&Pn(String(b))&&(l=!0);d||h.find("font").removeAttr("face");b!==k&&(this.xl(a),this.ho(a),Un(h),l&&Fn(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family",
"").css("font-weight",""),c&&c(!0);else if(z){h.data("fontFamily",b);var m=Yn(z,b);a=bo(b);m||a?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),co(a,b,e)):c&&c(!1)}else c&&c(!1)}function eo(a,b,c){var d=this.Fa(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||2<=e||.5>=e)this.xl(a),this.ho(a),Un(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*gb+"%"),!0!==c&&Tn(d,!0))}function fo(a){this.Dc(this.eb(),a)}
function go(a){return this.Fa(a).data("fontSize")||24}function ho(a,b){var c=this.Fa(a);void 0===b?c.removeData("justification").css("text-align",""):c.data("justification",b).css("text-align",b)}
function io(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=R($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.Z():"")}function d(a,b,c){b?a.data("fill",b.Z()).css("color",b.Z()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}var e=this.Fa(a),g=vn(e),h=Cn(e),k=e.is(".focused"),l=R(e.data("fill")),m=R(Vn(e).Tc[0]);k&&b&&document.execCommand("foreColor",!1,b.Z());k&&h?(g=0<Vn(e).Tc.length,l=m&&
m.equals(l),!g||l?d(e,b,!1):c(e,m,b)):(g||h)&&d(e,b,k)}function jo(a,b){var c=this.Fa(a);c.is(".focused")&&document.execCommand("bold",!1,null);if(vn(c)||Cn(c))void 0===b?c.removeData("bold").removeClass("bold"):(c.data("bold",b),b?c.addClass("bold"):c.removeClass("bold"));Tn(c,!0)}
function ko(a,b){var c=this.Fa(a);c.is(".focused")&&document.execCommand("italic",!1,null);if(vn(c)||Cn(c))void 0===b?c.removeData("italic").removeClass("italic"):(c.data("italic",b),b?c.addClass("italic"):c.removeClass("italic"));Tn(c,!0)}
function lo(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),En(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){Tn(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.Fa(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();mo(l,c)}b?h.data("list",!0):h.removeData("list")}function no(a,b){var c=this.Fa(a);b?c.data("textTransform",b).css("text-transform",b):c.removeData("textTransform").css("text-transform","none")}function oo(a,b){var c=this.Fa(a),d=c.children(".inner");b?(c.data("lineHeight",b),d.css("line-height",b/100)):(c.removeData("lineHeight"),d.css("line-height",1.4));Tn(c,!0)}
function po(a){return this.Fa(a).data("lineHeight")||140}function qo(a,b){var c=this.Fa(a);c.removeData("ephemeralLetterSpacing");void 0===b||0===b?(c.removeData("letterSpacing"),c.css("letter-spacing","0")):(c.data("letterSpacing",b),c.css("letter-spacing",b/1E3+"em"));Tn(c,!0)}function ro(a,b){var c=this.Fa(a),d=0!==b?b/1E3+"em":"0";c.data("ephemeralLetterSpacing",b);c.css("letter-spacing",d)}
function so(a){a=this.Fa(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function to(a){a=this.Fa(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function uo(a){return this.Fa(a).data("kernPairs")||{}}function vo(a,b){var c=this.Fa(a).data("kernPairs");return c&&c.hasOwnProperty(b)?parseFloat(c[b]):0}
function wo(a){a=this.Fa(a);a.data("kernPairs")&&(a.removeData("kernPairs"),Qn(a,!0))}function xo(a){var b=this.Fa(a);a=this.zk(a);if(0<Object.keys(a).length){if(On(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else Qn(b)}
function yo(a,b,c){if(2===c.length){var d=this.Fa(a);a=this.zk(a);a[c]=b;d.data("kernPairs",a)}}function zo(a,b){this.Fa(a).data("kernPairs",b)}function Ao(){var a=this.wi();0<a.parents("#overlays").length&&Bo(a)}function Co(a){var b=this.zk(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function Do(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function Eo(a){function b(a){if(a=bo(a))return{id:a.F(),version:a.V()}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;var a=h,b=a.clone();b.addClass("doNotTransform");b.children(".inner").addClass("doNotTransform");b.appendTo("#limbo");On(b);for(var c=b.find(".char"),d=0,e=[],k=Mn(c),v=1;v<k.length;v++)if(!Nn(k[v-1],k[v])){var w=c.index(k[v]);e.push(w-d);d=w}e.push(c.length-
d);b.remove();a.data("cachedLineLengths",e);a=e}g.lineLengths=a}function d(){var b=e.$x(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.Fa(a),k=String(h.data("fontFamily")),k=Pn(k);(function(){var a=h.clone();Un(a,!0);g.html=a.children(".inner").html()})();(function(){Nj.forEach(function(a){var b=h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=bo(g.fontFamily);a?g.fontMedia={id:a.F(),version:a.V()}:h.data("fontMedia")&&(g.fontMedia=
h.data("fontMedia"));var c=Xn(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function wh(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}wh.prototype.zb=function(){return this.type};wh.prototype.F=function(){return this.id};wh.prototype.bi=function(){this.type=Fo;return this};wh.prototype.serialize=function(){return this.type===Fo||this.type===Go?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function Y(a){this.B=Ea;this.ea=$('\x3cdiv class\x3d"element" /\x3e');this.ea.data("canvaElement",this);this.selected=!1;this.ul=!0;this.Ya=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.Nb=null;this.Yf=!1;this.tc=0;this.link="";this.tl=this.Qd=!1;this.Ze=this.origin=null;this.fm=!0;this.$j=1;var b=Ab(this.B);this.Jb=null;this.Ol={Link:b.format("editorToolbarElementLink"),Transparency:Dc(b)};this.rg(1)&&(this.Ol["Flip Horizontally"]=b.format("editorToolbarElementFlipHorizontally"));
this.rg(2)&&(this.Ol["Flip Vertically"]=b.format("editorToolbarElementFlipVertically"));this.Ro=!0;a&&(b=fh({left:a.left,top:a.top,width:a.width,height:a.height}),this.xb(b),null!=a.rotation&&(this.rotation=a.rotation),null!=a.flipOrientation&&(this.Ya=a.flipOrientation),0<=Object.keys(a).indexOf("userEdited")&&(this.Ro=a.userEdited),0<=Object.keys(a).indexOf("transparency")&&(this.tc=a.transparency),0<=Object.keys(a).indexOf("link")&&(this.link=a.link),null!=a.origin&&(this.origin=new wh(a.origin)))}
f=Y.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Y.prototype,Backbone.Events);f=Y.prototype;f.yy=function(){return!1};f.transform=function(a){var b=Bh(Ah([this.O(),this.K()]).transform(a));Si(this,Ho(this.Ma(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.D=function(){return this.ea};
function Io(a){a=a.ea[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}function Jo(a){return a.elements&&0!==a.elements.length}f.fw=function(){return!1};f.Kw=function(){this.Qd=!0};f.Gi=function(){return!1};f.ew=function(){return!1};f.bo=function(){};f.gg=function(){};f.jf=function(){};f.mj=function(){this.tl=!0};f.Ah=function(){this.tl=!1};function Ko(a){return _.map(a.Ol,function(a,c){return{name:a,id:c,enabled:!0}})}f.vf=function(){return!0};
function Lo(a,b){function c(){d.off("placeholderImage:loaded",e);d.rn(b)}if(void 0===a.ra||void 0===a.Eb)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.ra.length,c);a.on("placeholderImage:loaded",e);0===a.ra.length?window.setTimeout(c,0):a.ra.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.rn=function(a){function b(){c.eo();a&&a()}if(void 0===this.ra||void 0===this.Eb)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.Eb.length,b);0===this.Eb.length?window.setTimeout(b,0):this.Eb.forEach(function(a){a.initialize(d)})};f.Kd=function(){return this.origin};
function Mo(a,b){for(var c=[],d={},e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(No(d.filter,b[d.index]));return c}function Oo(a,b,c){for(var d=[],e={},g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new Po(e,h));return d}
function Jd(a){switch(a.type){case "text":return new Mj(a);case "image":return new Qo(a);case "graphic":return"print"!==Ro?a=new So(a):(a=new Ti(a),a.uw=!0),a;case "svg":return new Ti(a);case "grid":return new To(a);case "fixed":return new Uo(a);case "group":return new Vo(a)}return null}f.kc=function(){delete this.rc};f.remove=function(){this.page&&this.page.oj(this,!1,!0);this.Jb&&this.Jb.remove();this.Jb=this.Nb=this.page=null};f.W=function(){return this.page?this.page.ha().indexOf(this):-1};
f.U=function(){return this.page};f.Kl=function(a){this.tc=a;this.kb()};f.Vv=function(){return this.tc};function Wo(a){return fb.test(a)||ib.test(a)||jb.test(a)||mb.test(a)}function Xo(a,b){Wo(b)?a.link=b||"":a.link=""}function Yo(a){return Wo(a.link)?a.link:""}f.Ga=function(a){Zo(this,a);this.kb()};function Zo(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function $o(a,b){a.left-=b;a.kb()}function ap(a,b){a.top-=b;a.kb()}function bp(a,b){a.left+=b;a.kb()}function cp(a,b){a.top+=b;a.kb()}
f.O=function(){return this.left};function dp(a){return{tc:a.tc,rotation:a.Ma(),top:a.K(),left:a.O(),width:a.A(),height:a.C()}}function ep(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=O;if(a.Nb){var d=a.D().get(0);a=a.Nb.get(0);d.parentNode&&a.parentNode&&(d=d.getBoundingClientRect(),a=a.getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.Ja=function(){return ep(this).left};
f.tb=function(){return ep(this).right};f.ta=function(){return ep(this).top};f.cb=function(){return ep(this).bottom};f.Wb=function(){return ep(this).width};f.Ub=function(){return ep(this).height};f.$a=function(){var a=Math.round(this.left*O);return(this.page.$a()||0)+a};f.Ha=function(a){fp(this,a);this.kb()};function fp(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.K=function(){return this.top};f.fb=function(){var a=Math.round(this.top*O);return(this.page.fb()||0)+a};f.pu=function(){};
f.Lx=function(){};f.setPosition=function(a,b){Zo(this,a);fp(this,b);this.kb()};f.da=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=gp(this);this.D().css("width",a)};f.A=function(){return this.width};function gp(a){return Math.round(a.A()*O)}f.ca=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=Zi(this);this.D().css("height",a)};f.C=function(){return this.height};function Zi(a){return Math.round(a.C()*O)}f.setSize=function(a,b){this.da(a);this.ca(b)};
function Yi(a){a=a.D().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.yi=function(){return this.O()+this.A()/2};f.xb=function(a){var b=a.O(),c=a.K();Zo(this,b);fp(this,c);this.setSize(a.A(),a.C())};f.fa=function(){return new M(this.O(),this.K(),this.A(),this.C())};function Si(a,b){a.rotation=b;a.kb()}f.Ma=function(){return this.rotation};f.tj=function(a){this.Ya=a};f.Ih=function(a){var b=this.Ya^a;this.tj(a);1!=b&&2!=b||this.jj();this.kb()};f.rg=function(){return!1};
f.jj=function(){};f.Va=function(){return this.left+this.width};f.qa=function(){return this.top+this.height};f.af=function(){};f.Sg=function(){return!0};f.nm=function(){return!0};f.bk=function(){return!0};f.om=function(){return!1};f.tf=function(){return!1};f.ib=function(){return!1};f.Cu=function(){return!1};f.Uk=function(){return!1};f.Cg=function(a){this.selected=a};function hp(a){return 0<a.D().parents(".group").length}
f.kb=function(a){var b=this.D(),c=Math.round(this.left*O),d=Math.round(this.top*O);if(0<this.D().parents("#overlays").length&&!hp(this))var e=this.page||t.S[0],c=c+Math.round(e.$a()),d=d+Math.round(e.fb());b.css("transform",Ri({Fc:c,Gc:d,rotateZ:this.rotation}));b.css("opacity",(100-this.tc)/100);this.rg(0)&&this.Qo();!a&&this.Nb&&this.va()};f.Qo=function(){};function ip(a){var b=2.5*a.A();a.D().css("perspective",b+"px")}f.clone=function(){return Jd(this.serialize())};
f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):jp(a,this,a.ha().length)};f.Pi=function(a){return a?ge(this.fa(),a.fa()):!1};f.insertAfter=function(a){var b=a.W();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?jp(c,this,b+1):d<b?jp(c,this,b):d>b&&jp(c,this,b+1);!this.Nb&&a.Nb&&(this.Nb=a.Nb);this.ua()}};
f.insertBefore=function(a){var b=a.W();if(-1!=b){var c=a.U(),d=c.elements.indexOf(this);-1==d?jp(c,this,b):d<b-1?jp(c,this,b-1):d>b&&jp(c,this,b);!this.Nb&&a.Nb&&(this.Nb=a.Nb)}};f.ua=function(){function a(){b.Nb&&b.va()}var b=this;this.ul&&(Zo(this),fp(this),this.kb(!0),this.da(),this.ca(),this.kb(),this.Jb&&this.Jb.uf()?this.Jb.update(!1,a):a())};
f.va=function(){var a=this.D(),b=this.$a(),c=this.fb()+(this.ta()-this.K())*O,d=a.data("toolbar"),a=a.data("textToolbar");d?(a=$(".multipleSelectionBox"),b=new M(b,c,this.Wb()*O,this.Ub()*O),0>=a.length?(kp(d,b),lp(Ab(this.B),d,this)):(b=new M(parseInt(a.css("left"),10),parseInt(a.css("top"),10),a.width(),a.height()),kp(d,b))):a&&lp(Ab(this.B),a,this);mp(this)};
function mp(a){he(a).write(function(){var a=this.D(),c=a.data("selectionBox");if(c){var d=this.$a(),e=this.fb(),g=this.Ma(),h=gp(this),a=Zi(this)||a.height(),k=0,l=0,m=80>h||80>a;this.Ce&&this.Ce()&&(k=this.D().css("font-size").replace("px",""),k=this.Ce()/1E3*parseInt(k,10)*O);this.YB&&(l=(this.padding||0)*O);c.css("transform",Ri({Fc:d,Gc:e,rotateZ:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",m);np(c,g)}})}
f.Od=function(){var a=this.D(),b=a.data("selectionBox"),c=a.data("toolbar"),d=c&&c.data("colorSwatches");b&&b.remove();c&&c.remove();d&&d.remove();a.removeData("selectionBox").removeData("toolbar").removeData("colorSwatches");op();pp.$f()};
f.serialize=function(){var a={elementIndex:this.W(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.tc,userEdited:this.Ro};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.Ya&&(a.flipOrientation=this.Ya);return a};f.sg=function(){return!1};f.vr=function(){return!1};f.Fe=function(){return this.rc||(this.rc=new Ki)};f.Lk=function(){return!1};f.Fk=function(){return{}};f.hy=function(){};
var qp=R("#ffffff"),rp=R("#272c33"),sp=R("#7d8693");Y.prototype.fk=function(){return!1};
function tp(a){var b;b=L(t);var c=Hm(Em()).ma().Xd();(c=c?R("#"+c):null)?b={xh:c,Fh:150>Kh(c)?Gh(new Ch,255,255,255):Gh(new Ch,0,0,0),Rh:150>Kh(c)?Lh(c,Gh(new Ch,255,255,255),.7):Lh(c,Gh(new Ch,0,0,0),.7)}:(c=Bj(b),b=(0<c.length?c[c.length-1].gc():1)&&!b.un()?{xh:Gh(new Ch,0,0,0),Fh:Gh(new Ch,255,255,255),Rh:Gh(new Ch,127,127,127)}:{xh:Gh(new Ch,255,255,255),Fh:Gh(new Ch,0,0,0),Rh:Gh(new Ch,127,127,127)});c=a.Ze;c===b||c&&b&&c.xh.equals(b.xh)&&c.Fh.equals(b.Fh)&&c.Rh.equals(b.Rh)||(a.Ze=b,a.fm=!0)}
function up(a,b){b!=a.$j&&(a.$j=b,a.fm=!0)}Y.prototype.Al=function(){};function vp(){return 0==this.md().length}function wp(){var a=this.Uc();if(!a)return null;var b=this.Ua(),c=this.ra?this.ra[this.nb()].Ya:this.Ya;return rh(a,b,c)}
function xp(){var a=this.D(),b=this.md(),c=this.Ua();c.scale(O).round();var d=a.data("toolbar");d&&d.css("display","none");d=a.data("cropControls");d||(d=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),d.data("canvaElement",
this),a.data("cropControls",d),d.appendTo("#overlays"));var e=d.find(".viewPort");e.css(yp(c,0));e.children(".inner").css("width",c.A()).css("height",c.C());var g=b.attr("src")||b.attr("xlink:href"),b=d.find("img.masked, img.uncropped");b.attr("src")!=g&&b.each(function(){zp(Ap,$(this),g)});var h=a.data("selectionBox"),b=Bp(h);d.css(yp(b,this.Ma()));var k=this.Uc();k.scale(O).round();var l=this.ra?this.ra[this.nb()].Ya:this.Ya;Cp(e.find("img.masked"),k,l);k.translate(c.O(),c.K());c=d.find(".cropBox");
c.css(yp(k,0));Cp(c.find("img.uncropped"),null,l);h.addClass("cropping");Dp(a);a=a.data("confirmationToolbar");c=k.clone().translate(b.O(),b.K());kp(a,c)}function Ep(a,b){var c=this.Uc(),d=this.Ua();d.Ga(0).Ha(0);a>d.O()?a=d.O():a+c.A()<d.Va()&&(a=d.Va()-c.A());b>d.K()?b=d.K():b+c.C()<d.qa()&&(b=d.qa()-c.C());c.Ga(a).Ha(b);this.Ue(c)}function Fp(a){var b=this.nb();-1<b&&Gp(this.ra[b],a)}
function Hp(){var a=this.D();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function Ip(){this.D().removeClass("cropping");var a=this.md();if(a){var b=this.an().scale(O).round();a.css(yp(b,0)).attr("data-image-rect",JSON.stringify(this.Uc().serialize()))}}function Jp(){var a=this.nb();return this.qf(0<=a?a:0)}
function Kp(){var a=this.nb();if(-1===a)return!1;a=this.mg(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}function Lp(a){function b(b){if(c.data("mediaId")===a.ja&&c.data("mediaVersion")===a.ka){var d=!!b;b=!!b&&b.src||"";d&&zp(Ap,c,b);a.Nn&&a.Nn(d)}}var c=a.lr;c.data("mediaId",a.ja);c.data("mediaVersion",a.ka);var d=a.Xm["print"===Ro?Mp:Vd];zp(Ap,c,a.Xm[Np].aa());Op(Ap,d.aa()).then(b).catch(b.bind(null,void 0))}
function Qo(a){var b=this;Y.call(this,a);this.background=!!a.isBackground;this.Su=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ja="string"===typeof a.mediaId?a.mediaId:null;this.ka="number"===typeof a.mediaVersion?a.mediaVersion:null;this.vb=void 0===a.mediaApproved||!!a.mediaApproved;this.ji=(this.er=void 0!==a.isCutout)?a.isCutout:!0;this.Ks=!!a.isRecolorable||this.ji;this.Yf=!Rp(this);var c=null!==this.Vb(),d=this.D();d.addClass("image").toggleClass("hasMedia",c);if(c){var e=$("\x3cdiv\x3e").addClass("imageWrapper");
e.append("\x3cimg\x3e");e.appendTo(d);this.ab=new Po({mediaId:this.ja,mediaVersion:this.ka,mediaApproved:this.vb},e);this.Jb=No(a.filter,this.ab);this.Os()}else this.Jb=this.ab=null;this.Ks&&this.backgroundColor&&d.css("background-color",this.backgroundColor);this.Kc=new M((this.width-.5*this.width)/2,(this.height-.5*this.height)/2,.5*this.width,.5*this.height);this.pa=new M(-this.Kc.O(),-this.Kc.K(),this.width,this.height);this.Ij=this.fa();this.re=!1;if(d=a.imageBox)Ff(this,new M(-1*d.left,-1*d.top,
this.width,this.height)),this.Ue(fh(d)),this.Ij=this.Uc(),this.Wg(),a=fh({left:a.left,top:a.top,width:a.width,height:a.height}),this.xb(a);this.background&&Cj(this);c||window.requestAnimationFrame(function(){H.trigger("elementLoaded",b);H.trigger("elementLoaded:image",b)})}Qo.prototype=Object.create(Y.prototype);f=Qo.prototype;f.constructor=Qo;f.Ki=vp;f.dt=Ep;f.vg=Hp;f.Ua=Jp;f.an=wp;f.Gi=function(){return!!this.Jb};f.ew=function(){return!0};f.Kb=function(){return this.Jb};
f.ig=function(a){return 0===a?this.Jb:null};f.vf=function(){return!(!this.Jb||!this.Jb.uf())};f.tC=Qo.prototype.vf;f.bo=function(a,b){Sp(this.Jb,b)};f.gg=function(){this.Jb.gg()};f.jf=function(){this.Jb.jf()};f.rn=function(a){function b(){c.eo();H.trigger("elementLoaded",c);H.trigger("elementLoaded:image",c);a&&a()}var c=this;this.Jb&&this.Jb.initialize(b)};f.eo=function(){if(this.tC()){var a=this.D().data("toolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};
f.om=function(){return!this.ib()&&!this.tf()};function Rp(a){return a.vb&&null===a.Vb()}f.appendTo=function(a){this.ib()?(jp(a,this,0),Tp(a)):Y.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Y.prototype.serialize.call(this),b=null;this.Jb&&(b=Up(this.Jb))&&(a.filter=b);a.type="image";a.mediaId=this.ja;a.mediaVersion=this.ka;a.isBackground=this.background;a.isRecolorable=this.Ks;a.isCutout=this.ji;a.isDark=this.Su;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.vb||(a.mediaApproved=!1);this.re&&(a.imageBox=this.pa.serialize());return a};
f.da=function(a){void 0===a&&(a=this.width);var b=this.D(),c=a!=this.width;this.pa&&c&&!b.is(".cropping")&&(b=a/this.width,this.pa.scale(b,1),this.Kc.scale(b,1));this.ab&&Gp(this.ab,this.re?this.pa:new M(0,0,a,this.height));Y.prototype.da.call(this,a)};
f.ca=function(a){void 0===a&&(a=this.height);var b=this.D(),c=a!=this.height;this.pa&&c&&!b.is(".cropping")&&(b=a/this.height,this.pa.scale(1,b),this.Kc.scale(1,b));this.ab&&Gp(this.ab,this.re?this.pa:new M(0,0,this.width,a));Y.prototype.ca.call(this,a)};f.rg=function(){return!0};f.tj=function(a){rh(this.pa,this.Kc,this.Ya^a);this.Kc.Ga(-this.pa.O());this.Kc.Ha(-this.pa.K());this.Ya=a};f.Qo=function(){Cp(this.D().find(".imageWrapper"),null,this.Ya)};
f.jj=function(){if(ra){ip(this);var a=this.D().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})}};f.ua=function(){Y.prototype.ua.call(this);var a=this.D();if(this.re&&!a.is(".cropping")){var b=this.an().scale(O).round();$("img",a).css(yp(b,0))}};f.va=function(){Y.prototype.va.call(this);this.D().is(".cropping")?this.kk():this.vg()};f.Xl=function(a){Rp(this)||Jj(a,this.Vb())||(this.Il(!1),this.ka=this.ja=null)};f.sg=function(){return!0};
f.Vb=function(){return null!=this.ja&&null!=this.ka?new yh(this.ja,this.ka):null};f.Os=function(){var a=this.Vb();a&&this.Bg(a.F(),a.V())};f.Bg=function(a,b){function c(a){a?d.rn():H.trigger("elementLoadingError",d)}this.ja=a;this.ka=b;var d=this,e=Aa.ob(a,b);e?Lp({Xm:e,lr:d.D().find("img"),ja:a,ka:b,Nn:c}):c(!1)};f.Mi=function(){return this.vb};f.Il=function(a){this.vb=a;this.D().toggleClass("unapproved",!a);this.va()};f.Hh=function(){};f.md=function(){return this.D().find("img")};f.nb=function(){return 0};
f.Dk=function(a){return 0!=a?$():$("img",this.D()).eq(0)};f.Ge=function(){return 1};f.qf=function(){return this.Kc.clone()};f.mg=function(){return null};f.Di=function(){return this.ab};f.Kf=function(){};f.yl=function(){};function Ff(a,b){var c=a.Kc.O(),d=a.Kc.K();a.Kc=b.clone();a.pa.translate(c-a.Kc.O(),d-a.Kc.K())}f.Uc=function(){return this.pa.clone()};f.ir=function(){return!0};
f.kk=function(){var a=this.D();this.No||(this.No=!0,this.Ij=new M(this.left+(this.re?this.pa.O():0),this.top+(this.re?this.pa.K():0),this.pa.A(),this.pa.C()));var b=this.page.$a()||0,c=this.page.fb()||0,d=this.Ij.clone();d.scale(O).translate(b,c).round();a.data("selectionBox").css(yp(d,this.Ma()));xp.call(this);0==$(".viewPort .frameHandle").length&&(b=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(b))};f.Od=function(){Y.prototype.Od.call(this);this.vg()};f.Ue=function(a){this.pa=a.clone()};f.Wg=function(){Ip.call(this);var a=this.D();this.md().css("position","absolute");a.css("overflow","hidden");var b=this.Kc.clone();b.translate(this.Ij.O(),this.Ij.K());a.addClass("cropping");this.xb(b);a.removeClass("cropping");this.Kc.Ga(-this.pa.O()).Ha(-this.pa.K());this.re=!0;this.No=!1};
function Cj(a){a.background=!0;a.Yf=!1;a.D().addClass("background");a.page&&(jp(a.page,a,0),Tp(a.page),a.page.trigger("change:background",a.page));a.kc()}function Vp(a){a.background=!1;a.Yf=!Rp(a);a.D().removeClass("background");!Rp(a)&&a.ji&&null!==a.backgroundColor&&(a.Gl(null),a.va());a.page&&a.page.trigger("change:background",a.page);a.kc()}f.ib=function(){return this.background};f.Cu=function(){return!0};f.gc=function(){return this.Ks&&(!this.ji||this.ib())};
f.tf=function(){var a=this;this.er||null===this.Vb()||(this.er=!0,ya.Qa(this.ja,(new Wp).Sd(this.ka),function(b,c){a.ji=c.ia().tf()}));return this.ji};f.ac=function(){var a=[];if(this.gc()){var b=R(this.backgroundColor||"#ffffff");b&&a.push(b)}return a};
f.Gl=function(a){var b=this.D();a?(this.backgroundColor=a.Z(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.ib()&&this.page&&(this.page.trigger("change:background",this.page),this.va());this.kc()};f.de=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.Gl(b)};f.Fe=function(){if(this.rc)return this.rc;var a=new Ki;this.ac().forEach(function(b){a.cd(b)});return this.rc=a};
function Ti(a){this.Df=[];this.ya=this.pb=this.mp=null;this.Oa=$();this.Aj=[];this.yt=$();this.ra=[];this.Eb=[];this.uw=this.loaded=!1;Y.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ja=a.mediaId;this.ka=a.mediaVersion;this.vb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.D();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.Zw);this.listenTo(this,"change:fontFamily",this.Zw);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);a.fillColors&&(this.tk=a.fillColors.map(function(a){return{index:a.index,color:Xp(a.color)}}),Object.freeze(this.tk));this.Bg(this.ja,this.ka)}}Ti.prototype=Object.create(Y.prototype);f=Ti.prototype;f.constructor=Ti;f.Ki=vp;f.vg=Hp;f.Ua=Jp;f.ir=Kp;f.an=wp;f.ai=xo;f.Wu=Do;f.nc=go;f.Kv=vo;f.zk=uo;f.Mv=to;f.Xq=po;f.ho=so;f.xl=wo;f.$x=Co;f.bt=Eo;f.yg=jo;f.setColor=io;f.by=ro;f.vo=Zn;f.ht=$n;f.We=ao;f.Dc=eo;f.wo=fo;f.Ag=ko;f.Jf=ho;f.xo=yo;f.ey=zo;f.it=qo;f.jt=oo;
f.Hl=lo;f.yo=no;f.Ct=Ao;f.rg=function(){return this.uw};f.Vk=function(){return!0};f.Gi=function(){return!0};f.Qo=function(){Cp(this.D().children("svg"),null,this.Ya)};f.jj=function(){ip(this);var a=this.D().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.Lx=function(){Nl(za,"hasUpdatedSvgPlaceholder");$(".dragAPhotoInHere").remove()};
function Yp(){$(".dragAPhotoInHere").each(function(a,b){b.setAttribute("class","dragAPhotoInHere hidden")})}function Zp(){$(".dragAPhotoInHere").each(function(a,b){b.setAttribute("class","dragAPhotoInHere")})}f.Xl=function(a){Jj(a,this.Vb())||(this.Il(!1),this.ka=this.ja=null)};f.sg=function(){return!0};
f.pu=function(){function a(){window.clearTimeout(x);y.setAttribute("fill",A);y.setAttribute("fill-opacity","1")}function b(){x=window.setTimeout(c,100)}function c(){y.setAttribute("fill","black");y.setAttribute("fill-opacity","0.4")}function d(){function b(g){jQuery.contains(document.documentElement,y)||($(".page.selected, #overlays").off("mousemove",b),$(".page.selected, #overlays").off("mouseover",d));g.clientX>=e.left&&g.clientX<=e.right&&g.clientY>=e.top&&g.clientY<=e.bottom?($("#overlays .selectionBox").css("cursor",
"pointer"),a()):($("#overlays .selectionBox").css("cursor","move"),c())}var e=y.getBoundingClientRect();$(".page.selected, #overlays").on("mousemove",b);$(".page.selected, #overlays").on("mouseout",function(){$(".page.selected, #overlays").off("mousemove",b)})}var e=50/54;if(!(1>this.Df.length)){var g=this.Df[this.Df.length-1],h=$p(this).last();if(!h.parent().hasClass("filled")){var h=$(h).parent("g.canva"),k=g.A(),l=g.C(),m=l/15,n=.2*l,l=l/3.5,q=l*e,r=g.O(),p=g.K(),e=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",
"text");c.setAttribute("width",q);c.setAttribute("x",r+k/2);c.setAttribute("y",b);c.setAttribute("font-size",m);c.setAttribute("text-anchor","middle");c.setAttribute("class","dragAPhotoInHere");c.appendChild(document.createTextNode(a));return c},g=p+l+n+1.44*m,v=g+1.2*m,w=v+1.2*m;h.append(function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","image");c.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/placeholder_arrow.png");c.setAttribute("width",a);c.setAttribute("height",
b);c.setAttribute("x",r+k/2-q/1.5);c.setAttribute("y",p+n);c.setAttribute("class","dragAPhotoInHere");return c}(q,l));h.append(e("DRAG A PHOTO",g));h.append(e("IN HERE OR",v));l=function(a,b){var c=q/16,d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("width",q);d.setAttribute("x",r+k/2);d.setAttribute("y",b+3*c);d.setAttribute("font-size",m-2);d.setAttribute("fill","white");d.setAttribute("text-anchor","middle");d.setAttribute("class","uploadYourOwn");d.setAttribute("z-index",
1);d.setAttribute("class","uploadAPhoto dragAPhotoInHere");d.appendChild(document.createTextNode(a));return d}("UPLOAD YOUR OWN",w);h.append(l);var y=function(a){var b=q/16,c=q/16,d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("width",a.width+2*b+20);d.setAttribute("x",a.x-b-10);d.setAttribute("y",a.y-c);d.setAttribute("height",a.height+2*b);d.setAttribute("fill","black");d.setAttribute("fill-opacity","0.4");d.setAttribute("rx",a.height/1.6);d.setAttribute("ry",a.height/
1.6);d.setAttribute("class","uploadAPhoto uploadAPhotoButton dragAPhotoInHere");d.setAttribute("z-index",2);return d}(l.getBBox());y.onmouseover=a;l.onmouseover=a;var x=0,A="#00c4cc";y.onmouseout=b;l.onmouseout=b;$(".page.selected, #overlays").on("mouseover",d);l.parentNode.removeChild(l);h.append(y);h.append(l)}}};
f.jm=function(a,b){function c(){k.Oa.each(function(a,b){k.Kh(a,k.dc(a),y,!0);$(b).css("opacity","")});k.ua();l.forEach(function(a){var b=a.index,c=k.Fa(b);k.Kh(b,a,function(b){b&&void 0!==a.lineLengths&&Sn(c,a.lineLengths);y()},!0)});k.Df=aq(q,".photoPlaceholder");k.Yf=0<k.Ge();bq(q,k.Df);cq(q,k.Df);dq(q,k.Df);0!==k.D().parent().length&&k.pu();m&&(k.ra=Oo(m,k.Ge(),h),k.Eb=Mo(m,k.ra),Object.freeze(k.Eb),Object.freeze(k.ra));k.ra.forEach(function(a,b){hh(eq(a),gh)&&Gp(a,fq(k,b))});k.ra.some(g)&&Yp();
Lo(k,function(){w=!0;e()})}function d(){v=!0;window.setTimeout(e,0)}function e(){w&&v&&!k.loaded&&(k.kb(),k.loaded=!0,q.css("position","absolute"),b&&b(!0))}function g(a){return gq(a)}var h=this.D(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(hq(a,!0)){var n=iq(),n=jq(a,n),q=$(n).filter("svg");kq(q);q=$(q.get(0).cloneNode(!0));q.appendTo(h);this.pb=lq(q);this.width&&this.height||(this.da(this.pb.A()),
this.ca(this.pb.C()));this.Oa=mq(q,vb(this.B));this.Oa.css("opacity",0).data("canvaElement",this).appendTo(h);nq(this);oq(this).each(function(){var a=$(this).data("designObject");k.listenTo(a,"change:width",k.Yw);k.listenTo(a,"change:height",k.Xw)});n=pq(q,this.Oa);this.Aj=n.Aj;this.Aj.forEach(function(a){k.listenTo(a,"change",k.bx)});this.yt=n.eB;this.yt.appendTo(h);this.tk&&this.tk.forEach(function(a){k.de(a.index,a.color)});var r=[],p=[];this.Oa.each(function(){var a=$(this).data("fontFamily"),
b=Kn($(this)).Wd;a&&r.push(a);r=r.concat(b)});l.forEach(function(a){var b=Wn('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);r=r.concat(b);a.lineLengths&&k.Fa(a.index).data("cachedLineLengths",a.lineLengths);p=p.concat(qq([a.fontMedia])||[]);p=p.concat(qq(a.htmlFontMedia)||[])});p=p.filter(Boolean);k.ya=rq(q);k.ya&&(k.scale&&sq(k),k.da(k.A()),k.ca(k.C()));var v=!1,w=!1,n=this.Oa.length+l.length,y=_.after(n,d);0===n&&d();this.kc();tq(z,p,r,c)}else b(!1)};
f.ua=function(){Y.prototype.ua.call(this);uq(this);Ui(this);vq(this)};f.Kb=function(){var a=this.nb();return-1<a?this.Eb[a]:null};f.ig=function(a){return this.Eb[a]||null};f.vf=function(){return!(!this.Kb()||!this.Kb().uf())};f.gg=function(){this.Kb()&&this.Kb().gg()};f.jf=function(){this.Kb()&&this.Kb().jf()};f.eo=function(){if(this.Kb()&&this.Kb().uf()){var a=this.D().data("imageToolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};
f.bo=function(a,b){Sp(this.Eb[a],b)};f.Zw=function(a,b){var c=b.data("designObject");c&&this.loaded&&wq(c)};var xq=0;function iq(){xq=xq==Math.pow(2,53)?0:xq+1;return"CANVA"+xq+"_"}function yq(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function rq(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),m=iq(),n=iq(),p=document.createElementNS("http://www.w3.org/2000/svg","rect"),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),N=a.get(0).cloneNode(!0),ca=document.createElementNS("http://www.w3.org/2000/svg",
"rect");l.id=m;p.setAttribute("width",e);p.setAttribute("height",g);p.setAttribute("x",c);p.setAttribute("y",d);l.appendChild(p);k.id=n;N.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",N).remove();k.appendChild(N);q.appendChild(k);q.appendChild(l);a.children(":not(.canva)").remove();a.data("clipId",m);a.data("useId",n);h.setAttribute("clip-path","url(#"+m+")");ca.setAttribute("width",e);ca.setAttribute("height",g);ca.setAttribute("x",c);ca.setAttribute("y",d);ca.setAttribute("class",
"repeat");ca.setAttribute("visibility","hidden");ca.setAttribute("pointer-events","none");r.setAttribute("width",e);r.setAttribute("height",g);r.setAttribute("class","repeat");r.setAttribute("visibility","hidden");r.setAttribute("pointer-events","none");r.setAttribute("class","canva dimensions");b(ca,h);h.insertBefore(r,ca);h.setAttribute("class","canva tiled");zq(a)}}if(!yq(a))return null;var d=a.parent(),e=a.prev(),g=lq(a),h={left:0,right:0,top:0,bottom:0,repeat:!1,Ch:!0,Gf:!0},k=$("\x3cdiv\x3e\x3c/div\x3e");
k.appendTo($("#limbo"));k.css("opacity",0).css("width",g.A()*O).css("height",g.C()*O).append(a);var l=a.get(0),m=g.A(),n=g.C();$("g",a).each(function(a,b){-1!=["n","e","s","w"].indexOf(b.id)&&(h.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(h.right=Math.max(h.right,m-b.getBBox().x),h.right==m&&(h.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(h.left=Math.max(h.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(h.bottom=Math.max(h.bottom,n-b.getBBox().y),h.bottom==n&&
(h.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(h.top=Math.max(h.top,b.getBBox().y))});h.Ch=!l.classList.contains("verticalOnly");h.Gf=!l.classList.contains("horizontalOnly");if(h.repeat){var q=document.createElementNS("http://www.w3.org/2000/svg","defs");b(q,l);var g=h.left+h.right,r=h.top+h.bottom,p=l.classList.contains("horizontalOnly"),l=l.classList.contains("verticalOnly");c($("g#n",a),h.left,0,m-g,p?n:h.top);c($("g#s",a),h.left,n-h.bottom,m-g,p?n:h.bottom);c($("g#c",a),h.left,h.top,m-g,n-r);
c($("g#w",a),0,h.top,l?m:h.left,n-r);c($("g#e",a),m-h.right,h.top,l?m:h.right,n-r)}0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();k.remove();return h}
function zq(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,q=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+q+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function aq(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=lq(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.A()).css("height",g.C());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0).forceLayout();var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){var d=$(b).clone();d.attr("fill","transparent").appendTo($(b).parents("g, svg").first()).forceLayout();var e=ee(d.get(0).getBoundingClientRect());d.remove();e.translate(-k.left,
-k.top);c.push(e)});0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function mq(a,b){var c=$(),d=aq(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||24).css("font-size",(l.fontSize||24)*gb+"%").data("defaultFontSize",l.fontSize||24).data("original-fill",l.fill).data("is-primary-color",l.fill&&qp.equals(R(l.fill))).data("is-secondary-color",l.fill&&rp.equals(R(l.fill))).data("is-tertiary-color",l.fill&&sp.equals(R(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||1.2).css("line-height",l.lineSpacing||1.2).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||Aq(m);k=new Bq(m,0,0);m.data("designObject",k);c=c.add(m)});return c}
function pq(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){var r=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===r.length){var p=new Bq(r.eq(0),b.O(),b.K());r.data("stackId",a.getAttribute("data-stack-id")).data("designObject",p);d.push(p)}});return d}var d=$(),e=[],g=aq(a,".canva.stack");a.find(".canva.stack").each(function(a,k){var l=g[a],m=0<$(k).parents("#n, #c, #s").length,n=0<$(k).parents("#w, #c, #e").length,q=c(k,l,b),l={valign:k.getAttribute("data-valign"),
box:l.serialize(),resizeHorizontal:m,resizeVertical:n,contents:q},l=new Cq(l);e.push(l);m=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');n=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});m.data("sourceElement",k).data("stack",l).append(n);d=d.add(m)});return{Aj:e,eB:d}}
function Aq(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function bq(a,b){b.forEach(function(b,d){var e=new M(0,0,1438,560);oh(e,b);a.find("image.placeholder").eq(d).attr("x",e.O()).attr("y",e.K()).attr("width",e.A()).attr("height",e.C())})}
function cq(a,b){b.forEach(function(b,d){var e=Math.max(b.A(),b.C()),e=new M(0,0,e,e),g=a.find("image.placeholder").eq(d),h=document.createElementNS("http://www.w3.org/2000/svg","rect");nh(oh(e,b).scale(Math.max(1,1.3)),b);var k=isFinite(e.left)&&isFinite(e.top)&&isFinite(e.width)&&isFinite(e.height);isNaN(e.left)||isNaN(e.top)||isNaN(e.width)||isNaN(e.height)||!k||(h.classList.add("vignette"),$(h).appendTo(g.parent()).attr("fill","none").attr("clip-path",g.attr("clip-path")).attr("x",e.O()).attr("y",
e.K()).attr("width",e.A()).attr("height",e.C()))})}function dq(a,b){b.forEach(function(b,d){var e=a.find("image.placeholder").get(d),g=e.cloneNode(!0);g.classList.remove("placeholder");g.classList.add("broken");var h=nh(b.clone().scale(.33),b);$(g).appendTo(e.parentNode).attr("x",h.O()).attr("y",h.K()).attr("width",h.A()).attr("height",h.C());g.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function Dq(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,mh(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,mh(b,0,a*d.scale));return b}f=Ti.prototype;
f.Yw=function(a,b){if(this.ya&&this.ya.Ch&&0!==b){var c=mh(this.fa(),b,0);switch(a.le.data("justification")){case Eq:c.translate(-b/2,0);break;case Fq:c.translate(-b,0)}Gq(this,c);this.kb()}};f.Xw=function(a,b){if(this.ya&&this.ya.Gf&&0!==b){var c=mh(this.fa(),0,b);c.translate(0,-b/2);Gq(this,c);this.kb()}};function Gq(a,b){var c=a.va,d=a.kb;a.va=function(){};a.kb=function(){};a.xb(b);a.kb=d;a.va=c}
f.bx=function(a){if(this.ya&&(this.ya.Ch||this.ya.Gf)){var b=!1,c=a.fa(),d=this.D().children(".stack").filter(function(){return $(this).data("stack")===a}),d=Dq($(d.data("sourceElement")),a.Bk(),!0,Hq(this));if(this.ya.Gf){var e=c.qa()-d.qa(),b=b||0!==e;this.ca(this.C()+e)}this.ya.Ch&&(c=c.Va()-d.Va(),b=b||0!==c,this.da(this.A()+c));b&&this.ua()}};
function sq(a){var b,c=a.pb;b={scale:a.scale,deltaX:a.A()/a.scale-c.A(),deltaY:a.C()/a.scale-c.C()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.pb.A()*c,a.pb.C()*c);d&&a.da(c*d+a.A());b&&a.ca(c*b+a.C())}
f.setSize=function(a,b){var c=this.width;Iq(a,this.width)&&!Iq(b,this.height)?this.ca(b):Iq(b,this.height)&&!Iq(a,this.width)?this.da(a):(Y.prototype.da.call(this,a),Y.prototype.ca.call(this,b),uq(this),vq(this),nq(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.ra.forEach(function(b){var e=eq(b);e.scale(a/c);Gp(b,e)}))};
f.da=function(a){var b;Y.prototype.da.call(this,a);if(this.ya&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.D()).length){this.Oa.each(function(){var a=$(this);a.data("dynamicWidth")&&Un(a)});b=lq($("svg",this.D()));b.C()==this.pb.C()?(a=this.pb.C()*this.width/this.height,b=this.pb.clone()):(a=b.C()*this.width/this.height,b=b.clone());b.da(a);b=[b.O(),b.K(),b.A(),b.C()].join(" ");$("svg",this.D()).get(0).setAttribute("viewBox",b);b=this.ya.left+this.ya.right;var c=this.pb.A()-b,d=a-b,e=d/c,g=-this.ya.left*
(e-1),h=this;$("g#n, g#c, g#s",this.D()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.ya.top*(a-1));h.ya.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.D()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.ya.top*(b-1));"e"==this.id&&h.ya.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.D()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.ya.top*(b-1));"w"==this.id&&h.ya.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});uq(this);vq(this)}};
f.ca=function(a){Y.prototype.ca.call(this,a);if(this.ya&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.D()).length){var b;b=lq($("svg",this.D()));b.A()==this.pb.A()?(a=this.pb.A()*this.height/this.width,b=this.pb.clone()):(a=b.A()*this.height/this.width,b=b.clone());b.ca(a);$("svg",this.D()).get(0).setAttribute("viewBox",b.O()+" "+b.K()+" "+b.A()+" "+b.C());b=this.ya.top+this.ya.bottom;var c=this.pb.C()-b,d=a-b,e=d/c,g=-this.ya.top*(e-1),h=this;$("g#w, g#c, g#e",this.D()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.ya.left*(a-1));h.ya.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.D()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.ya.left*(b-1));"s"==this.id&&h.ya.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.D()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.ya.left*(b-1));"n"==this.id&&
h.ya.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});uq(this);vq(this)}};function Jq(a){return a.pb?a.A()/a.pb.A():0}
function Hq(a){var b={scale:Jq(a),deltaX:0,deltaY:0};if(!a.ya)return b;var c=null,d=lq($("svg",a.D()));a.pb.A()!=d.A()&&a.pb.C()!=d.C()?c=a.width/d.A():a.pb.C()==d.C()?c=a.height/a.pb.C():(a.pb.A(),d.A(),c=a.width/a.pb.A());b.scale=c;b.deltaX=d.A()-a.pb.A();b.deltaY=d.C()-a.pb.C();return b}
function Ui(a){a.Oa.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=Hq(a),c=c*e.scale;b.css("font-size",c*gb+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=Dq(d,c,!!a.ya,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.xb(c),a.listenTo(e,"change:width",a.Yw),a.listenTo(e,"change:height",a.Xw),c.scale(O).round(),b.css(c.serialize()))})}
function oq(a){return a.Oa.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function nq(a){if(a.Oa&&0!=a.Oa.length){var b=oq(a),c=Hq(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function uq(a){a.D().find(".canva.tiled").each(function(){zq($(this))})}
function vq(a){a.Aj.forEach(function(b,c){var d=Hq(a),e=a.D().find(".canva.stack").eq(c),e=Dq(e,b.Bk(),!!a.ya,d),g=e.clone().scale(O).round();a.yt.eq(c).css(g.serialize());a.stopListening(b,"change");b.xb(e,d.scale);b.ba();a.listenTo(b,"change",a.bx)})}f.remove=function(){Kq(this);this.pj();this.Oa.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&Bo(a)});Y.prototype.remove.call(this);this.stopListening();this.Oa.remove();this.Aj.forEach(function(a){a.remove()})};
f.Od=function(){Y.prototype.Od.call(this);Kq(this);this.pj();this.vg()};function Kq(a){a.Oa.each(function(){var a=$(this).data("textToolbar"),c=a&&a.data("colorSwatches");a&&a.find(".dd-container").ddslick("destroy");a&&a.remove();c&&c.remove();$(this).removeData("textToolbar").removeData("colorSwatches")})}f.pj=function(){var a=this.D().data("imageToolbar");a&&a.remove();this.D().removeData("imageToolbar")};
f.va=function(){Y.prototype.va.call(this);Lq(this);var a=this.D(),b=a.data("selectionBox");b&&this.ya&&(this.ya.Gf&&b.addClass("verticalScale"),this.ya.Ch&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.kk();else{this.vg();var c=this,d=$("#overlays");if(0!==d.length){var b=d.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),e=a.get(0).getBoundingClientRect(),g=new M(c.$a(),e.top-d.offset().top,e.width,e.height),d=b&&b.data("textToolbar");0<b.length&&
d&&(Mq(d,b),kp(d,g,2));$p(this).each(function(){if(this.classList.contains("active")){var b=a.data("imageToolbar");b&&(kp(b,g,2),b.find(".imageToolbarDelete").removeClass("disabled").addClass("enabled"),b.find(".imageToolbarCrop").removeClass("disabled").addClass("enabled"))}})}}};f.Vb=function(){return null!==this.ja&&null!==this.ka?new yh(this.ja,this.ka):null};f.Nv=function(){for(var a=[],b=0;b<this.Ge();b++){var c=this.Di(b);c&&a.push(c)}return a};f.vr=function(){return!0};
f.Jh=function(a){zp(Ap,this.D().find("img.placeholder"),a)};f.Bg=function(a,b){this.ja=a;this.ka=b;var c=Aa.ob(a,b);c?Nq(this,c):H.trigger("elementLoadingError",this)};
function Nq(a,b){function c(a){a=window.atob(a.substr(a.indexOf(",")+1));k.jm(a,e)}function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.jm(a,e)});g.fail(function(){b?H.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.D().children("img.placeholder").remove();b.ua()}h(a)}function g(a){function b(a){var c=!!a;k.Jh(c&&a.src||"");k.D().find("img.placeholder").removeClass("placeholder");k.D().addClass("raster");h(c)}Op(Ap,a).then(b).catch(b.bind(null,
void 0))}function h(a){a?window.requestAnimationFrame(function(){k.ua();k.Al();H.trigger("elementLoaded",k);H.trigger("elementLoaded:svg",k)}):H.trigger("elementLoadingError",k)}var k=a,l=b["print"==Ro?Mp:Vd],m=b[Np],n=l.aa();l.url.match(/^data:image\/svg\+xml;base64,/i)?c(n):l.url.match(/\.svg(\?|$)/)?(k.Jh("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(l.aa())):(k.Jh(m.aa()),g(l.aa()))}f.Mi=function(){return this.vb};
f.Il=function(a){this.vb=a;this.D().toggleClass("unapproved",!a);this.va()};function Oq(a){a=1/Jq(a)/O;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function Lq(a){var b=a.md();Pq(a);0<b.length&&(b=b.get(0),"https://static.canva.com/static/images/placeholder.jpg"!=b.getAttribute("xlink:href")&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",Oq(a)))}
function Pq(a){$p(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.af=function(){Pq(this)};f.Hh=function(a){this.Ki()||(this.mp=a,Lq(this),this.D().hasClass("selected")&&Qq(this.D(),Ab(this.B)))};f.mg=function(a){return(a=this.ra[a])?a.serialize():null};f.Di=function(a){return this.ra[a]||null};
f.Kf=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}Yp();var d=this,e=this.ra[a];b.mediaId?(Gp(Rq(Sq(Tq(e,b.mediaId,b.mediaVersion,c),b.origin?new wh(b.origin):null),b.mediaApproved),fh(b.imageBox)).tj(b.flipOrientation),Yp()):this.yl(a)};f.Ox=function(){this.yl(this.nb())};f.yl=function(a){a===this.nb()&&(this.mp=null,Pq(this));var b=fq(this,a);Gp(Uq(this.ra[a]),b);this.Eb[a].remove();Zp()};
function fq(a,b){var c=a.qf(b),d=new M(0,0,1438,560);c&&oh(d,c).translate(-c.O(),-c.K());return d}function $p(a){return a.D().find("svg image.placeholder")}function Vq(a){return $p(a).filter(function(){return"https://static.canva.com/static/images/placeholder.jpg"!=$(this).attr("xlink:href")}).first()}f.md=function(){return this.mp||Vq(this)};f.nb=function(){return $p(this).index(this.md())};f.Dk=function(a){return $p(this).eq(a)};f.Ge=function(){return this.Df.length};
f.kk=function(){xp.call(this);var a=this.D().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.md().clone().get(0),c=this.Ua().scale(1/Jq(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.O(),c.K(),c.A(),c.C()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.Ua();d.scale(O).round();a.find("svg").css("transform",Ri({Fc:d.O(),Gc:d.K()})).css("width",d.A()).css("height",d.C())};f.dt=function(a,b){Ep.call(this,a,b);var c=this.D().data("cropControls"),d=this.md(),c=$("g.cropLayer image",c),e=this.Ua(),g=this.Uc();g.translate(e.O(),e.K()).scale(1/Jq(this));d.attr("x",g.O()).attr("y",g.K());c.attr("x",g.O()).attr("y",g.K())};
f.Ue=function(a){Fp.call(this,a);var b=this.D().data("cropControls"),b=$("g.cropLayer image",b),c=this.Ua();a=a.clone();a.translate(c.O(),c.K()).scale(1/Jq(this));b.attr("x",a.O()).attr("y",a.K()).attr("width",a.A()).attr("height",a.C())};f.qf=function(a){var b=Jq(this);a=this.Df[a].clone();a.scale(b);return a};
f.Uc=function(){var a=this.md(),b=this.Ua(),a=new M(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(Jq(this)).translate(-b.O(),-b.K());return a};f.Wg=function(){var a=this.D();a.removeClass("cropping");var b=this.md(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){var c="",c=a===Wq?Wq:a.Z();return{index:b,color:c}}var b=Y.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ja;b.mediaVersion=this.ka;this.vb||(b.mediaApproved=!1);0!==Jq(this)&&(b.scale=Hq(this).scale);var c=this,d=[],e;this.loaded?(this.ra.forEach(function(a,b){var e;if(gq(a)||!a.vb){e=a.serialize();var l=Up(c.Eb[b]);l&&(e.filter=l);d.push(e)}}),this.Oa&&this.Oa.each(function(a){a=c.dc(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.ac().map(a),
0<e.length&&(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.tk&&(b.fillColors=this.tk.map(function(b,c){return a(b.color,c)})));return b};f.wi=function(){return this.Oa?this.Oa.filter(".focused"):$()};f.Fe=function(){if(this.rc)return this.rc;var a=new Ki;this.Oa&&this.Oa.each(function(b,c){Kn($(c)).Tc.forEach(function(b){(b=R(b))&&a.cd(b)})});this.ac().forEach(function(b){b instanceof Ch&&a.cd(b)});return this.rc=a};
f.Fa=function(a){return this.Oa?this.Oa.eq(a):$()};f.eb=function(){return this.Oa.index(this.wi())};f.dc=function(a){if(0>a||a>=this.Oa.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var b=this.Oa.eq(a);a=this.bt(a);var c=b.data("designObject");c&&(a.preferredFontSize=c.$n);b=b.children(".inner");a.width=b.prop("clientWidth");a.height=b.prop("clientHeight");return a};
f.Kh=function(a,b,c,d){if(0<=a&&this.Oa&&a<this.Oa.length){var e=this.Oa.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.We(a,b.fontFamily,c,d);this.vo(a,Xq(b.fontMedia));this.setColor(a,R(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.Dc(a,b.fontSize*Hq(this).scale);this.yg(a,b.bold);this.Ag(a,b.italic);this.Jf(a,b.justification);this.Hl(a,b.list);this.yo(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.$n=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");Un(e)}};
f.Dc=function(a,b){var c=this.Fa(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=Hq(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*gb+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.xl(a),this.ho(a),Un(c);this.trigger("change:fontSize",this,c,b)}}};f.nc=function(a){a=go.call(this,a);var b=Hq(this).scale;return a*b};f.wo=function(a){var b=this.wi().data("designObject"),c=Hq(this).scale;b.$n=a/c;fo.apply(this,arguments)};
f.ac=function(){var a=Yq(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};function Yq(a){var b={};a.D().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=Xp(this.getAttribute("fill")))&&(b[a]=d)});return b}f.fk=function(){var a=this.D().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.Al=function(){function a(a,b,c){return Lh(R(a),b,c)}var b=this.Ze,c=this.$j;null!==this.Ze&&this.fk()&&(this.D().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.xh,c).Z())}),this.D().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Fh,c).Z())}),this.D().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Rh,c).Z())}),this.Oa.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color"),l=jQuery.data(e,"original-fill");g?this.setColor(d,a(l,b.xh,c)):h?this.setColor(d,a(l,b.Fh,c)):k&&this.setColor(d,a(l,b.Rh,c))}.bind(this)))};
f.de=function(a,b){var c=Yq(this),c=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.D().children("svg").find("."+c).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",Zq(b)||a)});this.kc()};
function Mj(a,b){function c(){g.Kh(0,a,d,!0);g.Pd=$.extend(!0,{},a.stylesOverriden);g.ul=!1}function d(a){n=!0;r=a;m&&e()}function e(){var c=q&&r;g.loaded=!0;h.removeClass("textElementLoading");c?(g.ul=!0,g.ua(),g.ca(),fp(g),Zo(g),g.kb(),H.trigger("elementLoaded",g),H.trigger("elementLoaded:text",g)):(c=g,Y.prototype.ca.call(c,a.height),Y.prototype.da.call(c,a.width),Sn(c.D(),a.lineLengths||[]),c.rk=!0,c.D().toggleClass("failed",c.rk),c.ul=!0,H.trigger("elementLoadingError",g));b&&b(g)}Y.call(this,
a);var g=this,h=this.D(),k=vb(this.B);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Yn()).append('\x3cdiv class\x3d"inner"\x3e'+k.Yn()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.Bn=!0;!1===a.lockedWidth&&(this.Bn=!1);var k=(qq([a.fontMedia])||[]).filter(Boolean),l=qq(a.htmlFontMedia);l&&(k=k.concat(l));l=Wn(a.html);a.fontFamily&&l.push(a.fontFamily);var m=!1,n=!1,q=!1,r=!1;this.Pd={};0<k.length?$q(z,k,c):c();
this.loaded=!1;this.nF=a;tq(z,k,l,function(a){m=!0;q=a;n&&e()})}Mj.prototype=Object.create(Y.prototype);f=Mj.prototype;f.constructor=Mj;f.ai=xo;f.Wu=Do;f.nc=go;f.Kv=vo;f.zk=uo;f.Mv=to;f.Xq=po;f.ho=so;f.xl=wo;f.$x=Co;f.bt=Eo;f.yg=jo;f.setColor=io;f.by=ro;f.vo=Zn;f.ht=$n;f.We=ao;f.Dc=eo;f.wo=fo;f.Ag=ko;f.Jf=ho;f.xo=yo;f.ey=zo;f.it=qo;f.jt=oo;f.Hl=lo;f.yo=no;f.Ct=Ao;f.Sg=function(){return this.loaded&&!this.rk};f.nm=function(){return this.loaded&&!this.rk};f.yy=function(){return!0};f.Vk=function(){return this.Bn};
f.Ke=function(){this.Bn=!0};f.St=function(){this.Bn=!1};
function ar(a){if(!a.Ng){var b=a.Fa(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=zn(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=zn(b)+c);2===c.length&&(a.Ng=c)}a.Ng&&(a.Ng=a.Ng.replace(/\s/gi,""),2!==a.Ng.length&&(a.Ng=void 0));return a.Ng}function br(a){var b=ar(a);return b?a.Kv(0,b):0}f.gy=function(a){var b=ar(this);b&&(this.xo(0,a,b),this.ai(0))};f.mw=function(){var a=ar(this);if(a){var b=br(this);this.xo(0,Math.min(b+10,200),a);this.ai(0)}};
f.Uu=function(){var a=ar(this);if(a){var b=br(this);this.xo(0,Math.max(b-10,-200),a);this.ai(0)}};f.We=function(a,b,c,d){this.Pd.fontFamily=!0;ao.call(this,a,b,c,d)};f.Dc=function(a,b,c){this.Pd.fontSize=!0;eo.call(this,a,b,c)};f.yg=function(a,b){this.Pd.bold=!0;jo.call(this,a,b)};f.Ag=function(a,b){this.Pd.italic=!0;ko.call(this,a,b)};f.Jf=function(a,b){this.Pd.justification=!0;ho.call(this,a,b)};f.setColor=function(a,b){this.Pd.color=!0;io.call(this,a,b);this.kc()};
f.da=function(a){var b=void 0!==a&&a!==this.width;Y.prototype.da.call(this,a);a=this.A();Io(this).css("width",Math.round(a));b&&Un(this.D())};f.ca=function(){var a=Io(this).prop("scrollHeight")||0;Y.prototype.ca.call(this,a)};f.kb=function(){Io(this).css("transform","translateY("+cr(this)+"em) scale("+O+")").css("transform-origin","top left").css("width",this.A());Y.prototype.kb.apply(this,arguments)};f.wi=function(){return this.ea};
f.Fe=function(){if(this.rc)return this.rc;var a=new Ki;Kn(this.ea).Tc.forEach(function(b){(b=R(b))&&a.cd(b)});return this.rc=a};f.Fa=function(a){return 0!==a?$():this.ea};f.eb=function(){return 0};f.dc=function(a){a=this.bt(a);a.height=this.C();return a};
f.Kh=function(a,b,c,d){var e=this,g=this.D(),h=(qq(b.htmlFontMedia)||[]).filter(Boolean),k=this.Wu(b.kerning),l=b.lineLengths;Io(this).html(b.html);this.ht(a,h);this.vo(a,Xq(b.fontMedia));this.Dc(a,b.fontSize);this.yg(a,b.bold);this.Ag(a,b.italic);this.Jf(a,b.justification);this.it(a,b.letterSpacing);this.jt(a,b.lineHeight);this.Hl(a,b.list);this.yo(a,b.textTransform);this.setColor(a,R(b.color));l&&g.data("cachedLineLengths",l);this.Pd=$.extend(!0,{},b.stylesOverriden);this.kc();this.We(a,b.fontFamily,
function(b){b&&(k&&e.ai(a),l&&Sn(g,l));c&&c(b)},d);k&&this.ey(a,k)};function dr(a,b){a.border=b?{width:b}:{width:0};a.ua()}f.Ce=function(){return this.border&&this.border.width||0};function er(a,b){a.padding=b?b:0;a.ua()}f.YB=function(){return this.padding};f.ua=function(){Y.prototype.ua.call(this);var a=this.D(),b="#000000",c=Kn(a).Tc;0<c.length&&(b=c[c.length-1]);this.Ce()?a.css("border",this.Ce()/1E3*O+"em solid "+b):a.css("border","none");a.css("padding",this.padding*O+"px")};
function cr(a){var b=0,c=0;a=a.Xq(0);140!==a&&(b=.2,c=(a-100)/200);return(b-c)*O}f.remove=function(){var a=this.D();0<a.parents("#overlays").length&&Bo(a);Y.prototype.remove.call(this)};
f.va=function(){Y.prototype.va.call(this);var a=this.D(),b=this.$a(),c=this.fb()+(this.ta()-this.K())*O,d=a.data("textToolbar"),e=a.data("selectionBox");d&&(e&&!e.hasClass("horizontalScale")&&e.addClass("horizontalScale"),Mq(d,a),b=new M(b,c,this.Wb()*O,this.Ub()*O),hp(this)&&(a=a.parents(".group").data("canvaElement"))&&(b=new M(a.$a(),a.fb(),a.Wb()*O,a.Ub()*O)),kp(d,b,2))};
f.Od=function(){Y.prototype.Od.call(this);var a=this.D(),b=a.data("textToolbar"),c=b&&b.data("colorSwatches"),d=$(".textToolbarJustification",b).data("dropdown"),e=$(".textToolbarList",b).data("dropdown");b&&b.find(".dd-container").ddslick("destroy");b&&b.remove();c&&c.remove();d&&d.remove();e&&e.remove();a.removeData("textToolbar")};
f.serialize=function(){var a=Y.prototype.serialize.call(this);if(!this.loaded){var b=this.nF;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.dc(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.Pd);for(var d in c)a[d]=c[d];return a};
function To(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}var c=this;void 0===a&&(a={});a.width=a.width||300;a.height=a.height||300;Y.call(this,a);var d=parseInt(a.spacing,10);this.spacing=isNaN(d)||!isFinite(d)||0>d?10:d;this.items=a.items||b();this.Yf=!0;d=this.D();d.addClass("grid").css("width",this.width*O).css("height",this.height*O);fr(this,gr(this.items));a=a.contents||[];this.ra=Oo(a,this.Ge(),d);Object.freeze(this.ra);this.Eb=Mo(a,this.ra);Object.freeze(this.Eb);
Lo(this,function(){window.requestAnimationFrame(function(){H.trigger("elementLoaded",c);H.trigger("elementLoaded:grid",c)})})}To.prototype=Object.create(Y.prototype);f=To.prototype;f.constructor=To;f.Ki=vp;f.Uc=function(){return-1===this.nb()?null:eq(this.ra[this.nb()])};f.kk=xp;f.dt=Ep;f.Ue=Fp;f.vg=Hp;f.Wg=Ip;f.Ua=Jp;f.ir=Kp;f.an=wp;f.Fe=function(){if(this.rc)return this.rc;var a=new Ki;this.ra.forEach(function(b){(b=b.backgroundColor)&&a.cd(b)});return this.rc=a};f.ac=function(){return this.ra.map(function(a){return a.backgroundColor})};
f.de=function(a,b){var c=this.ra[a]||this.ra[this.ra.length-1];this.Kf(a,null);c.Gl(b);this.Nb&&this.va();this.kc()};
function gr(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Gi=function(){return!0};f.Kb=function(){var a=this.nb();return-1!=a&&gq(this.ra[a])?-1<a?this.Eb[a]:null:null};f.ig=function(a){return this.Eb[a]};f.vf=function(){return this.Kb()&&this.Kb().uf()};f.gg=function(){this.Kb()&&this.Kb().gg()};f.jf=function(){this.Kb()&&this.Kb().jf()};
f.eo=function(){if(this.Kb()&&this.Kb().uf()){var a=this.D().data("imageToolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};f.bo=function(a,b){Sp(this.Eb[a],b)};f.pj=function(){var a=this.D().data("imageToolbar");a&&a.remove();this.D().removeData("imageToolbar")};f.Ox=function(){this.yl(this.nb());this.D().find(".active").removeClass("active")};function hr(a,b,c,d){if(d)return new M(0,0,a,b);c*=1.2;return new M(-c,-c,a+2*c,b+2*c)}
function fr(a,b){var c=a.D();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);ir(a)}f.ua=function(){Y.prototype.ua.call(this);ir(this);jr(this)};function ir(a){var b=Math.round(Math.round(a.spacing/2)*O);a=Io(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function jr(a){a.ra.forEach(function(a){a.update()})}
f.va=function(){function a(){var a=kr(e.U());if(a){a=e.Ua().translate(e.O(),e.K()).scale(O).translate(a.O(),a.K()).round();l&&kp(l,a,2);var g=e.ra[e.nb()];g?(g.isEmpty()?c(".imageToolbarDelete"):d(".imageToolbarDelete"),gq(g)?(d(".imageToolbarMore"),d(".imageToolbarCrop"),d(".elementToolbarPhotoFilters"),a=g.ea.find("img.placeholder"),g=g.ea.find("canvas"),a=1==a.length&&a.attr("src")?""+a.attr("src"):1==g.length?g.get(0).toDataURL():"https://static.canva.com/static/images/placeholder.jpg",b(a)):(c(".imageToolbarCrop"),
c(".imageToolbarMore"),c(".elementToolbarPhotoFilters"),b("https://static.canva.com/static/images/placeholder.jpg"),(a=e.ac()[e.nb()])&&l.find(".pickAColor \x3e span").css("background-image","none").css("background-color",a.Z()))):b("https://static.canva.com/static/images/placeholder.jpg")}}function b(a){l.find(".pickAColor \x3e span").css("background-image","url("+a+")").css("background-size","cover")}function c(a){l.find(a).removeClass("enabled").addClass("disabled")}function d(a){l.find(a).removeClass("disabled").addClass("enabled")}Y.prototype.va.call(this);
var e=this,g=this.D(),h=this.$a(),k=this.fb()+(this.ta()-this.K())*O,h=new M(h,k,this.Wb()*O,this.Ub()*O),k=g.data("toolbar"),l=g.data("imageToolbar");k&&kp(k,h,2);g.is(".cropping")?this.kk():(this.vg(),l&&a())};f.Od=function(){Y.prototype.Od.call(this);this.pj();this.vg()};function lr(a,b){a.spacing=b;a.ua()}f.remove=function(){Y.prototype.remove.call(this);this.Eb.forEach(function(a){a.remove()});this.pj()};f.fw=function(){return!0};
f.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.ra.forEach(function(a,e){var g;a.isEmpty()||(g=a.serialize(),g.filter=Up(b.Eb[e]),c.push(g))});a.contents=c;return a};f.Hh=function(a){if(!this.Ki()){pp.$f();var b=$(".item .placeholder.active, div.content.active",this.D());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.D().hasClass("selected")&&Qq(this.D(),Ab(this.B))}};
f.md=function(){var a=this.D().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.nb=function(){var a=this.D().find(".item .content.active");0===a.length&&(a=this.D().find(".item.filled .content"));return this.D().find(".item .content").index(a)};f.Dk=function(a){return this.D().find(".item .placeholder").eq(a)};f.Ge=function(){return this.D().find(".item .placeholder").length};
f.qf=function(a){a=this.Dk(a).parent("div.content");var b=new M(0,0,this.width,this.height);a=a.parentsUntil(".inner").reverse();lh(b,this.spacing);a.each(function(a,d){d=$(d);var e=parseFloat(d.data("left"))||0,g=parseFloat(d.data("top"))||0,h=parseFloat(d.data("width"))||1,k=parseFloat(d.data("height"))||1;b.translate(e*b.A(),g*b.C()).da(b.A()*h).ca(b.C()*k)});b.da(b.A()-this.spacing).ca(b.C()-this.spacing);return b};f.mg=function(a){return(a=this.ra[a])?a.serialize():null};
f.Di=function(a){return this.ra[a]||null};f.Kf=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.ra[a];e&&(b&&b.mediaId?Gp(Rq(Sq(Tq(mr(e),b.mediaId,b.mediaVersion,c),b.origin?new wh(b.origin):null),b.mediaApproved),fh(b.imageBox)).tj(b.flipOrientation):b&&b.backgroundColor?e.Gl(R(b.backgroundColor)):(e.clear(),this.Eb[a].remove(),nr(this.Eb[a],new or)))};f.yl=function(a){this.Kf(a,null)};f.Lk=function(){return!0};
f.Fk=function(){return{imageBoxes:this.ra.map(function(a){return a.isEmpty()?null:eq(a).serialize()})}};f.hy=function(a){a=a.imageBoxes;for(var b=0;b<this.ra.length;b++){var c=this.ra[b],d=a[b];d&&!c.isEmpty()&&Gp(c,fh(d))}};f.Nv=function(){for(var a=[],b=0;b<this.Ge();b++){var c=this.Di(b);c&&a.push(c)}return a};f.vr=function(){return!0};function pr(a){this.a=a}function qr(){var a=document.createElement("a");return new pr(a)}function rr(a,b){var c=a.a;c.href=b;return"data:"==c.protocol||"blob:"==c.protocol||":"==c.protocol||""==c.hostname?!1:c.protocol!=window.location.protocol||c.hostname!=window.location.hostname||c.port!=window.location.port}
function zp(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(q)===c&&(d.one("error",k),d.attr(q,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",q=null;d&&d.length&&(q="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),rr(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(q,c))})}function Op(a,b){return zp(a,new Image,b)}var Ap=qr();function jn(a){this.T=a}
function sr(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("query"in b?"\x26query\x3d"+encodeURIComponent(b.query):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in
b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""))+("includeTotal"in b?"\x26includeTotal\x3d"+encodeURIComponent(b.includeTotal):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("skip"in b?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.T.get(b,function(a,b){var g=null;200==a&&(g={media:tr(b.media),total:b.total});c&&c(a,g)})}
function ur(a,b){return we(a.T,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Ye)}
jn.prototype.Qa=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.T.get(a,function(a,b){var d=200==a?Ye(b):null;c&&c(a,d)})};function vr(a,b,c){return new P(function(a,e){this.Qa(b,c,function(b,c){kf(b)?a(c):e(b)})}.bind(a))}
function wr(a,b,c){function d(a){return a.F()+":"+a.V()}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.T.get(b,function(a,b){var d=null;200==a&&(d={media:tr(b.media)});c&&c(a,d)})}
function xr(a,b){return new P(function(a,d){wr(this,b,function(b,g){kf(b)?a(g):d()})}.bind(a))}function yr(a,b,c){a.T.post("/media/"+encodeURIComponent(b.F())+"/"+b.V(),b,null,function(a,b){var g=200==a?Ye(b):null;c&&c(a,g)})}function zr(a,b,c,d){b=(new Ar).ke(b).Sd(c).Qf(!0);yr(a,b,d)}function Br(a,b,c){return new P(function(a,e){zr(this,b,c,function(b,c){kf(b)?a(c):e(b)})}.bind(a))}
jn.prototype.Vy=P.method(function(a,b){function c(a){return 404===a}function d(){return vr(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.ia().ub(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.ia().ub()===Cr?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var Np="THUMBNAIL",Vd="SCREEN",Mp="PRINT",Cr="APPROVED",Rd="VECTOR",Pd="RASTER",Dr={kI:"F",pI:"K",vI:"G",yI:"P",zI:"R",BI:"S"},Go="DOCUMENT",Ud="FACEBOOK",Fo="LAYOUT";function yh(a,b){this.id=a;this.version=b}yh.prototype.F=function(){return this.id};yh.prototype.V=function(){return this.version};function Xq(a){return a?$.extend(new yh(a.id,a.version),a):null}function qq(a){return a?a.map(Xq):null}
function Er(){this.url="";this.height=this.width=0;this.watermarked=!1;this.page=0;this.quality=null}f=Er.prototype;f.aa=function(){return this.url};f.C=function(){return this.height};f.A=function(){return this.width};f.U=function(){return this.page};f.Pv=function(){return this.quality};function uk(a){return a?$.extend(new Er,a):null}function Fr(a,b){this.locale=a;this.text=b}function Gr(a){return new Fr("en_US",a)}Fr.prototype.cn=function(){return this.locale};Fr.prototype.Ek=function(){return this.text};
function Hr(a){return a?$.extend(new Fr(a.locale,a.text),a):null}
function Ir(){this.version=0;this.listed=this.restrictedAccess=!1;this.status="PENDING_SUBMISSION";this.rejectionReason=void 0;this.importState="PENDING_IMPORT";this.designType=this.designVersion=this.importMessage=void 0;this.description=this.title=this.artist="";this.recolorable=this.repeating=this.textholder=this.photoholder=this.isolated=this.cutout=this.background=!1;this.superKeywords=[];this.keywords=[];this.files={};this.quality=void 0;this.ageRating=null;this.priceModel={};this.reviewedDate=
this.reviewedBy=this.submittedDate=this.submittedBy=this.spritesheetMetadata=void 0}f=Ir.prototype;f.V=function(){return this.version};f.ub=function(){return this.status};f.Ka=function(){return this.title};f.ib=function(){return this.background};f.tf=function(){return this.cutout};f.Wk=function(){return this.repeating};f.gc=function(){return this.recolorable};f.ar=function(){return this.superKeywords};f.ih=function(){return this.keywords};f.Lb=function(){return this.files};f.Pv=function(){return this.quality};
f.$q=function(){return this.spritesheetMetadata};function Jr(a){return a.priceModel}function Kr(){this.importFilename=this.importBucket=this.importKey=this.id="";this.type="PARENT";this.copyright="";this.bundle=new Ir;this.deactivated=!1;this.brand="";this.design=this.user=void 0}f=Kr.prototype;f.F=function(){return this.id};f.zb=function(){return this.type};f.ia=function(){return this.bundle};f.ma=function(){return this.brand};f.hb=function(){return this.user};
function Ye(a){if(!a)return null;a=$.extend(new Kr,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new Ir,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(Hr));c.keywords&&(c.keywords=c.keywords.map(Hr));if(c.files)for(b in c.files)c.files[b]=uk(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Lr(c.spritesheetMetadata));b=c}else b=null;a.bundle=b}return a}function tr(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Ye(a[c]));return b}
function Mr(){this.projections=[]}f=Mr.prototype;f.Pj=function(a){this.brand=a;return this};f.Uj=function(a){this.user=a;return this};f.Mg=function(a){this.restricted=a;return this};f.Sj=function(a){this.staging=a;return this};f.Zy=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.Wo=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Yl=function(a,b){this.skip=a;this.limit=b;return this};f.Qf=function(a){this.deactivated=a;return this};f.Yo=function(a){this.locale=a;return this};
f.Kg=function(){this.projections.push("F");return this};f.iu=function(){this.projections.push("P");return this};f.Xo=function(){this.projections.push("K");return this};f.gu=function(){this.projections=Object.keys(Dr).map(function(a){return Dr[a]});return this};function Nr(a,b){a.includeTotal=b;return a}function Or(a,b){a.types=b;return a}function Pr(){}Pr.prototype.Lg=function(a){this.name=a;return this};Pr.prototype.Mg=function(a){this.restricted=a;return this};
Pr.prototype.bz=function(a){this.listed=a;return this};function Qr(a,b){a.fileSize=b;return a}Pr.prototype.Yo=function(a){this.locale=a;return this};function Wp(){}Wp.prototype.Sd=function(a){this.version=a;return this};Wp.prototype.Sj=function(a){this.staging=a;return this};function Rr(a){a.projection="";return a}Wp.prototype.Kg=function(){this.projection=(this.projection||"")+"F";return this};Wp.prototype.Xo=function(){this.projection=(this.projection||"")+"K";return this};
function Sr(){this.projections=[]}function Tr(a,b){a.refs=b;return a}f=Sr.prototype;f.Wo=function(a){this.ids=a;return this};f.Sj=function(a){this.staging=a;return this};f.gu=function(){this.projections=Object.keys(Dr).map(function(a){return Dr[a]});return this};f.iu=function(){this.projections.push("P");return this};f.Kg=function(){this.projections.push("F");return this};function Ar(){}f=Ar.prototype;f.ke=function(a){this.id=a;return this};f.F=function(){return this.id};
f.Sd=function(a){this.version=a;return this};f.V=function(){return this.version};f.Qf=function(a){this.deactivated=a;return this};f.bz=function(a){this.listed=a;return this};f.$y=function(a){this.importVersion=a;return this};function Ur(a,b){a.superKeywords=b;return a}f.Xo=function(a){this.keywords=a;return this};f.Yo=function(a){this.locale=a;return this};function Vr(a,b,c,d){this.layers=a;this.spritesWide=b;this.spritesHigh=c;this.fullyRecolorable=d}function Wr(a){return a.spritesWide}
Vr.prototype.Li=function(){return this.fullyRecolorable};Vr.prototype.serialize=function(){return{spritesWide:Wr(this),spritesHigh:this.spritesHigh,layers:this.layers.map(function(a){return a.serialize()}),fullyRecolorable:this.Li()}};function Lr(a){var b=a.layers.map(Xr);return new Vr(b,a.spritesWide,a.spritesHigh,a.fullyRecolorable)}function Yr(a,b,c){this.type=a;this.layerIndex=b;this.color=c}f=Yr.prototype;f.zb=function(){return this.type};f.Bi=function(){return this.layerIndex};f.kf=function(){return this.color};
function Xr(a){return new Yr(a.type,a.layerIndex,a.color)}function Zr(a){switch(a.zb()){case "RECOLORABLE":return R(a.kf());case "BACKGROUND_R":return Gh(new Ch,255,0,0);case "BACKGROUND_G":return Gh(new Ch,0,255,0);case "BACKGROUND_B":return Gh(new Ch,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.Ji=function(){return"BACKGROUND_A"==this.zb()};f.gc=function(){return"RECOLORABLE"==this.zb()};
f.serialize=function(){var a={type:this.zb()};this.Bi()&&(a.layerIndex=this.Bi());this.kf()&&(a.color=this.kf());return a};function $r(a,b,c){this.Oh=a;this.aH=b;this.bH=c;this.oy=null;this.Gr=this.Hr=0;this.KA=this.Oh.Ji()?"destination-in":"lighter";this.color=Zr(this.Oh);this.Zb=null}f=$r.prototype;f.gc=function(){return this.Oh.gc()};f.Ji=function(){return this.Oh.Ji()};f.Bi=function(){return this.Oh.Bi()};f.kf=function(){return this.color};f.setColor=function(a){this.Oh.gc()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.Zb=a.getImageData(b,c,d,e);c=ja([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.Zb.data.length;d+=4){e=this.color;var g=ja([e.r,e.g,e.b]);e=g.next().value;var h=g.next().value,g=g.next().value;this.Zb.data[d]=this.Zb.data[d]/255*e;this.Zb.data[d+1]=this.Zb.data[d+1]/255*h;this.Zb.data[d+2]=this.Zb.data[d+2]/255*g}a.putImageData(this.Zb,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){as(b,this.KA);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function as(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}function bs(a){this.Lf=a.Lf;this.xt=a.xt;this.wt=a.wt;this.Li=a.Li;this.hc=a.hc;this.Si=a.Si;this.mr=a.mr;this.Tn=[];this.mm=null;this.km=!1}function cs(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=ds(a),e=Wr(a),g=a.spritesHigh;a=a.Li();var h=qr();return(new bs({Lf:d,xt:e,wt:g,hc:b,Si:c,Li:a,mr:h})).init()}
function ds(a){return a.layers.map(function(b,c){return new $r(b,c%Wr(a),Math.floor(c/Wr(a)))}).sort(function(a,c){return a.Ji()?1:c.Ji()?-1:a.Bi()-c.Bi()})}bs.prototype.init=function(){this.Tn=es(this);return this};function fs(a,b){a.mm=null;a.km=!1;return Op(a.mr,b).then(function(b){return gs(a,b)}).then(function(){return hs(a)}).then(function(){return is(a)}).then(function(){return a.km=!0}).catch(function(){throw Error("Could not build spritesheet");})}bs.prototype.gc=function(){return this.Lf.some(function(a){return a.gc()})};
function js(a){var b=[qp,rp,sp];return a.Li&&a.Tn.every(function(a){return b.some(function(b){return b.equals(a)})})}function es(a){return ks(a).map(function(a){return a.kf()})}function ks(a){return a.Lf.filter(function(a){return a.gc()})}bs.prototype.toDataURL=function(){return this.km&&this.mm||(this.mm=this.hc.canvas.toDataURL())};
function ls(a,b){var c=a.Lf.indexOf(b);if(!(0>c)){var d=a.Si,e=c*a.hc.canvas.width,g=a.hc.canvas.width,h=a.hc.canvas.height;as(d,"source-over");d.drawImage(b.oy,b.aH*b.Hr,b.bH*b.Gr,b.Hr,b.Gr,e,0,g,h);if(b.Oh.Ji()){var k=ja([e,0]),c=k.next().value,k=k.next().value;b.Zb=b.Zb||d.getImageData(e,0,g,h);for(e=0;e<b.Zb.data.length;e+=4)b.Zb.data[e+3]=b.Zb.data[e],b.Zb.data[e]=b.Zb.data[e+1]=b.Zb.data[e+2]=255;d.putImageData(b.Zb,c,k)}else b.color&&(as(d,"multiply")?(d.fillStyle=b.color.toString(),d.fillRect(e,
0,g,h)):b.multiply(d,e,0,g,h))}}function gs(a,b){var c=b.width/a.xt,d=b.height/a.wt;a.hc.canvas.width=c;a.hc.canvas.height=d;a.Si.canvas.width=a.Lf.length*c;a.Si.canvas.height=d;a.Lf.forEach(function(a){a.oy=b;a.Hr=c;a.Gr=d})}function hs(a){a.Lf.forEach(function(b){ls(a,b)})}
function is(a){a.hc.clearRect(0,0,a.hc.canvas.width,a.hc.canvas.height);a.Lf.forEach(function(b,c){return b.compose(a.Si,a.hc,c*a.hc.canvas.width,0,a.hc.canvas.width,a.hc.canvas.height,0,0,a.hc.canvas.width,a.hc.canvas.height)})};function So(a){if("print"==Ro)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.Cw=null;this.py=Lr(a.spritesheetMetadata);this.Mf=cs(this.py);Y.call(this,a);this.ja=a.mediaId;this.ka=a.mediaVersion;this.vb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.D();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.Mf.hc.canvas);this.Ah();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=R(a.color);c&&b.de(a.index,c)});this.Bg(this.ja,this.ka)}}So.prototype=Object.create(Y.prototype);f=So.prototype;f.constructor=So;f.Bg=function(a,b){this.ja=a;this.ka=b;this.loaded=!1;var c=Aa.ob(a,b);c?ms(this,c):H.trigger("elementLoadingError",this)};
function ms(a,b){var c=b[Vd];a.Jh(b[Np].aa());fs(a.Mf,c.aa()).then(function(){this.loaded=!0;this.kc();this.tl?this.mj():this.Ah();H.trigger("elementLoaded",this);H.trigger("elementLoaded:graphic",this)}.bind(a)).catch(function(){H.trigger("elementLoadingError",this)}.bind(a))}f.My=function(){this.loaded&&this.Jh(this.Mf.toDataURL())};f.YA=_.debounce(So.prototype.My,200);f.Jh=function(a){var b=this.D().find(".imgPlaceholder");zp(Ap,b,a)};
function ns(a){return a.loaded&&a.Cw!==a.tl?(a.Cw=a.tl,!0):!1}f.mj=function(){Y.prototype.mj.call(this);ns(this)&&(this.D().find(".canvasPlaceholder").show(),this.D().find(".imgPlaceholder").hide())};f.Ah=function(){Y.prototype.Ah.call(this);ns(this)&&(this.My(),this.D().find(".imgPlaceholder").show(),this.D().find(".canvasPlaceholder").hide())};f.Xl=function(a){Jj(a,this.Vb())||(this.Il(!1),this.ka=this.ja=null)};f.sg=function(){return!0};
f.Vb=function(){return null!=this.ja&&null!=this.ka?new yh(this.ja,this.ka):null};f.Os=function(){var a=this.Vb();a&&this.Bg(a.F(),a.V())};f.Mi=function(){return this.vb};f.Il=function(a){this.vb=a;this.D().toggleClass("unapproved",!a);this.va()};f.gc=function(){return 0<this.ac().length};f.ac=function(){return 5<es(this.Mf).length?[]:es(this.Mf)};f.de=function(a,b){var c=this.Mf,d=ks(c)[a];d&&(c.mm=null,d.setColor(b),c.km&&(ls(c,d),is(c)));this.kc();this.YA()};
f.Fe=function(){if(this.rc)return this.rc;var a=new Ki;this.ac().forEach(function(b){a.cd(b)});return this.rc=a};f.rg=function(){return!0};f.Qo=function(){Cp(this.D().find(".placeholder"),null,this.Ya)};f.jj=function(){if(ra){ip(this);var a=this.D().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})}};
f.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ja;a.mediaVersion=this.ka;this.vb||(a.mediaApproved=!1);a.spritesheetMetadata=this.py.serialize();var b=this.ac().map(function(a,b){return{index:b,color:a.Z()}});0<b.length&&(a.fillColors=b);return a};f.fk=function(){return js(this.Mf)};function os(a){var b=a.$j;1<=b||0>=b?a.Ah():a.mj()}
f.Al=function(){if(this.gc()&&this.fm&&null!==this.Ze&&this.fk()){this.fm=!1;os(this);var a;this.Mf.Tn.forEach(function(b,c){switch(b.Z()){case qp.Z():a=this.Ze.xh;break;case rp.Z():a=this.Ze.Fh;break;case sp.Z():a=this.Ze.Rh;break;default:a=null}if(a){var d=Lh(b,a,this.$j);this.de(c,d)}}.bind(this))}};So.prototype.ay=So.prototype.de;function ps(){this.Js=0}var qs=["tame","angry"];
ps.prototype.de=function(a,b){this.ay(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ja))&&rs(this)){this.Js=this.Js||0;this.mj();var c=qs[this.Js++]||"flipOut",d=this.D().find(".placeholder");d.addClass(c);var e=this.ac(),g={overflow:"visible",zIndex:5},h=$(".page .elements"),k={},l;for(l in g)k[l]=h.css(l);h.css(g);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.Mf.Tn.forEach(function(b,c){var d=Nh(e[c],b,a);this.ay(c,d)}.bind(this))}.bind(this),always:function(){this.Ah();this.va();
d.removeClass(c);h.css(k)}.bind(this)})}};function rs(a){return a.ac().every(function(a){return a.equals(R("#cc0000"))})}_.extend(So.prototype,ps.prototype);function Vo(a){this.elements=[];this.activeElement=null;this.LA={};this.ed(a);Y.call(this,a);this.Ol={Transparency:Dc(Ab(this.B))};a={id:"HorizontalAlignLeft",name:Ab(this.B).format("editorToolbarElementHorizontalAlignLeft"),enabled:!0};var b={id:"HorizontalAlignCenter",name:Ab(this.B).format("editorToolbarElementHorizontalAlignCenter"),enabled:!0},c={id:"HorizontalAlignRight",name:Ab(this.B).format("editorToolbarElementHorizontalAlignRight"),enabled:!0},d={id:"VerticalAlignTop",name:Ab(this.B).format("editorToolbarElementVerticalAlignTop"),
enabled:!0},e={id:"VerticalAlignCenter",name:Ab(this.B).format("editorToolbarElementVerticalAlignCenter"),enabled:!0},g={id:"VerticalAlignBottom",name:Ab(this.B).format("editorToolbarElementVerticalAlignBottom"),enabled:!0},h={id:"HorizontalDistribute",name:Ab(this.B).format("editorToolbarElementHorizontalDistribute"),enabled:!0},k;k=Ab(this.B).format("editorToolbarElementVerticalDistribute");this.su=[a,b,c,d,e,g,h,{id:"VerticalDistribute",name:k,enabled:!0}];this.jm()}
function ss(a,b){var c=Math.min(100,b.tc+a.tc),d;d=Ah([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]);var e=-a.rotation,g=new zh,h=e*Math.PI/180,e=Math.cos(h),h=Math.sin(h);g.m[0]=e;g.m[1]=h;g.m[2]=-0*e-0*h;g.m[3]=-1*h;g.m[4]=e;g.m[5]=-0*e+0*h;d=d.transform(g);g=Bh(d);return{tc:c||0,rotation:Ho(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:g[1]-b.height/2+a.top+a.height/2,left:g[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}Vo.prototype=Object.create(Y.prototype);
f=Vo.prototype;f.constructor=Vo;f.Uk=function(){return!0};f.ed=function(a){function b(a,b){return a.elementIndex>b.elementIndex}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=Jd(a))&&c.addElement(a)})};
function ts(a,b){Zo(a,Math.min.apply(null,b.map(function(a){return a.Ja()})));fp(a,Math.min.apply(null,b.map(function(a){return a.ta()})));a.da(Math.max.apply(null,b.map(function(a){return a.tb()}))-a.O());a.ca(Math.max.apply(null,b.map(function(a){return a.cb()}))-a.K());return a}function us(a){ts(a,a.elements);a.kb()}
function vs(a,b,c){function d(a){return a instanceof Mj&&a!==b}function e(a){return a.ta()>b.ta()}function g(a,b){return a.ta()>b.ta()}if(-1!==a.elements.indexOf(b)){var h=a.elements.filter(d).filter(e).sort(g),k=b.K()+c,l=b.K()+b.C();l>k?h.forEach(function(a){5>Math.round(Math.abs(a.K()-k))&&a.K()<l&&(k=a.qa(),a.Ha(l+1),l=a.qa())},a):l<k&&h.forEach(function(a){5>Math.round(Math.abs(a.K()-k))&&(k=a.qa(),a.Ha(l+1),l=a.qa())},a);us(a)}}
f.jm=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.D().addClass("group").html(a);this.kb()};
f.setSize=function(a,b){var c;30>a||30>b||(void 0!==a&&void 0!==b&&(c=(a-this.A())/this.A(),Y.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(c){var b=c,g=a.A()/a.C(),h,k,l;!isNaN(b)&&isFinite(b)&&(h=a.A()+a.A()*b,g=h/g,k=a.O()+a.O()*b,l=a.K()+a.K()*b,a.setSize(h,g),a.setPosition(k,l),a instanceof Mj&&a.nc&&a.nc(0)&&(b=a.nc(0)+a.nc(0)*b,a.Dc(0,b,!0)))}a.da();a.setPosition();a.ua()}))};
f.ua=function(){Y.prototype.ua.call(this);this.elements.forEach(function(a){a.da();a.setPosition();a.ua()})};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a)};f.oj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};f.remove=function(){this.elements.forEach(function(a){a.remove()});Y.prototype.remove.call(this)};f.ha=function(){return this.elements};f.Ja=function(){return Math.min.apply(null,this.ha().map(function(a){return a.Ja()}))};
f.tb=function(){return Math.max.apply(null,this.ha().map(function(a){return a.tb()}))};f.ta=function(){return Math.min.apply(null,this.ha().map(function(a){return a.ta()}))};f.cb=function(){return Math.max.apply(null,this.ha().map(function(a){return a.cb()}))};f.Wb=function(){return this.tb()-this.Ja()};f.Ub=function(){return this.cb()-this.ta()};f.clone=function(){var a=this.serialize();return new Vo(a)};f.UB=function(){return this.su};
f.af=function(){this.activeElement=null;this.elements.forEach(function(a){a.Od();a.D().removeClass("active").removeClass("focused")})};f.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="group";a.constraints=this.LA;a.elements=this.ha().map(function(a){return a.serialize()});return a};function ws(a){Y.call(this,a);this.Qd=!0;this.Dr="vertical"===a.align;this.vw=!this.Dr;this.D().addClass("guide").addClass(a.align)}ws.prototype=Object.create(Y.prototype);f=ws.prototype;f.constructor=ws;f.Sg=function(){return!1};f.bk=function(){return!1};f.nm=function(){return!0};f.activate=function(){this.D().removeClass("inactive")};f.Ha=function(a){this.vw&&Y.prototype.Ha.call(this,a)};f.Ga=function(a){this.Dr&&Y.prototype.Ga.call(this,a)};
f.setPosition=function(a,b){this.Dr&&Y.prototype.Ga.call(this,a);this.vw&&Y.prototype.Ha.call(this,b)};function Uo(a){Y.call(this,a);this.Qd=!0;this.placeholder=a.placeholder in xs?a.placeholder:"DEFAULT";this.D().addClass("fixed").css("backgroundImage","url("+xs[this.placeholder]+")")}Uo.prototype=Object.create(Y.prototype);Uo.prototype.constructor=Uo;
var xs={DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",
TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg"};f=Uo.prototype;f.serialize=function(){return{type:"fixed"}};f.va=function(){};f.Sg=function(){return!1};f.nm=function(){return!1};f.bk=function(){return!1};function Po(a,b){this.index=a.index;this.ea=b;this.ja=a.mediaId;this.ka=a.mediaVersion;this.origin=a.origin?new wh(a.origin):null;this.pa=fh(a.imageBox);this.Hx=this.Kx=this.Jx=this.Ix=0;this.wl=!0;this.Ya=a.flipOrientation|0;this.vn=0<this.ea.parents(".svg.element").length;this.gr=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=R(a.backgroundColor));this.vb=void 0===a.mediaApproved?!0:a.mediaApproved;Rq(this,this.vb)}f=Po.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ja,mediaVersion:this.ka,imageBox:this.pa.serialize(),flipOrientation:this.Ya,mediaApproved:this.vb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.D=function(){return this.ea};
function Tq(a,b,c,d){var e=b!==a.ja||c!==a.ka;if(a.gr&&!e)return d&&d(!0),a;e&&(a.ja=b,a.ka=c,a.origin=null,Rq(a,!0));a.gr=!0;a.wl=!0;a.vn?a.ja&&a.ka&&(b=a.ea.find("image.placeholder"),a.ea.get(0).classList.add("filled"),(c=Aa.ob(a.ja,a.ka))?Lp({Xm:c,lr:b,ja:a.ja,ka:a.ka,Nn:d}):d&&(b.data("mediaId",a.ja),b.data("mediaVersion",a.ka),d(!1))):a.ja&&a.ka&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.ea.find(".placeholder").remove(),a.ea.append(b),a.ea.parent(".item").addClass("filled"),(c=Aa.ob(a.ja,
a.ka))?Lp({Xm:c,lr:b,ja:a.ja,ka:a.ka,Nn:d}):d&&(b.data("mediaId",a.ja),b.data("mediaVersion",a.ka),d(!1)));return a}function Sq(a,b){a.origin=b;return a}
function Uq(a){a.gr=!1;Rq(a,!0);a.ja=void 0;a.ka=void 0;a.origin=null;a.vn?(a.ea.get(0).classList.remove("filled"),a.ea.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href","https://static.canva.com/static/images/placeholder.jpg")):(a.ea.parent(".item").removeClass("filled"),a.ea.find(".placeholder").remove(),a.ea.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}function eq(a){return a.pa.clone()}
function Gp(a,b){a.pa=b.clone();a.wl=!0;ys(a);return a}f.tj=function(a){var b=a^this.Ya;rh(this.pa,zs(this),b);this.wl=!0;this.Ya=a;ys(this);return this};f.Ih=function(a){this.jj();this.tj(a);return this};f.Gl=function(a){this.backgroundColor=a;As(this);return this};function mr(a){a.backgroundColor=null;a.ea.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function gq(a){return!(!a.ja||!_.isNumber(a.ka))}
f.isEmpty=function(){return!(gq(this)||this.backgroundColor)};f.ob=function(){return gq(this)?Aa.ob(this.ja,this.ka):null};function Rq(a,b){(a.vb=b)?a.ea.get(0).classList.remove("unapproved"):a.ea.get(0).classList.add("unapproved");return a}f.Xl=function(a){var b=this.Vb();null!=this.backgroundColor||null==b||Jj(a,this.Vb())||(Uq(this),Rq(this,!1))};f.Vb=function(){return void 0!==this.ja&&void 0!==this.ka?new yh(this.ja,this.ka):null};f.Bg=function(a,b){this.ja=a;this.ka=b;this.update()};
f.update=function(a){var b=this.vb;void 0!==this.ja&&void 0!==this.ka?(Tq(this,this.ja,this.ka,a),ys(this)):(Uq(this),As(this),a&&a(!0));Rq(this,b)};f.clear=function(){Uq(this);mr(this)};function As(a){if(a.backgroundColor){Uq(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.Z());a.ea.find(".placeholder").replaceWith(b)}else a.clear()}
function ys(a){if(a.vn){var b=a.ea.closest(".element").data("canvaElement"),c=a.ea.find("image.placeholder"),d=zs(a);a=a.pa.clone();a.translate(d.O(),d.K()).scale(1/Jq(b));c.attr("width",a.A()).attr("height",a.C()).attr("x",a.O()).attr("y",a.K())}else{b=zs(a);c=b.A();d=b.C();if(a.wl)a.Ix=a.pa.O()/c,a.Jx=a.pa.K()/d,a.Kx=a.pa.A()/c,a.Hx=a.pa.C()/d,a.wl=!1;else{var e=jh(a.pa);a.pa.Ga(c*a.Ix);a.pa.Ha(d*a.Jx);a.pa.da(c*a.Kx);a.pa.ca(d*a.Hx);var e=e/jh(a.pa),g=c/2,h=d/2,k=1,l=0;1>e?(kh(a.pa,g,h,e,1),l=
Math.max(0,a.pa.O(),c-a.pa.Va()),k=c/(c-2*l)):1<e&&(kh(a.pa,g,h,1,1/e),l=Math.max(0,a.pa.K(),d-a.pa.qa()),k=d/(d-2*l));1<k&&kh(a.pa,g,h,k)}Cp(a.ea,null,a.Ya);c=a.pa.clone();rh(c,b,a.Ya);c.scale(O);c.round();a.ea.find("img.placeholder").css(yp(c))}}function zs(a){var b=a.ea.closest(".element").data("canvaElement");return b?b.qf(a.index):gh.clone()}f.jj=function(){var a=this.ea,b=2.5*this.pa.A();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function Cq(a){this.Zt=a.valign;this.Td=fh(a.box);this.Ic=this.Td.clone();this.Ch=a.resizeHorizontal;this.Gf=a.resizeVertical;this.contents=a.contents;this.$t=[];this.lC=[];this.scale=1;this.Ii=Bs(this);this.pw=this.Td.C()-Cs(this);Ds(this);this.ba();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ba);b.listenTo(a,"change:height",b.ba)})}Cq.prototype.trigger=Backbone.Events.trigger;Cq.prototype.listenTo=Backbone.Events.listenTo;Cq.prototype.stopListening=Backbone.Events.stopListening;
_.extend(Cq.prototype,Backbone.Events);f=Cq.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.da=function(a){Iq(a,this.A())||(this.Td.da(a),this.ba(),this.trigger("change:width",this),this.trigger("change",this))};f.A=function(){return this.Td.A()};f.ca=function(a){Iq(a,this.C())||(this.Td.ca(a),this.ba(),this.trigger("change:height",this),this.trigger("change",this))};f.C=function(){return this.Td.C()};
f.setSize=function(a,b,c){var d=this.A()!==a,e=this.C()!==b;if(d||e)this.Td.setSize(a,b),this.scale!==c&&(this.scale=c,Es(this)),this.ba(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Ei=function(){return this.Td.Ei()};f.xb=function(a,b){this.Td.Ga(a.O()).Ha(a.K());this.setSize(a.A(),a.C(),b)};f.fa=function(){return this.Td.clone()};f.Bk=function(){return this.Ic.clone()};
function Bs(a){a=a.contents.map(function(a){return a.fa()});return Array.min(a.map(function(a){return a.K()}))}function Cs(a){a=a.contents.map(function(a){return a.fa()});return Array.max(a.map(function(a){return a.qa()}))}function Fs(a){var b=Bs(a);return Cs(a)-b}function Gs(a){a=a.contents.slice(0);a.sort(function(a,c){var d=a.Bk(),e=c.Bk();return d.K()<e.K()?-1:d.K()>e.K()?1:0});return a}
function Ds(a){a.$t=[];if(!(2>a.contents.length)){var b=Gs(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.fa(),d=b[d+1].fa().K()-c.qa());a.$t.push(d)})}}function Hs(a,b){a.contents.forEach(function(c){var d=c.fa();d.translate(0,b);a.stopListening(c);c.xb(d,a.scale);a.listenTo(c,"change:width",a.ba);a.listenTo(c,"change:height",a.ba)})}
function Es(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ba);a.listenTo(b,"change:height",a.ba)})}
f.ba=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.Pl)if(b.tq)Is(b);else{var c=b.fa(),d=Js(b);c.da(d.width);c.ca(d.height);b.xb(c)}});var b=0===this.lC.length;this.contents.forEach(function(c){if(a.Ch&&b){var d=c.fa();d.A()!==a.A()&&(d.da(a.A()),c.xb(d,a.scale))}});var c=Gs(this);c.forEach(function(b,d){if(0!==d){var e=c[d-1],g=a.contents.indexOf(e),n=a.$t[g],g=b.fa(),e=e.fa().qa()+n*a.scale;g.Ha(e);b.xb(g,a.scale)}});var d=Fs(this),e=this.Td.C(),g;"CENTER"==this.Zt?
(g=this.Ii+this.pw,g=e-d-g,g=this.Ii+g/2,g-=Bs(this),Hs(this,g),d>e&&this.Gf&&(g=-Bs(this),Hs(this,g),this.ca(d))):"TOP"==this.Zt?this.Ii+d>e&&this.Gf&&this.ca(this.Ii+d):"BOTTOM"==this.Zt&&(g=this.Ii+this.pw,g=e-d-g,g=this.Ii+g,g-=Bs(this),Hs(this,g),d>e&&this.Gf&&(g=-Bs(this),Hs(this,g),this.ca(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ba);a.listenTo(b,"change:height",a.ba)})};
function Bq(a,b,c){this.le=a;this.Ic=a.data("rect").clone().translate(-b,-c);this.lk=!!a.data("dynamicWidth");this.Jm=!!a.data("dynamicHeight");this.tq=!!a.data("dynamicFontSize");this.$n=a.data("defaultFontSize");this.tq&&(this.Jm=this.lk=!1);this.lk&&this.Jm&&(this.lk=!1);this.Ba={bp:0,Oj:0,ec:0,Gb:1};this.Pl=!1}Bq.prototype.trigger=Backbone.Events.trigger;Bq.prototype.listenTo=Backbone.Events.listenTo;Bq.prototype.stopListening=Backbone.Events.stopListening;_.extend(Bq.prototype,Backbone.Events);
var Eq="center",Fq="right";f=Bq.prototype;f.D=function(){return this.le};f.Bk=function(){return this.Ic.clone()};f.fa=function(){var a=this.Ic.clone();a.Ha(this.Ba.bp+this.Ic.K()*this.Ba.Gb).Ga(this.Ic.O()*this.Ba.Gb).da(this.Ba.Oj+a.A()*this.Ba.Gb).ca(this.Ba.ec+a.C()*this.Ba.Gb);return a};
f.xb=function(a,b){void 0===b&&(b=this.Ba.Gb);var c=this.fa(),d=a.clone().scale(O).round();this.le.css(d.serialize());Ks(this);this.Ba.Gb=b;this.Ba.bp=a.K()-this.Ic.K()*this.Ba.Gb;this.Ba.Oj=a.A()-this.Ic.A()*this.Ba.Gb;this.Ba.ec=a.C()-this.Ic.C()*this.Ba.Gb;var d=!Iq(c.A(),a.A()),e=!Iq(c.C(),a.C());d&&this.trigger("change:width",this,a.A()-c.A());e&&this.trigger("change:height",this,a.C()-c.C());(d||e)&&this.trigger("change",this)};
f.scale=function(a){this.Ba.bp*=a/this.Ba.Gb;this.Ba.Oj*=a/this.Ba.Gb;this.Ba.ec*=a/this.Ba.Gb;this.Ba.Gb=a};function Ks(a){if(a.le.hasClass("text")){var b=a.fa(),c=a.le.children(".inner");c.css("width",b.A()).css("height","");var d=a.le.height();a=c.height();b=Math.round(b.A()*(O-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+O+")")}}
function Is(a){if(!a.Pl){var b=Ls(a),c=a.le.data("canvaElement"),d=a.le.data("textIndex");a.Pl=!0;c.Dc(d,b);a.Pl=!1;Ks(a)}}function wq(a){var b;if(!a.Pl)if(a.tq)Is(a);else{var c=a.fa();b=Js(a);var d=b.width;b=b.height;a.lk&&(d=Math.max(d,a.Ic.A()*a.Ba.Gb));a.Jm&&(b=Math.max(b,a.Ic.C()*a.Ba.Gb));c.da(d);c.ca(b);a.xb(c)}}
function Ls(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*gb+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*gb+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*gb+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),1)}var c=a.$n*a.Ba.Gb,d=parseFloat(a.le.data("fontSize"))*a.Ba.Gb,e=Math.floor(a.Ba.Oj+a.Ic.A()*a.Ba.Gb),g=Math.floor(a.Ba.ec+a.Ic.C()*
a.Ba.Gb);a=a.le.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*gb+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function Js(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","").forceLayout();b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Ba.Oj+a.Ic.A()*a.Ba.Gb,d=a.Ba.ec+a.Ic.C()*a.Ba.Gb,e=a.le;a.lk&&(c=b(e,"width",d));a.Jm&&(d=b(e,"height",c));return{width:c,
height:d}};function Ms(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),/^[^@]+@[^@]+$/.test(b)&&!/[ ,<>'"]/.test(b))return b};function Ns(a,b,c){this.id=a;this.length=b;this.name=c}Ns.prototype.F=function(){return this.id};Ns.prototype.kg=function(){return this.length};Ns.prototype.getName=function(){return this.name};function Os(a,b,c,d){this.id=a;this.name=b;this.rH=d;this.mF=c}Os.prototype.F=function(){return this.id};Os.prototype.getName=function(){return this.name};Os.prototype.Mb=function(){return this.rH};Os.prototype.lg=function(){return this.mF};function Ps(a,b,c){this.height=a;this.url=b;this.width=c}Ps.prototype.C=function(){return this.height};Ps.prototype.aa=function(){return this.url};Ps.prototype.A=function(){return this.width};function Qs(a,b){this.Lz=b.appId;this.Id=null;this.T=a;this.pr=[];this.status=Rs}
var Rs="UNINITIALIZED",Ss={hf:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.kl=c},param:"permissions"},Ts={fI:{hf:function(a){this.accessToken=a.accessToken}},iI:{hf:function(a,b){this.email=b.email},param:"email"},lI:{hf:function(a,b){this.Cv=b.first_name},param:"first_name"},oI:{hf:function(a){this.id=a.userID}},qI:{hf:function(a,b){this.Dw=b.last_name},param:"last_name"},uI:{hf:function(a,b){this.name=b.name},param:"name"},wI:Ss,
xI:{hf:function(a,b){this.xx=b.picture.data.url},param:"picture.type(large)"},jI:{hf:function(a){this.Nt=(new Date).getTime()+1E3*a.expiresIn}}};f=Qs.prototype;
f.init=function(a){function b(a){FB.Event.subscribe("auth.authResponseChange",function(b){"connected"==b.status?Us(a).then(c).catch(d):a.Id=null});FB.init({version:"v2.2",appId:a.Lz,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});a.status="INITIALIZED";for(var b=a.pr.length,e=0;e<b;e++)a.pr.pop()(a)}function c(a){e.Id=a}function d(){e.Id=null}var e=this;"INITIALIZED"==this.status?a(e):(this.pr.push(a),"INITIALIZING"!=this.status&&(this.status="INITIALIZING",window.fbAsyncInit=
function(){b(e)},function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="//connect.facebook.com/en_US/sdk.js",d.parentNode.insertBefore(a,d))}(document,"script","facebook-jssdk")))};function Vs(a,b){return new P(function(c,d){Ws(a,[Ss]).then(function(e){e=e.kl;var g=_.difference(b,e);a.Id&&(a.Id.kl=e);g.length?d():c()}).fail(d)})}
function Us(a){return new P(function(b,c){var d;d=Object.keys(Ts).map(function(a){return Ts[a]});Ws(a,d).then(function(d){d.email?(a.Id=new Xs(d.accessToken,d.email,d.Cv,d.id,d.Dw,d.name,d.kl,d.xx,d.Nt),b(a.Id)):c("EMAIL_NOT_VERIFIED")}).fail(c)})}
function Ws(a,b){var c=$.Deferred();a.getAuthResponse().then(function(a){for(var e=[],g=0;g<b.length;g++){var h=b[g];h.param&&e.push(h.param)}e=e.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(e),function(e){if("error"in e)c.reject("FB_API_ERROR");else{for(var g={},h=0;h<b.length;h++)b[h].hf.call(g,a,e);c.resolve(g)}})}).fail(function(b){a.Id=null;c.reject(b)});return c.promise()}
f.getAuthResponse=function(){var a=$.Deferred();FB.getAuthResponse()?a.resolve(FB.getAuthResponse()):FB.getLoginStatus(function(b){"connected"==b.status?a.resolve(b.authResponse):a.reject("UNAUTHORIZED")});return a.promise()};f.ub=function(){return this.status};f.hb=function(){return this.Id};
function Ys(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.Id=null;d(b)}function g(g){g.authResponse&&g.status?Vs(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.Id?a.Id.kl:[]);0<h.length?FB.login(g,{scope:h.join(",")}):Vs(a,b).then(c).catch(e)})}function Zs(a){return Vs(a,["email","public_profile","user_photos"])}
function $s(a,b){if("INITIALIZED"!=a.ub())throw Error("Unable to perform action. FB API not yet initialized");var c={};void 0!==b&&(c.offset=b);c.limit=10;var d=$.Deferred();FB.api("/me/albums?return_ssl_resources\x3d1",c,function(a){"error"in a?d.reject("FB_API_ERROR"):(a=a.data.map(function(a){return new Ns(a.id,a.count||0,a.name)}),d.resolve(a))});return d.promise()}
function at(a,b,c,d){if("INITIALIZED"!=a.ub())throw Error("Unable to perform action. FB API not yet initialized");a={};void 0!==c&&(a.offset=c);void 0!==d&&(a.limit=d);var e=$.Deferred();FB.api("/"+encodeURIComponent(b)+"/photos?return_ssl_resources\x3d1",a,function(a){"error"in a?e.reject("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,r=a.picture,p=a.images.filter(function(a){return a.source===r});0<p.length&&(e=p[0].height,g=p[0].width);p=a.images.sort(function(a,
b){return b.height-a.height})[0];if(p.width>c||p.height>b)b=p.height,c=p.width,d=p.source;return new Os(a.id,a.name,new Ps(b,d,c),new Ps(e,r,g))}),e.resolve(a))});return e.promise()}
f.jn=function(a,b){var c=this;return new P(function(d,e){function g(){return n.reduce(function(a,b){return a+b.kg()},0)}function h(d){var l;n=n.concat(d);d=0<d.length&&10>=d.length;l=g()<a+b;d&&l?$s(c,n.length).done(h).fail(e):k()}function k(){var d=0,g=n.filter(function(b){d+=b.kg();return d>a}),h=n.filter(function(a){return-1===g.indexOf(a)}).reduce(function(a,b){return a+b.kg()},0),k=[],q=0;g.forEach(function(d,e){var g=0===e?a-h:0,m=Math.min(b,d.kg()-g);q<b&&(g=at(c,d.F(),g,m).done(l),k.push(g));
q+=m});$.when.apply($.when,k).done(m).fail(e)}function l(a){q=q.concat(a)}function m(){d(q)}var n=[],q=[];if("INITIALIZED"!==c.ub())throw Error("Unable to perform action. FB API not yet initialized");$s(c,0).done(h).fail(e)})};
function bt(){var a=Fd;new P(function(b,c){if("INITIALIZED"!==a.ub())throw Error("Unable to perform action. FB API not yet initialized");Us(a).then(function(b){we(a.T,"/profile/user/fb",{facebookId:b.F(),accessToken:b.accessToken,tokenExpires:b.Nt}).return(b).catch(c)}).catch(c)})};function Xs(a,b,c,d,e,g,h,k,l){this.accessToken=a;this.email=b;this.Cv=c;this.id=d;this.Dw=e;this.name=g;this.kl=h;this.xx=k;this.Nt=l}Xs.prototype.Iv=function(){return this.email};Xs.prototype.F=function(){return this.id};Xs.prototype.getName=function(){return this.name};function ct(a,b,c,d){this.url=b.downloadUrl+"\x26access_token\x3d"+encodeURIComponent(a);this.file=b;this.sH=c;this.uH=d;a:{a=this.file.imageMediaMetadata.width;b=this.file.imageMediaMetadata.height;switch(this.file.imageMediaMetadata.rotation){case 1:case 3:case 2:case 4:a={width:b,height:a};break a}a={width:a,height:b}}this.Am=a}f=ct.prototype;f.F=function(){return this.file.id};f.Ka=function(){return this.file.title};f.C=function(){return this.Am.height};f.A=function(){return this.Am.width};
f.aa=function(){return this.url};f.ng=function(){return this.file.thumbnailLink};f.Sv=function(){return this.sH};f.Tv=function(){return this.uH};function dt(a){this.accessToken=a.accessToken||null;this.Ls=a.Ls||null;this.Jp=a.Jp;this.mo=a.mo;this.bj=a.bj;if(this.accessToken){var b=this;this.An().then(function(){gapi.auth.setToken({accessToken:b.accessToken})})}if(this.bj&&!a.Ls)throw Error("Client cannot be configured with offline and not have a redirectUri");this.An().then(this.yu.bind(this,!1))}dt.prototype.load=function(){return this.An()};
dt.prototype.Wm=function(a){function b(b){var g=b.result.items.map(function(a){return new P(function(b,c){var e=a.thumbnailLink;if(e){var g=new Image;g.onload=function(){this.complete&&d.accessToken?b(new ct(d.accessToken,a,this.naturalHeight,this.naturalWidth)):c()};g.src=e}else c()})});P.settle(g).then(function(g){g=g.reduce(function(a,b){b.isFulfilled()&&a.push(b.value());return a},[]);c.resolve(new et(d,g,{fj:b.result.nextPageToken,Bc:a.Bc}))})}var c=$.Deferred(),d=this;if(0>this.mo.indexOf("https://www.googleapis.com/auth/drive.readonly"))throw Error("API was not configured with DRIVE_READ scope");
this.An().then(function(){var d={q:"mimeType contains 'image/svg' or mimeType \x3d 'image/png' or mimeType \x3d 'image/jpeg'",maxResults:a.Bc};a.fj&&(d.pageToken=a.fj);(d=gapi.client.request({method:"GET",path:"https://www.googleapis.com/drive/v2/files",params:d}))&&d.then(b,function(a){c.reject(a.statusText)})}).fail(function(a){c.reject(a.statusText)});return c.promise()};dt.prototype.getToken=function(){return this.accessToken};
(function(){function a(a){var b;try{b=JSON.parse(a.data)}catch(c){return}b.f&&null===document.getElementById(b.f)&&a.stopImmediatePropagation()}var b=$.Deferred(),c;dt.prototype.SA=function(){var a;a=$("\x3cscript\x3e");a[0].onerror=b.reject.bind(b);a.attr({src:"https://apis.google.com/js/client.js?onload\x3dGoogleApiOnGapiLoad",type:"text/javascript"});a.appendTo("head");return a};dt.prototype.An=function(){c||(window.addEventListener("message",a),c=this.SA());return b.promise()};window.GoogleApiOnGapiLoad=
function(){b.resolve()}})();
dt.prototype.yu=function(a){function b(a){var b=a&&a.access_token;a=a&&a.code;b?(d.accessToken=b,c.resolve(d.accessToken)):a?c.resolve(a):c.reject("No authentication tokens received.")}var c=jQuery.Deferred(),d=this;this.accessToken?c.resolve(this.accessToken):(a={client_id:this.Jp,immediate:!a,approval_prompt:"auto",access_type:this.bj?"offline":"online",response_type:this.bj?"code":"token",scope:this.mo},this.bj&&(a=$.extend({redirect_uri:this.Ls},a)),gapi.auth.authorize(a,b));return c.promise()};
function et(a,b,c){this.google=a;this.yF=b;this.fj=c.fj;this.Bc=c.Bc}et.prototype.jn=function(){return this.yF};function ft(a){return a.google.Wm({Bc:a.Bc,fj:a.fj})};function gt(){this.T=Ba}function ht(a,b){var c=b.ma(),d=b.filter,e=b.Vc(),g=b.bc(),h=b.decorations,c="/vfolders/brands/"+(c?encodeURIComponent(c):"~")+b.gb()+"?format\x3d"+encodeURIComponent(b.Jv())+(d?"\x26filter\x3d"+encodeURIComponent(d):"")+(e?"\x26limit\x3d"+encodeURIComponent(String(e)):"")+(g?"\x26continuation\x3d"+encodeURIComponent(g):"")+(h?"\x26decorations\x3d"+encodeURIComponent(h.join(",")):"");return ze(a.T,c).get(0).then(it)};function jt(){this.width=this.height=0;this.url="";this.version=0}jt.prototype.A=function(){return this.width};jt.prototype.C=function(){return this.height};jt.prototype.V=function(){return this.version};jt.prototype.aa=function(){return this.url};function kt(a){return a?$.extend(new jt,a):null}function lt(){this.kind=mt;this.type=nt;this.name=this.id="";this.timestamp=this.version=0;this.thumbnail=new jt;this.tags=[];this.folders=this.owner=this.marketplaceStatus=null}var mt="SIMPLE",nt="DESIGN";
f=lt.prototype;f.zb=function(){return this.type};f.F=function(){return this.id};f.getName=function(){return this.name};f.V=function(){return this.version};f.Uv=function(){return this.timestamp};f.Mb=function(){return this.thumbnail};f.jg=function(){return this.folders};function ot(){}ot.prototype.hb=function(){return this.user};ot.prototype.ma=function(){return this.brand};function pt(){}pt.prototype=new lt;function qt(){this.content=null}qt.prototype=new pt;qt.prototype.mf=function(){return this.content};
function rt(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function st(){this.publik=this.brandPublik=!1;this.myRole="NONE";this.commentCount=this.likerCount=this.remixCount=0;this.likedByMe=!1;this.ownerUser=this.latestComment=null}st.prototype=new lt;function tt(){}f=tt.prototype;f.Pj=function(a){this.brand=a;return this};
f.ma=function(){return this.brand||null};f.Uj=function(a){this.user=a;return this};f.hb=function(){return this.user||null};f.Rf=function(a){this.folder=a;return this};f.gb=function(){return this.folder};function ut(a,b){a.filter=b;return a}f.Vo=function(a){this.format=a;return this};f.Jv=function(){return this.format};f.Qj=function(a){this.continuation=a;return this};f.bc=function(){return this.continuation||null};f.Rj=function(a){this.limit=a;return this};f.Vc=function(){return this.limit};
function vt(){this.items=[];this.folders=this.continuation=null}vt.prototype.nd=function(){return this.items};vt.prototype.bc=function(){return this.continuation};vt.prototype.jg=function(){return this.folders};
function it(a){function b(a){if(a.kind===mt)a?(a=$.extend(new pt,a),a.kind=mt,a.owner&&(a.owner=Object.freeze(G(ot,a.owner))),a.thumbnail&&(a.thumbnail=kt(a.thumbnail))):a=null;else if("SOCIAL"===a.kind)if(a){a=$.extend(new st,a);a.kind="SOCIAL";if(a.latestComment){var b=a.latestComment;b.author.deactivated&&(b.author.username="",b.author.displayName+=" [deleted]",b.author.avatar=mm);var e=new vm;$.extend(e,b);e.author=Ll(b.author);a.latestComment=e}a.owner&&(a.owner=Object.freeze(G(ot,a.owner)));
a.thumbnail&&(a.thumbnail=kt(a.thumbnail));a.ownerUser=Ll(a.ownerUser)}else a=null;return a}if(!a)return null;a=$.extend(new vt,a);a.items&&(a.items=a.items.map(b));a.folders&&(a.folders=a.folders.map(Le));return a};function wt(a,b,c){this.name=a;this.Gt=b;this.R=c}wt.prototype.mc=function(){if(this.name)return this.name;if(this.Gt){if("LOGOS"===this.Gt)return this.R.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===this.Gt)return this.R.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.R.format("objectPanelUploadsPanelUntitledFolder")};function or(a){this.name=a||"Normal";this.bd=this.vignette=this.Jc=this.saturation=this.contrast=this.brightness=this.blur=0;this.he=50}var xt=new or,yt=new or("halftone");
function zt(a){var b=a.match(/([a-z0-9]{2})/gi),c=new or;if("halftone"===a)return yt;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.Jc=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.bd=parseInt(b[6],16)-100;c.he=7<b.length?parseInt(b[7],16):xt.he;return c}function At(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function Bt(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function Ct(a,b){var c=_.findWhere(Dt,{name:a.name});_.chain(c).keys().filter(At).each(function(a){this.uo(a,Bt(a,c[a],b))}.bind(a))}function Et(a){var b=new or;b.ed(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=or.prototype;
f.ed=function(a){a&&(this.name=a.name||xt.name,this.blur=a.blur||xt.blur,this.brightness=a.brightness||xt.brightness,this.contrast=a.contrast||xt.contrast,this.saturation=a.saturation||xt.saturation,this.Jc=a.tint||xt.Jc,this.vignette=a.vignette||xt.vignette,this.bd=a.xpro||xt.bd,this.he=_.isNumber(a.tintAmount)?a.tintAmount:xt.he)};
function Ft(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?xt:a;b=void 0===b?xt:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.uo=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.Jc=b,!0;case "xpro":case "xprocess":return this.bd=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.he=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.Jc;case "xpro":case "xprocess":return this.bd;case "vignette":return this.vignette;case "tintAmount":return this.he;default:throw Error("unknown filter property name: "+a);}};f.xr=function(){return null!==Gt(this)};
f.serialize=function(){if(Ft(this,xt))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.Jc&&(a.tint=this.Jc);this.vignette&&(a.vignette=this.vignette);this.bd&&(a.xpro=this.bd);_.isNumber(this.he)&&(a.tintAmount=this.he);return a};
function Gt(a){var b=_.findWhere(Dt,{name:a.name});if(null===b)return null;var c=Ht(a,b);return null===c?null:_.all(b,function(a,e){return At(e)?1>=Math.abs(this.getByName(e)-Bt(e,b[e],c)):!0}.bind(a))?c:null}function Ht(a,b){var c=0,d=null;_.each(b,function(a,b){At(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.Z=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.Jc+100,this.blur+100,this.vignette,this.bd+100,this.he].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function It(a,b){var c=a-200/7;0>c&&(c=200+c);var d,e,c=360*c/200/360;d=1;e=.5;if(0==d)e=d=c=e;else{var g=.5>e?e*(1+d):e+d-e*d,h=2*e-g;e=Mh(h,g,c+1/3);d=Mh(h,g,c);c=Mh(h,g,c-1/3)}c=[Math.round(255*e),Math.round(255*d),Math.round(255*c)];return{color:{r:c[0],g:c[1],b:c[2]},rp:7+.14*(b-50)}}
function Jt(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function Kt(a){this.filter=new or;this.sf=this.Hs=this.Ud=!1;this.Hm={};this.qB="";this.ab=a;this.Wp="print"==Ro?Mp:Vd;this.ut=null;this.Rk=50}function No(a,b){var c=new or,d=new Kt(b);a&&c.ed(a);nr(d,c);return d}f=Kt.prototype;f.xr=function(){return this.filter.xr()};f.uf=function(){return this.sf};f.initialize=function(a){function b(){c.sf=!0;a&&a()}var c=this;!gq(this.ab)||this.sf||Ft(this.filter,xt)?b():Sp(this,b)};function Lt(a){a.ld||(a.ld=new Mt(window,a.ab,a.Wp),a.ld.update(!0))}
f.update=function(a,b){var c=this;if(this.Ud)if(this.ut=Up(this),this.trigger("change"),this.ab.isEmpty())this.ld&&(this.ld.remove(),this.ld=null),this.Ud=!1,b&&b();else{this.ld||(this.ld=new Mt(window,this.ab,this.Wp));var d=!!this.Hs;Nt(this.ld.apply(this.filter),d).update(!!a,function(){c.Ud=!1;b&&b()})}else b&&b()};function Sp(a,b){a.Ud=!0;a.Hs=!0;a.gg();a.update(!0,function(){a.Hs=!1;a.jf();b&&b()})}
f.uo=function(a,b,c){"intensity"===a?(this.Rk=b,Ct(this.filter,b/50),this.Ud=!0):this.Ud=this.filter.uo(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.Rk:this.filter.getByName(a)};function nr(a,b){a.filter=b;a.Rk=Math.round(50*Gt(b))}function Ot(a,b){a.filter=new or;a.Rk=50;b&&a.filter.ed(b);Sp(a,void 0)}function Pt(a){a.filter=new or;a.Rk=50;a.Ud=!0;Sp(a,void 0)}function Up(a){return a.filter.serialize()}f.Z=function(){return this.filter.Z()};f.gg=function(){};
f.jf=function(){if(this.ld){var a=Nt(this.ld,!0);if(!a.Xt)if(a.Vl)Qt(a);else if(a.canvas){var b=a.Zo.clone(!0).off().removeAttr("crossorigin"),c=Rt(a);c?(b.get(0).src=c,St(a)):(c=a.canvas.toDataURL(),a.cache.add(Tt(a),c),b.get(0).src=c);a.ea.find("img,canvas").remove();a.ea.append(b);a.Zo=b;$("#limbo").append(a.canvas);a.Lj=!1}}};f.ob=function(){return this.ab.ob()};
f.sq=function(a,b,c){var d=new or;a&&d.ed(a);this.ab.serialize().mediaId+this.ab.serialize().mediaVersion!==this.qB&&(this.Hm={});if(this.Hm[d.name])c(this.Hm[d.name]);else if(a=this.ob()){var e=this,g=b?Np:this.Wp,h=a[g];b=h.aa();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.A(),b=h.C();k.css("width",a).css("height",b);var a=new Po(e.ab.serialize(),k),n=new Mt(window,a,g);n.apply(d).sq().update(!0,function(){var a={src:Ut(n),$H:Vt(n)};
e.Hm[d.name]=a;c(a);n.remove();k&&k.remove()})});zp(Ap,a,b)}};f.remove=function(){this.ld&&this.ld.remove();this.ld=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(Kt.prototype,Backbone.Events);var Dt=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function Mt(a,b,c){this.ab=b;this.Is=c;this.ea=this.ab.D();this.Xt=this.ab.vn;this.Vl=Wt;this.zr=this.Im=this.Ud=this.locked=this.Lj=!1;!this.Vl&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(Xt=a,Yt=b,this.Vl=Wt=!0))}var Xt,Yt;Mt.prototype.XB=function(){var a=0;return function(){a+=1;return a.toString()}}();var Wt=!1;Mt.prototype.sq=function(){this.Im=!0;return this};Mt.prototype.apply=function(a){this.values=new or;this.values.ed(Et(a).serialize());return this};
function Nt(a,b){a.Lj=b;return a}Mt.prototype.update=function(a,b){this.zr||!a&&this.locked||(this.Xt?this.RH(b):this.Vl?Zt(this,b):$t(this,a,b))};function Qt(a){function b(){this.Lj=!1;c.ea.find("img,canvas").remove();c.ea.append(d);c.Zo=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.Zo.clone(!0).off().removeAttr("crossorigin"),e=Rt(a);e?(d.get(0).src=e,b(),St(a)):Zt(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(Tt(c),a);b()})}}
function au(a,b){var c=eq(a.ab).scale(O).round();$(b).css(yp(c,0))}
(function(){function a(a,c,d,e){Op(Ap,a.ob()[d].aa()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new Po(a.serialize(),h);h.appendTo("#limbo");var k=new Mt(window,g,d);k.values=b(c);k.update(!0,function(){var a=Ut(k);h.remove();e(a)})})}function b(a){a=zt(a.Z());a.saturation/=.8;0!==a.Jc&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,Jc:k,blur:q,vignette:h,bd:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=eq(c).scale(2);g.setAttribute("id",b);"print"===Ro&&g.setAttribute("filterRes",c.A()+" "+c.C());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(Jt(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=bu({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,1.3);c.setAttribute("offset",(.7/1.3).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===a)return[];
var c=It(a+100,b.getByName("tintAmount")),d={r:c.color.r/255,g:c.color.g/255,b:c.color.b/255},e=c.rp/100*2,g=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=d[a]*e;b.setAttribute("type","linear");b.setAttribute("slope",1-e);b.setAttribute("intercept",a);g.appendChild(b)});g.classList.add("tint");
return[g]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function q(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var r=0;Mt.prototype.RH=function(b){var e="_CANVA_FILTER_"+r++;cu(this);if(!this.values||Ft(this.values,xt))b&&b();else{this.uk=c(this.ea.get(0));var g=d(this.values,e,this.ab);this.uk.appendChild(g);var g=this.uk.querySelector(".vignette"),
h=this.ea.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.uk.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.ea.find("image.placeholder").get(0);nn?a(this.ab,this.values,this.Is,function(a){a&&zp(Ap,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function Tt(a){var b,c=a.ab.serialize();a.$c&&a.values&&a.ab&&(b=a.values.Z()+c.mediaId+c.mediaVersion+a.$c.width+a.$c.height);return b}
function du(a){var b=Tt(a);return a.Lj&&!!b&&!!a.cache.fetch(b)}function Rt(a){return du(a)?a.cache.fetch(Tt(a)):void 0}
function Zt(a,b){function c(){d.$c.width=e;d.$c.height=g;d.canvas||(d.canvas=d.Im?Yt:Xt,d.ea.append(d.canvas),au(d,d.canvas),d.Un=d.canvas.texture(d.$c),d.canvas.draw(d.Un,e,g),$("#limbo").append(d.$c));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;au(d,d.canvas);d.canvas.draw(d.Un,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.Jc){var a=It(d.values.Jc+100,d.values.he);
d.canvas.colorize(a.color.r,a.color.g,a.color.b,a.rp/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.bd&&(a=Jt(d.values.bd),d.canvas.curves(a.red,a.green,a.blue));St(d);d.values.name===yt.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.Im=!1;d.locked=!1;d.Ud=!1}var d=a,e,g;if(du(a))b&&b();else{var h=a.ab.ob();h&&(h=h[d.Is],e=h.A(),g=h.C(),d.kw=h.aa(),d.Lj=!1,d.locked=!0,eu(d,c))}}
function $t(a,b,c){function d(){h.$c.width=k;h.$c.height=l;if(h.gd){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.Fu="camanCanvas"+h.XB(),h.canvas.id=h.Fu,h.canvas.width=k,h.canvas.height=l,au(h,h.canvas),h.ea.append(h.canvas),h.Zz=h.canvas.getContext("2d"),h.Zz.drawImage(h.$c,0,0,k,l),h.gd=Caman("#"+h.Fu,e),$("#limbo").append(h.$c)}function e(){au(h,h.canvas);
h.gd.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.gd.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.gd.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.gd.greyscale():h.gd.saturation(h.values.saturation));var a=It(h.values.Jc+100,h.values.he);h.values.Jc&&h.gd.colorize(a.color.r,a.color.g,a.color.b,2.5*a.rp);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.gd.stackBlur(h.values.blur):h.gd.sharpen(-1*
h.values.blur||0));if(h.values.bd){var b=Jt(h.values.bd),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.gd.curves("r",a[0],a[1],a[2],a[3]);h.gd.curves("g",d[0],d[1],d[2],d[3]);h.gd.curves("b",b[0],b[1],b[2],b[3])}St(h)}h.gd.render(function(){c&&c();h.Im=!1;window.setTimeout(function(){h.locked=!1},1E3);h.Ud=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(du(a))c&&c();else if(a=a.ab.ob())a=a[h.Is],k=a.A(),l=a.C(),h.kw=a.aa(),
h.Lj=!1,h.locked=!0,eu(h,d)}else c&&c()}function St(a){var b=a.ea.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.ea.prepend(b));a.values.vignette?(a=Vt(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function eu(a,b){function c(a){if(d.sh&&0<d.sh.length&&d.sh.get(0).src){d.$c=new Image;var c=$(d.$c);c.css("visibility","hidden");zp(Ap,c,a).then(function(){window.setTimeout(function(){d.zr||(d.sh.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});au(d,d.$c);d.ea.append(c)}else window.setTimeout(function(){eu(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.ea),d.ea.find("img").remove()),b()):(d.sh=d.ea.find("img"),d.Zo=d.sh,c(d.kw))}
function Vt(a){return"circle farthest-side at center center, rgba(0,0,0,0) 70%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" 130%"}function Ut(a){var b=$("\x3cimg /\x3e");a.Vl?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
Mt.prototype.remove=function(){this.zr=!0;this.Xt?cu(this):($(this.$c).remove(),this.sh&&this.sh.remove(),this.ea.find(".vignette").remove(),this.Un&&this.Un.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function cu(a){a.ea.find("image.placeholder").removeAttr("filter");a.ea.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.uk).remove();a.uk=null}function fu(){this.cache={}}
fu.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};fu.prototype.fetch=function(a){return this.cache[a]};Mt.prototype.cache=new fu;var gu=[{fi:"Sans-serif",Be:"sans-serif",fonts:[{family:"Aileron Thin",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Aileron-Thin.png",L:"https://static.canva.com/static/images/fonts/Aileron-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Thin.css",J:"Aileron-Thin",displayName:"Aileron Thin",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",
l:"Aileron-LightItalic",qb:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",l:"Aileron-Light",qb:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",l:"Aileron-ThinItalic",qb:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",l:"Aileron-Thin",qb:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Aileron.png",L:"https://static.canva.com/static/images/fonts/Aileron@2x.png",
url:"https://static.canva.com/static/webfonts/Aileron-Regular.css",J:"Aileron Regular",displayName:"Aileron Regular",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",l:"Aileron-BoldItalic",qb:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",l:"Aileron-Bold",qb:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},
o:{i:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",l:"Aileron-Italic",qb:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",l:"Aileron-Regular",qb:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Aileron-Heavy.png",L:"https://static.canva.com/static/images/fonts/Aileron-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Heavy.css",J:"Aileron-Heavy",displayName:"Aileron Heavy",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",
o:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",l:"Aileron-BlackItalic",qb:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",l:"Aileron-Black",qb:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",l:"Aileron-HeavyItalic",qb:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},
j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",l:"Aileron-Heavy",qb:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Aleo-Light.png",L:"https://static.canva.com/static/images/fonts/Aleo-Light@2x.png",url:"https://static.canva.com/static/webfonts/Aleo-Light.css",J:"Aleo Light",displayName:"Aleo Light",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",l:"Aleo-LightItalic",u:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",l:"Aleo-Light",u:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Aleo.png",L:"https://static.canva.com/static/images/fonts/Aleo@2x.png",url:"https://static.canva.com/static/webfonts/Aleo.css",J:"Aleo",displayName:"Aleo",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
l:"Aleo-BoldItalic",u:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",l:"Aleo-Bold",u:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",l:"Aleo-Italic",u:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",l:"Aleo-Regular",u:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Allerta-Stencil.png",L:"https://static.canva.com/static/images/fonts/Allerta-Stencil@2x.png",url:"https://static.canva.com/static/webfonts/Allerta%2BStencil.css",
J:"AllertaStencil-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",l:"AllertaStencil-Regular",u:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Antic.png",L:"https://static.canva.com/static/images/fonts/Antic@2x.png",url:"https://static.canva.com/static/webfonts/Antic.css",J:"Antic-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
l:"Antic-Regular",u:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",N:["en"],I:"https://static.canva.com/static/images/fonts/Aqua.png",L:"https://static.canva.com/static/images/fonts/Aqua@2x.png",url:"https://static.canva.com/static/webfonts/Aqua.css",J:"Aqua-Grotesque",disabled:!0,displayName:"Aqua",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/aqua.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/aqua.ttf",l:"AquaGrotesque",u:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",N:["en","es"],displayName:"Arialle",I:"https://static.canva.com/static/images/fonts/Arialle.png",L:"https://static.canva.com/static/images/fonts/Arialle@2x.png",
J:"Arimo",url:"https://static.canva.com/static/webfonts/Arialle.css",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",
l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Archivo-Narrow.png",L:"https://static.canva.com/static/images/fonts/Archivo-Narrow@2x.png",url:"https://static.canva.com/static/webfonts/Archivo%2BNarrow.css",J:"ArchivoNarrow-Regular",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",
j:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",l:"ArchivoNarrow-Regular",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",l:"ArchivoNarrow-Italic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",l:"ArchivoNarrow-BoldItalic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",
l:"ArchivoNarrow-Bold",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},{family:"Archivo Black",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Archivo-Black.png",L:"https://static.canva.com/static/images/fonts/Archivo-Black@2x.png",url:"https://static.canva.com/static/webfonts/ArchivoBlack.css",J:"Archivo Black",displayName:"Archivo Black",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",l:"ArchivoBlack-Regular",u:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Code.png",
L:"https://static.canva.com/static/images/fonts/Code@2x.png",url:"https://static.canva.com/static/webfonts/Code.css",J:"Code",displayName:"Code",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",bold:"https://static.canva.com/static/truetypefonts/CodeBold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",l:"Code-Light",u:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",l:"Code-Bold",u:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Carter-One.png",L:"https://static.canva.com/static/images/fonts/Carter-One@2x.png",
url:"https://static.canva.com/static/webfonts/Carter%2BOne.css",J:"CarterOne",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CarterOne.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",l:"CarterOne",u:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cooper-Hewitt.png",L:"https://static.canva.com/static/images/fonts/Cooper-Hewitt@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt.css",J:"CooperHewitt",displayName:"Cooper Hewitt",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",l:"CooperHewitt-Book",qb:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",l:"CooperHewitt-BookItalic",qb:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",l:"CooperHewitt-BoldItalic",qb:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},
bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",l:"CooperHewitt-Bold",qb:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin.png",L:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Thin.css",J:"CooperHewitt-Thin",displayName:"Cooper Hewitt Thin",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",v:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",
j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf",l:"CooperHewitt-Thin"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",l:"CooperHewitt-ThinItalic"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",l:"CooperHewitt-LightItalic"},bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",l:"CooperHewitt-Light"}}},{family:"Cooper Hewitt Heavy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy.png",L:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy@2x.png",
url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Heavy.css",J:"CooperHewitt-Heavy",displayName:"Cooper Hewitt Heavy",G:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf",l:"CooperHewitt-Heavy"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",l:"CooperHewitt-HeavyItalic"}}},{family:"Fredoka One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Fredoka-One.png",L:"https://static.canva.com/static/images/fonts/Fredoka-One@2x.png",
url:"https://static.canva.com/static/webfonts/Fredoka%2BOne.css",J:"FredokaOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",l:"FredokaOne-Regular",u:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Hammersmith-One.png",L:"https://static.canva.com/static/images/fonts/Hammersmith-One@2x.png",url:"https://static.canva.com/static/webfonts/Hammersmith%2BOne.css",J:"HammersmithOne",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",l:"HammersmithOne-Regular",u:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",N:["en","es"],displayName:"Helveticish",I:"https://static.canva.com/static/images/fonts/Helveticish.png",L:"https://static.canva.com/static/images/fonts/Helveticish@2x.png",J:"Arimo",url:"https://static.canva.com/static/webfonts/Helveticish.css",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},
H:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Helvetica",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Helvetica.png",L:"https://static.canva.com/static/images/fonts/Helvetica@2x.png",
J:"Helvetica",disabled:!0,G:{o:!0,bold:!0,v:!0}},{family:"Josefin Sans",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Josefin-Sans.png",L:"https://static.canva.com/static/images/fonts/Josefin-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Josefin%2BSans.css",J:"JosefinSans",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
l:"JosefinSans",u:"https://static.canva.com/static/webfonts/JosefinSans.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",l:"JosefinSans-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",l:"JosefinSans-Italic",u:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",l:"JosefinSans-Bold",u:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Josefin-Slab.png",
L:"https://static.canva.com/static/images/fonts/Josefin-Slab@2x.png",url:"https://static.canva.com/static/webfonts/Josefin%2BSlab.css",J:"JosefinSlab",displayName:"Josefin Slab",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",l:"JosefinSlab",u:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},o:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",
l:"JosefinSlab-Italic",u:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",l:"JosefinSlab-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",l:"JosefinSlab-Bold",u:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lato.png",L:"https://static.canva.com/static/images/fonts/Lato@2x.png",url:"https://static.canva.com/static/webfonts/Lato.css",J:"Lato",displayName:"Lato",G:{o:!0,bold:!0,v:!0},
i:{j:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",l:"Lato-BoldItalic",u:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",l:"Lato-Bold",u:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",l:"Lato-Italic",u:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",
l:"Lato-Regular",u:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lato-Hairline.png",L:"https://static.canva.com/static/images/fonts/Lato-Hairline@2x.png",url:"https://static.canva.com/static/webfonts/Lato-Hairline.css",J:"Lato Hairline",displayName:"Lato Hairline",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",
l:"Lato-ThinItalic",u:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",l:"Lato-Thin",u:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",l:"Lato-HairlineItalic",u:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",l:"Lato-Hairline",u:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lato-Heavy.png",L:"https://static.canva.com/static/images/fonts/Lato-Heavy@2x.png",
url:"https://static.canva.com/static/webfonts/Lato-Heavy.css",J:"Lato Heavy",displayName:"Lato Heavy",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",l:"Lato-BlackItalic",u:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",l:"Lato-Black",u:"https://static.canva.com/static/webfonts/Lato-Black.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",l:"Lato-HeavyItalic",u:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",l:"Lato-Heavy",u:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",N:["en","es"],I:"https://static.canva.com/static/images/fonts/League-Gothic.png",L:"https://static.canva.com/static/images/fonts/League-Gothic@2x.png",url:"https://static.canva.com/static/webfonts/LeagueGothic.css",J:"League-Gothic",displayName:"League Gothic",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",
o:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",l:"LeagueGothic-Regular",qb:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},o:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",l:"LeagueGothic-Italic",qb:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",N:["en","es"],I:"https://static.canva.com/static/images/fonts/League-Spartan.png",L:"https://static.canva.com/static/images/fonts/League-Spartan@2x.png",url:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.css",J:"League-Spartan",
displayName:"League Spartan",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",l:"LeagueSpartan-Bold",u:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Limelight.png",L:"https://static.canva.com/static/images/fonts/Limelight@2x.png",url:"https://static.canva.com/static/webfonts/Limelight.css",J:"Limelight",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
l:"Limelight-Regular",u:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Montserrat-Hairline.png",L:"https://static.canva.com/static/images/fonts/Montserrat-Hairline@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat-Hairline.css",J:"Montserrat-Hairline",displayName:"Montserrat Hairline",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",l:"Montserrat-Hairline",u:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},
{family:"Montserrat Light",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Montserrat-Light.png",L:"https://static.canva.com/static/images/fonts/Montserrat-Light@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat-Light.css",J:"Montserrat-Light",displayName:"Montserrat Light",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",l:"Montserrat-Light",u:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Montserrat.png",L:"https://static.canva.com/static/images/fonts/Montserrat@2x.png",
url:"https://static.canva.com/static/webfonts/Montserrat.css",J:"Montserrat-Regular",displayName:"Montserrat",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",l:"Montserrat-Bold",u:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",l:"Montserrat-Regular",u:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Oswald.png",
L:"https://static.canva.com/static/images/fonts/Oswald@2x.png",url:"https://static.canva.com/static/webfonts/Oswald.css",J:"Oswald",displayName:"Oswald",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",l:"Oswald-Regular",u:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",l:"Oswald-Bold",u:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Pirou",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Pirou.png",
L:"https://static.canva.com/static/images/fonts/Pirou@2x.png",url:"https://static.canva.com/static/webfonts/Pirou.css",J:"Pirou",displayName:"Pirou",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",l:"Pirou-Regular",u:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},{family:"PT Sans",N:["en","es"],url:"https://static.canva.com/static/webfonts/PT%2BSans.css",I:"https://static.canva.com/static/images/fonts/PT-Sans.png",L:"https://static.canva.com/static/images/fonts/PT-Sans@2x.png",J:"PTSans-Regular",G:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",
bold:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",l:"PTSans-Bold",u:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",l:"PTSans-Italic",u:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",l:"PTSans-Regular",u:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",
l:"PTSans-BoldItalic",u:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",N:["en","es"],url:"https://static.canva.com/static/webfonts/Quicksand.css",I:"https://static.canva.com/static/images/fonts/Quicksand.png",L:"https://static.canva.com/static/images/fonts/Quicksand@2x.png",J:"Quicksand",displayName:"Quicksand",G:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
l:"Quicksand-Bold",qb:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},v:{i:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",l:"Quicksand-BoldItalic",qb:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",l:"Quicksand-Italic",qb:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",l:"Quicksand-Regular",qb:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",N:["en"],I:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari.png",
L:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari@2x.png",J:"NotoSansDevanagari",bA:!0,displayName:"Noto Sans Devanagari",url:"https://static.canva.com/static/webfonts/Noto-Sans-Devanagari.css",Cy:"देवनागरी",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",l:"NotoSansDevanagari",u:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},{family:"Nunito Light",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Nunito-Light.png",L:"https://static.canva.com/static/images/fonts/Nunito-Light@2x.png",
url:"https://static.canva.com/static/webfonts/Nunito-Light.css",J:"Nunito-Light",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",l:"Nunito-Light",u:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Nunito.png",L:"https://static.canva.com/static/images/fonts/Nunito@2x.png",url:"https://static.canva.com/static/webfonts/Nunito.2.css",J:"Nunito-Regular",G:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",l:"Nunito-Regular",u:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",l:"Nunito-Bold",u:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",N:["en"],I:"https://static.canva.com/static/images/fonts/Norwester.png",L:"https://static.canva.com/static/images/fonts/Norwester@2x.png",url:"https://static.canva.com/static/webfonts/Norwester.css",J:"Norwester",displayName:"Norwester",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Norwester.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Norwester.ttf",
l:"Norwester-Regular",u:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Raleway.png",L:"https://static.canva.com/static/images/fonts/Raleway@2x.png",url:"https://static.canva.com/static/webfonts/Raleway.2.css",J:"Raleway-Regular",G:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",l:"Raleway",u:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",l:"Raleway-Bold",
u:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Raleway-Thin.png",L:"https://static.canva.com/static/images/fonts/Raleway-Thin@2x.png",url:"https://static.canva.com/static/webfonts/RalewayThin.css",J:"Raleway-Thin",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",l:"Raleway-Thin",u:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Raleway-Heavy.png",L:"https://static.canva.com/static/images/fonts/Raleway-Heavy@2x.png",
url:"https://static.canva.com/static/webfonts/RalewayHeavy.css",J:"Raleway-Heavy",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",l:"Raleway-Heavy",u:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Roboto-Condensed.png",L:"https://static.canva.com/static/images/fonts/Roboto-Condensed@2x.png",url:"https://static.canva.com/static/webfonts/Roboto%2BCondensed.css",J:"RobotoCondensed-Regular",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",l:"RobotoCondensed-Italic",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",l:"RobotoCondensed-Bold",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",l:"RobotoCondensed-BoldItalic",
u:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",l:"RobotoCondensed-Regular",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Rosario.png",L:"https://static.canva.com/static/images/fonts/Rosario@2x.png",url:"https://static.canva.com/static/webfonts/Rosario.css",J:"Rosario-Regular",G:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",
j:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",l:"Rosario-Regular",u:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",l:"Rosario-Bold",u:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",l:"Rosario-BoldItalic",u:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",l:"Rosario-Italic",u:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",
N:["en","es"],I:"https://static.canva.com/static/images/fonts/Rubik-One.png",L:"https://static.canva.com/static/images/fonts/Rubik-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-One.css",J:"Rubik-One",displayName:"Rubik One",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",l:"RubikOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Rubik-Mono-One.png",L:"https://static.canva.com/static/images/fonts/Rubik-Mono-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-Mono-One.2.css",
xk:!0,J:"Rubik-Mono-One",displayName:"Rubik Mono",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",l:"RubikMonoOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},{family:"Amaranth",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Amaranth.png",L:"https://static.canva.com/static/images/fonts/Amaranth@2x.png",url:"https://static.canva.com/static/webfonts/Amaranth.2.css",J:"Amaranth",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",
o:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",l:"Amaranth-BoldItalic",u:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",l:"Amaranth",u:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",l:"Amaranth-Bold",u:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",l:"Amaranth-Italic",u:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},
{family:"Anton",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Anton.png",L:"https://static.canva.com/static/images/fonts/Anton@2x.png",url:"https://static.canva.com/static/webfonts/Anton.css",J:"Anton",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Anton.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Anton.ttf",l:"Anton",u:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Arimo.png",L:"https://static.canva.com/static/images/fonts/Arimo@2x.png",url:"https://static.canva.com/static/webfonts/Arimo.2.css",J:"Arimo",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",
u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Crushed.png",L:"https://static.canva.com/static/images/fonts/Crushed@2x.png",url:"https://static.canva.com/static/webfonts/Crushed.css",J:"Crushed-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Crushed.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Crushed.ttf",l:"Crushed-Regular",u:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Economica.png",L:"https://static.canva.com/static/images/fonts/Economica@2x.png",url:"https://static.canva.com/static/webfonts/Economica.2.css",
J:"Economica-Regular",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",l:"Economica-Italic",u:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",l:"Economica-BoldItalic",u:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",
l:"Economica-Regular",u:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",l:"Economica-Bold",u:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},{family:"Exo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Exo.png",L:"https://static.canva.com/static/images/fonts/Exo@2x.png",url:"https://static.canva.com/static/webfonts/Exo2.css",J:"Exo2",displayName:"Exo",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",v:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",o:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",j:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf"},
H:{v:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",l:"Exo2-BoldItalic",u:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",l:"Exo2-Regular",u:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",l:"Exo2-Italic",u:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",l:"Exo2-Bold",u:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Exo-Thin.png",L:"https://static.canva.com/static/images/fonts/Exo-Thin@2x.png",
url:"https://static.canva.com/static/webfonts/Exo2-Thin.css",J:"Exo2-Thin",displayName:"Exo Thin",G:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",j:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",l:"Exo2-Thin",u:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",l:"Exo2-ThinItalic",u:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Gruppo.png",L:"https://static.canva.com/static/images/fonts/Gruppo@2x.png",
url:"https://static.canva.com/static/webfonts/Gruppo.css",J:"Gruppo",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",l:"Gruppo",u:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Gidole",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Gidole.png",L:"https://static.canva.com/static/images/fonts/Gidole@2x.png",url:"https://static.canva.com/static/webfonts/Gidole-Regular.css",J:"Gidole",displayName:"Gidole",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",
l:"Gidole-Regular",u:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Julius-Sans-One.png",L:"https://static.canva.com/static/images/fonts/Julius-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Julius%2BSans%2BOne.css",J:"JuliusSansOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",l:"JuliusSansOne-Regular",u:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",N:["en",
"es"],I:"https://static.canva.com/static/images/fonts/Kite-One.png",L:"https://static.canva.com/static/images/fonts/Kite-One@2x.png",url:"https://static.canva.com/static/webfonts/Kite%2BOne.css",J:"KiteOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",l:"KiteOne-Regular",u:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},{family:"Kollektif",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Kollektif.png",L:"https://static.canva.com/static/images/fonts/Kollektif@2x.png",url:"https://static.canva.com/static/webfonts/Kollektif.css",J:"Kollektif",displayName:"Kollektif",
G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",bold:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",l:"Kollektif",u:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",l:"Kollektif-Bold",u:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",l:"Kollektif-Italic",u:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},
v:{i:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",l:"Kollektif-BoldItalic",u:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lilita-One.png",L:"https://static.canva.com/static/images/fonts/Lilita-One@2x.png",url:"https://static.canva.com/static/webfonts/Lilita%2BOne.css",J:"LilitaOne",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",l:"LilitaOne",u:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",
N:["en","es"],I:"https://static.canva.com/static/images/fonts/Open-Sans-Light.png",L:"https://static.canva.com/static/images/fonts/Open-Sans-Light@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-Light.css",J:"OpenSansLight",displayName:"Open Sans Light",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",l:"OpenSans-LightItalic",u:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",l:"OpenSans-Light",
u:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Open-Sans.png",L:"https://static.canva.com/static/images/fonts/Open-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Open%2BSans.2.css",J:"OpenSans",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",l:"OpenSans-Italic",u:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},
v:{i:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",l:"OpenSans-BoldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",l:"OpenSans-Bold",u:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",l:"OpenSans",u:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold.png",L:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.css",
J:"OpenSansExtraBold",displayName:"Open Sans Extra Bold",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",l:"OpenSans-ExtraboldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",l:"OpenSans-Extrabold",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Racing-Sans-One.png",
L:"https://static.canva.com/static/images/fonts/Racing-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Racing%2BSans%2BOne.css",J:"RacingSansOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",l:"RacingSansOne-Regular",u:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Roboto.png",L:"https://static.canva.com/static/images/fonts/Roboto@2x.png",url:"https://static.canva.com/static/webfonts/Roboto.2.css",J:"Roboto-Regular",G:{o:!0,bold:!0,
v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",l:"Roboto-BoldItalic",u:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",l:"Roboto-Bold",u:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",l:"Roboto-Italic",u:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",l:"Roboto-Regular",u:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Ubuntu.png",L:"https://static.canva.com/static/images/fonts/Ubuntu@2x.png",url:"https://static.canva.com/static/webfonts/Ubuntu.2.css",J:"Ubuntu",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
l:"Ubuntu",u:"https://static.canva.com/static/webfonts/Ubuntu.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",l:"Ubuntu-Italic",u:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",l:"Ubuntu-Bold",u:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",l:"Ubuntu-BoldItalic",u:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",I:"https://static.canva.com/static/images/fonts/Unity-Display.png",L:"https://static.canva.com/static/images/fonts/Unity-Display@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Display.css",
J:"Unity Display",displayName:"Unity Display",disabled:!0,G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf",l:"UnityDisplay-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",l:"UnityDisplay-Roman"}}},{family:"Unity Text",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Unity-Text.png",L:"https://static.canva.com/static/images/fonts/Unity-Text@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Text.css",J:"Unity Text",
displayName:"Unity Text",disabled:!0,G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf",l:"UnityText-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",l:"UnityText-Roman"}}},{family:"Six Caps",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Six-Caps.png",L:"https://static.canva.com/static/images/fonts/Six-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Six%2BCaps.css",J:"SixCaps",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SixCaps.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",l:"SixCaps",u:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Sifonn.png",L:"https://static.canva.com/static/images/fonts/Sifonn@2x.png",url:"https://static.canva.com/static/webfonts/Sifonn.css",J:"Sifonn",displayName:"Sifonn",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",l:"Sifonn-Basic",u:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Sifonn-Outline.png",
L:"https://static.canva.com/static/images/fonts/Sifonn-Outline@2x.png",url:"https://static.canva.com/static/webfonts/SifonnOutline.css",J:"Sifonn Outline",displayName:"Sifonn Outline",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",l:"Sifonn-Basic-Outline",u:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},{family:"Signika",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Signika.png",L:"https://static.canva.com/static/images/fonts/Signika@2x.png",url:"https://static.canva.com/static/webfonts/Signika.css",J:"Signika",
displayName:"Signika",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",l:"Signika-Bold",u:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",l:"Signika-Regular",u:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Source-Sans-Pro.png",L:"https://static.canva.com/static/images/fonts/Source-Sans-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSansPro.css",
J:"Source-Sans-Pro",displayName:"Source Sans Pro",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",v:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",l:"SourceSansPro-BoldIt",u:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},o:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",l:"SourceSansPro-It",u:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",l:"SourceSansPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",l:"SourceSansPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Text-Me-One.png",L:"https://static.canva.com/static/images/fonts/Text-Me-One@2x.png",url:"https://static.canva.com/static/webfonts/Text%2BMe%2BOne.css",J:"TextMeOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",l:"TextMeOne-Regular",u:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Tenor-Sans.png",L:"https://static.canva.com/static/images/fonts/Tenor-Sans@2x.png",url:"https://static.canva.com/static/webfonts/TenorSans.css",displayName:"Tenor Sans",J:"TenorSans",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/TenorSans.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",l:"TenorSans",u:"https://static.canva.com/static/webfonts/TenorSans.woff"}}}]},{fi:"Serif",Be:"serif",
fonts:[{family:"Abril Fatface",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Abril-Fatface.png",L:"https://static.canva.com/static/images/fonts/Abril-Fatface@2x.png",url:"https://static.canva.com/static/webfonts/Abril%2BFatface.css",J:"AbrilFatface-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",l:"AbrilFatface-Regular",u:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{name:"Alegreya Small Caps",family:"Alegreya SC",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps.png",
L:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Alegreya%2BSC.css",J:"AlegreyaSC-Regular",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",l:"AlegreyaSC-Regular",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",
l:"AlegreyaSC-BoldItalic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",l:"AlegreyaSC-Bold",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",l:"AlegreyaSC-Italic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},{family:"Alfa Slab One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Alfa-Slab-One.png",L:"https://static.canva.com/static/images/fonts/Alfa-Slab-One@2x.png",url:"https://static.canva.com/static/webfonts/Alfa%2BSlab%2BOne.css",J:"AlfaSlabOne-Regular",
G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",l:"AlfaSlabOne-Regular",u:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Alike.png",L:"https://static.canva.com/static/images/fonts/Alike@2x.png",url:"https://static.canva.com/static/webfonts/Alike.css",J:"Alike-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",l:"Alike-Regular",u:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},
{family:"Anonymous Pro",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Anonymous-Pro.png",L:"https://static.canva.com/static/images/fonts/Anonymous-Pro@2x.png",url:"https://static.canva.com/static/webfonts/Anonymous%2BPro.css",J:"AnonymousPro",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",l:"AnonymousPro-Bold",u:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",l:"AnonymousPro",u:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",l:"AnonymousPro-Italic",u:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",l:"AnonymousPro-BoldItalic",u:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Arvo.png",L:"https://static.canva.com/static/images/fonts/Arvo@2x.png",url:"https://static.canva.com/static/webfonts/Arvo.css",
J:"Arvo",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",l:"Arvo-Bold",u:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",l:"Arvo",u:"https://static.canva.com/static/webfonts/Arvo.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",l:"Arvo-Italic",u:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",
l:"Arvo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Bebas-Neue.png",L:"https://static.canva.com/static/images/fonts/Bebas-Neue@2x.png",url:"https://static.canva.com/static/webfonts/Bebas-Neue.css",J:"BebasNeue",displayName:"Bebas Neue",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",bold:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf"},H:{bold:{i:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",l:"BebasNeueBold",u:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",
l:"BebasNeueRegular",u:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Bodoni-FLF.png",L:"https://static.canva.com/static/images/fonts/Bodoni-FLF@2x.png",url:"https://static.canva.com/static/webfonts/Bodoni-FLF.css",J:"Bodoni-FLF",displayName:"Bodoni FLF",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",
l:"BodoniFLF-BoldItalic",u:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",l:"BodoniFLF-Italic",u:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",l:"BodoniFLF-Bold",u:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",l:"BodoniFLF-Roman",u:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cinzel.png",L:"https://static.canva.com/static/images/fonts/Cinzel@2x.png",
url:"https://static.canva.com/static/webfonts/Cinzel.css",J:"Cinzel-Regular",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",l:"Cinzel-Regular",u:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",l:"Cinzel-Bold",u:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Droid-Serif.png",L:"https://static.canva.com/static/images/fonts/Droid-Serif@2x.png",
url:"https://static.canva.com/static/webfonts/Droid%2BSerif.css",J:"DroidSerif",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",l:"DroidSerif",u:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",l:"DroidSerif-Bold",u:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",
l:"DroidSerif-BoldItalic",u:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",l:"DroidSerif-Italic",u:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Forum.png",L:"https://static.canva.com/static/images/fonts/Forum@2x.png",url:"https://static.canva.com/static/webfonts/Forum.css",J:"Forum",displayName:"Forum",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",l:"Forum",u:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},
{family:"Granaina",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Granaina.png",L:"https://static.canva.com/static/images/fonts/Granaina@2x.png",url:"https://static.canva.com/static/webfonts/Granaina.css",J:"Granaina",displayName:"Granaina",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",l:"Granaina-limpia",u:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Glegoo.png",L:"https://static.canva.com/static/images/fonts/Glegoo@2x.png",url:"https://static.canva.com/static/webfonts/Glegoo.css",
J:"Glegoo-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",l:"Glegoo-Regular",u:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{name:"IM Fell English Small Caps",family:"IM Fell English SC",N:["en","es"],I:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps.png",L:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/IM%2BFell%2BEnglish%2BSC.css",J:"IM_FELL_English_SC",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",l:"IM_FELL_English_SC",u:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{name:"IM Fell",family:"IM Fell Double Pica",N:["en","es"],I:"https://static.canva.com/static/images/fonts/IM-Fell.png",L:"https://static.canva.com/static/images/fonts/IM-Fell@2x.png",url:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica.css",J:"IM-Fell-Double-Pica",displayName:"IM Fell",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",o:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",
l:"IM_FELL_Double_Pica_Italic",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",l:"IM_FELL_Double_Pica_Roman",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Libre-Baskerville.png",L:"https://static.canva.com/static/images/fonts/Libre-Baskerville@2x.png",url:"https://static.canva.com/static/webfonts/Libre%2BBaskerville.css",J:"LibreBaskerville-Regular",G:{o:!0,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",
o:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",l:"LibreBaskerville-Regular",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",l:"LibreBaskerville-Italic",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",l:"LibreBaskerville-Bold",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},
{family:"Lora",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lora.png",L:"https://static.canva.com/static/images/fonts/Lora@2x.png",url:"https://static.canva.com/static/webfonts/Lora.css",J:"Lora",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",l:"Lora-Italic",u:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",l:"Lora-Bold",
u:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",l:"Lora-Regular",u:"https://static.canva.com/static/webfonts/Lora.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",l:"Lora-BoldItalic",u:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lustria.png",L:"https://static.canva.com/static/images/fonts/Lustria@2x.png",url:"https://static.canva.com/static/webfonts/Lustria.css",J:"Lustria-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",
l:"Lustria-Regular",u:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},{family:"Luthier",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Luthier.png",L:"https://static.canva.com/static/images/fonts/Luthier@2x.png",url:"https://static.canva.com/static/webfonts/Luthier.css",J:"Luthier",displayName:"Luthier",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",
l:"Luthier-BoldItalic",u:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",l:"Luthier-Italic",u:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",l:"Luthier-Bold",u:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",l:"Luthier-Regular",u:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Nixie-One.png",L:"https://static.canva.com/static/images/fonts/Nixie-One@2x.png",
url:"https://static.canva.com/static/webfonts/Nixie%2BOne.css",J:"NixieOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",l:"NixieOne-Regular",u:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{name:"Playfair Display",family:"Playfair Display",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Playfair-Display.png",L:"https://static.canva.com/static/images/fonts/Playfair-Display@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display.css",J:"PlayfairDisplay",displayName:"Playfair Display",
G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",l:"PlayfairDisplay-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",l:"PlayfairDisplay-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",l:"PlayfairDisplay-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",l:"PlayfairDisplay-Italic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{name:"Playfair Display Black",family:"Playfair Display Black",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Playfair-Display-Black.png",L:"https://static.canva.com/static/images/fonts/Playfair-Display-Black@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display-Black.css",
J:"PlayfairDisplayBlack",displayName:"Playfair Display Black",G:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",l:"PlayfairDisplay-BlackItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",l:"PlayfairDisplay-Black",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{name:"Playfair Small Caps",
family:"Playfair Display SC",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps.png",L:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Playfair%2BDisplay%2BSC.css",J:"PlayfairDisplaySC-Regular",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",
l:"PlayfairDisplaySC-Italic",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",l:"PlayfairDisplaySC-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",l:"PlayfairDisplaySC-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",l:"PlayfairDisplaySC-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},
{family:"Prata",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Prata.png",L:"https://static.canva.com/static/images/fonts/Prata@2x.png",url:"https://static.canva.com/static/webfonts/Prata.css",J:"Prata-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",l:"Prata-Regular",u:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",N:["en","es"],I:"https://static.canva.com/static/images/fonts/PT-Serif.png",L:"https://static.canva.com/static/images/fonts/PT-Serif@2x.png",url:"https://static.canva.com/static/webfonts/PT%2BSerif.css",J:"PTSerif-Regular",
G:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",l:"PTSerif-BoldItalic",u:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",l:"PTSerif-Italic",u:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",
l:"PTSerif-Bold",u:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",l:"PTSerif-Regular",u:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Quando.png",L:"https://static.canva.com/static/images/fonts/Quando@2x.png",url:"https://static.canva.com/static/webfonts/Quando.css",J:"Quando-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",l:"Quando-Regular",u:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},
{family:"Quattrocento",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Quattrocento.png",L:"https://static.canva.com/static/images/fonts/Quattrocento@2x.png",url:"https://static.canva.com/static/webfonts/Quattrocento.css",J:"Quattrocento",G:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",l:"Quattrocento",u:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",l:"Quattrocento-Bold",u:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},
{family:"Sanchez",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Sanchez.png",L:"https://static.canva.com/static/images/fonts/Sanchez@2x.png",url:"https://static.canva.com/static/webfonts/Sanchez.css",J:"Sanchez-Regular",G:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf"},H:{o:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",l:"Sanchez-Italic",u:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",l:"Sanchez-Regular",u:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},
{family:"Source Serif Pro",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Source-Serif-Pro.png",L:"https://static.canva.com/static/images/fonts/Source-Serif-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSerifPro.css",J:"Source-Serif-Pro",displayName:"Source Serif Pro",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",l:"SourceSerifPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",l:"SourceSerifPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Old-Standard.png",L:"https://static.canva.com/static/images/fonts/Old-Standard@2x.png",url:"https://static.canva.com/static/webfonts/Old%2BStandard%2BTT.css",J:"OldStandard-TT",displayName:"Old Standard",G:{o:!0,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf"},
H:{o:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",l:"OldStandardTT-Italic",u:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",l:"OldStandardTT-Regular",u:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",l:"OldStandardTT-Bold",u:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},{family:"Times New Roman",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Times-New-Roman.png",L:"https://static.canva.com/static/images/fonts/Times-New-Roman@2x.png",
J:"TimesNewRomanPSMT",disabled:!0,G:{o:!0,bold:!0,v:!0}},{family:"Times Neue Roman",N:["en","es"],displayName:"Times Neue Roman",I:"https://static.canva.com/static/images/fonts/Times-Neue-Roman.png",L:"https://static.canva.com/static/images/fonts/Times-Neue-Roman@2x.png",J:"TeXGyreTermes-Regular",url:"https://static.canva.com/static/webfonts/Times-Neue-Roman.css",G:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",v:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",o:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",j:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf"},
H:{v:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",l:"TeXGyreTermes-BoldItalic",u:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",l:"TeXGyreTermes-Italic",u:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",l:"TeXGyreTermes-Regular",u:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",l:"TeXGyreTermes-Bold",u:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},
{family:"Trocchi",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Trocchi.png",L:"https://static.canva.com/static/images/fonts/Trocchi@2x.png",url:"https://static.canva.com/static/webfonts/Trocchi.css",J:"Trocchi",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",l:"Trocchi",u:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Ultra.png",L:"https://static.canva.com/static/images/fonts/Ultra@2x.png",url:"https://static.canva.com/static/webfonts/Ultra.css",J:"Ultra",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ultra.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/Ultra.ttf",l:"Ultra",u:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Vidaloka.png",L:"https://static.canva.com/static/images/fonts/Vidaloka@2x.png",url:"https://static.canva.com/static/webfonts/Vidaloka.css",J:"Vidaloka-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",l:"Vidaloka-Regular",u:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Voga.png",
L:"https://static.canva.com/static/images/fonts/Voga@2x.png",url:"https://static.canva.com/static/webfonts/Voga.css",displayName:"Voga",J:"Voga-Medium",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",l:"Voga-Medium",u:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Vollkorn.png",L:"https://static.canva.com/static/images/fonts/Vollkorn@2x.png",url:"https://static.canva.com/static/webfonts/Vollkorn.css",J:"Vollkorn",displayName:"Vollkorn",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",l:"Vollkorn-BoldItalic",u:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",l:"Vollkorn-Bold",u:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",l:"Vollkorn-Regular",u:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",
l:"Vollkorn-Italic",u:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cantora-One.png",L:"https://static.canva.com/static/images/fonts/Cantora-One@2x.png",url:"https://static.canva.com/static/webfonts/Cantora%2BOne.css",J:"CantoraOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",l:"CantoraOne-Regular",u:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Coustard.png",
L:"https://static.canva.com/static/images/fonts/Coustard@2x.png",url:"https://static.canva.com/static/webfonts/Coustard.css",J:"Coustard",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",l:"Coustard",u:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Emilys-Candy.png",L:"https://static.canva.com/static/images/fonts/Emilys-Candy@2x.png",url:"https://static.canva.com/static/webfonts/Emilys%2BCandy.css",J:"EmilysCandy-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",l:"EmilysCandy-Regular",u:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Glass-Antiqua.png",L:"https://static.canva.com/static/images/fonts/Glass-Antiqua@2x.png",url:"https://static.canva.com/static/webfonts/Glass%2BAntiqua.css",J:"GlassAntiqua-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",l:"GlassAntiqua-Regular",u:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},
{family:"Graduate",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Graduate.png",L:"https://static.canva.com/static/images/fonts/Graduate@2x.png",url:"https://static.canva.com/static/webfonts/Graduate.css",J:"Graduate-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",l:"Graduate-Regular",u:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},{family:"Ribeye",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Ribeye.png",L:"https://static.canva.com/static/images/fonts/Ribeye@2x.png",url:"https://static.canva.com/static/webfonts/Ribeye.css",
J:"Ribeye-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",l:"Ribeye-Regular",u:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Vast-Shadow.png",L:"https://static.canva.com/static/images/fonts/Vast-Shadow@2x.png",url:"https://static.canva.com/static/webfonts/Vast%2BShadow.css",J:"VastShadow-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",
l:"VastShadow-Regular",u:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}}]},{fi:"Handwritten",Be:"cursive",fonts:[{family:"Gochi Hand",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Gochi-Hand.png",L:"https://static.canva.com/static/images/fonts/Gochi-Hand@2x.png",url:"https://static.canva.com/static/webfonts/Gochi%2BHand.css",J:"GochiHand-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",l:"GochiHand-Regular",u:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",
N:["en","es"],I:"https://static.canva.com/static/images/fonts/Over-The-Rainbow.png",L:"https://static.canva.com/static/images/fonts/Over-The-Rainbow@2x.png",url:"https://static.canva.com/static/webfonts/Over%2Bthe%2BRainbow.css",J:"OvertheRainbow",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",l:"OvertheRainbow",u:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},{family:"Permanent Marker",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Permanent-Marker.png",L:"https://static.canva.com/static/images/fonts/Permanent-Marker@2x.png",url:"https://static.canva.com/static/webfonts/Permanent%2BMarker.css",
J:"PermanentMarker",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",l:"PermanentMarker",u:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Sacramento.png",L:"https://static.canva.com/static/images/fonts/Sacramento@2x.png",url:"https://static.canva.com/static/webfonts/Sacramento.css",J:"Sacramento-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",
l:"Sacramento-Regular",u:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Schoolbell.png",L:"https://static.canva.com/static/images/fonts/Schoolbell@2x.png",url:"https://static.canva.com/static/webfonts/Schoolbell.css",J:"Schoolbell",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",l:"Schoolbell",u:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{name:"Shadows Into Light",family:"Shadows Into Light Two",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two.png",
L:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two@2x.png",url:"https://static.canva.com/static/webfonts/Shadows%2BInto%2BLight%2BTwo.css",J:"ShadowsIntoLight",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",l:"ShadowsIntoLight",u:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{name:"Amatic Small Caps",family:"Amatic SC",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps.png",L:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Amatic%2BSC.2.css",
J:"AmaticSC-Regular",G:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",l:"AmaticSC-Regular",u:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",l:"AmaticSC-Bold",u:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Architects-Daughter.png",L:"https://static.canva.com/static/images/fonts/Architects-Daughter@2x.png",
url:"https://static.canva.com/static/webfonts/Architects%2BDaughter.css",J:"ArchitectsDaughter",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",l:"ArchitectsDaughter",u:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Cabin-Sketch.png",L:"https://static.canva.com/static/images/fonts/Cabin-Sketch@2x.png",url:"https://static.canva.com/static/webfonts/Cabin%2BSketch.2.css",J:"CabinSketch-Regular",G:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",
j:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",l:"CabinSketch-Regular",u:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",l:"CabinSketch-Bold",u:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Coming-Soon.png",L:"https://static.canva.com/static/images/fonts/Coming-Soon@2x.png",url:"https://static.canva.com/static/webfonts/Coming%2BSoon.css",J:"ComingSoon",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",l:"ComingSoon",u:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}}]},{fi:"Script",Be:"cursive",fonts:[{family:"Allura",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Allura.png",L:"https://static.canva.com/static/images/fonts/Allura@2x.png",url:"https://static.canva.com/static/webfonts/Allura.css",J:"Allura-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",l:"Allura-Regular",u:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",
N:["en","es"],I:"https://static.canva.com/static/images/fonts/Clicker-Script.png",L:"https://static.canva.com/static/images/fonts/Clicker-Script@2x.png",url:"https://static.canva.com/static/webfonts/Clicker%2BScript.css",J:"ClickerScript-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",l:"ClickerScript-Regular",u:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Courgette.png",L:"https://static.canva.com/static/images/fonts/Courgette@2x.png",
url:"https://static.canva.com/static/webfonts/Courgette.css",J:"Courgette-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",l:"Courgette-Regular",u:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Dear-Joe.png",L:"https://static.canva.com/static/images/fonts/Dear-Joe@2x.png",url:"https://static.canva.com/static/webfonts/Dear-Joe.css",J:"Dear Joe",displayName:"Dear Joe",disabled:!0,G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",l:"dearJoe5CASUAL-P",u:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Engagement.png",L:"https://static.canva.com/static/images/fonts/Engagement@2x.png",url:"https://static.canva.com/static/webfonts/Engagement.css",J:"Engagement-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",l:"Engagement-Regular",u:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",
N:["en","es"],I:"https://static.canva.com/static/images/fonts/Euphoria-Script.png",L:"https://static.canva.com/static/images/fonts/Euphoria-Script@2x.png",url:"https://static.canva.com/static/webfonts/Euphoria%2BScript.css",J:"EuphoriaScript-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",l:"EuphoriaScript-Regular",u:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Great-Vibes.png",L:"https://static.canva.com/static/images/fonts/Great-Vibes@2x.png",
url:"https://static.canva.com/static/webfonts/Great%2BVibes.css",J:"GreatVibes-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",l:"GreatVibes-Regular",u:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Kaushan-Script.png",L:"https://static.canva.com/static/images/fonts/Kaushan-Script@2x.png",url:"https://static.canva.com/static/webfonts/Kaushan-Script.css",J:"Kaushan Script",displayName:"Kaushan Script",G:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",l:"KaushanScript-Regular",u:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Merriweather",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Merriweather.png",L:"https://static.canva.com/static/images/fonts/Merriweather@2x.png",url:"https://static.canva.com/static/webfonts/Merriweather.css",J:"Merriweather",displayName:"Merriweather",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",
bold:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",l:"Merriweather",u:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",l:"Merriweather-Bold",u:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",l:"Merriweather-BoldItalic",u:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",
l:"Merriweather-Italic",u:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Mr-Dafoe.png",L:"https://static.canva.com/static/images/fonts/Mr-Dafoe@2x.png",url:"https://static.canva.com/static/webfonts/Mr%2BDafoe.css",J:"MrDafoe-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",l:"MrDafoe-Regular",u:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Niconne.png",L:"https://static.canva.com/static/images/fonts/Niconne@2x.png",
url:"https://static.canva.com/static/webfonts/Niconne.css",J:"Niconne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",l:"Niconne-Regular",u:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Parisienne.png",L:"https://static.canva.com/static/images/fonts/Parisienne@2x.png",url:"https://static.canva.com/static/webfonts/Parisienne.css",J:"Parisienne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",
l:"Parisienne-Regular",u:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},{family:"Pinyon Script",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Pinyon-Script.png",L:"https://static.canva.com/static/images/fonts/Pinyon-Script@2x.png",url:"https://static.canva.com/static/webfonts/Pinyon%2BScript.css",J:"PinyonScript",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",l:"PinyonScript",u:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Dr-Sugiyama.png",
L:"https://static.canva.com/static/images/fonts/Dr-Sugiyama@2x.png",url:"https://static.canva.com/static/webfonts/Dr%2BSugiyama.css",J:"DrSugiyama-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",l:"DrSugiyama-Regular",u:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Grand-Hotel.png",L:"https://static.canva.com/static/images/fonts/Grand-Hotel@2x.png",url:"https://static.canva.com/static/webfonts/Grand%2BHotel.css",J:"GrandHotel-Regular",G:{o:!1,bold:!1,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",l:"GrandHotel-Regular",u:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Knewave.png",L:"https://static.canva.com/static/images/fonts/Knewave@2x.png",url:"https://static.canva.com/static/webfonts/Knewave.css",J:"Knewave-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",l:"Knewave-Regular",u:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},
{family:"Pacifico",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Pacifico.png",L:"https://static.canva.com/static/images/fonts/Pacifico@2x.png",url:"https://static.canva.com/static/webfonts/Pacifico.css",J:"Pacifico-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pacifico.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",l:"Pacifico-Regular",u:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Princess-Sofia.png",L:"https://static.canva.com/static/images/fonts/Princess-Sofia@2x.png",url:"https://static.canva.com/static/webfonts/Princess%2BSofia.css",
J:"PrincessSofia",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",l:"PrincessSofia",u:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Satisfy.png",L:"https://static.canva.com/static/images/fonts/Satisfy@2x.png",url:"https://static.canva.com/static/webfonts/Satisfy.css",J:"Satisfy",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",l:"Satisfy",
u:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",N:["en","es"],disabled:!0,I:"https://static.canva.com/static/images/fonts/Streamster.png",L:"https://static.canva.com/static/images/fonts/Streamster@2x.png",url:"https://static.canva.com/static/webfonts/Streamster.css",J:"Streamster",displayName:"Streamster",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Streamster.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Streamster.ttf",l:"Streamster",u:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Yellowtail.png",L:"https://static.canva.com/static/images/fonts/Yellowtail@2x.png",
url:"https://static.canva.com/static/webfonts/Yellowtail.css",J:"Yellowtail",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",l:"Yellowtail",u:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}}]},{fi:"Fun \x26 Fancy",Be:"fantasy",fonts:[{family:"Berkshire Swash",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Berkshire-Swash.png",L:"https://static.canva.com/static/images/fonts/Berkshire-Swash@2x.png",url:"https://static.canva.com/static/webfonts/Berkshire%2BSwash.css",J:"BerkshireSwash-Regular",G:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",l:"BerkshireSwash-Regular",u:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Black-Ops-One.png",L:"https://static.canva.com/static/images/fonts/Black-Ops-One@2x.png",url:"https://static.canva.com/static/webfonts/Black%2BOps%2BOne.css",J:"BlackOpsOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",
l:"BlackOpsOne-Regular",u:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Chewy.png",L:"https://static.canva.com/static/images/fonts/Chewy@2x.png",url:"https://static.canva.com/static/webfonts/Chewy.css",J:"Chewy",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Chewy.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Chewy.ttf",l:"Chewy",u:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Creepster.png",L:"https://static.canva.com/static/images/fonts/Creepster@2x.png",url:"https://static.canva.com/static/webfonts/Creepster.css",
J:"Creepster-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",l:"Creepster-Regular",u:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{name:"Diplomata Small Caps",N:["en","es"],family:"Diplomata SC",I:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps.png",L:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Diplomata%2BSC.css",J:"DiplomataSC-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",l:"DiplomataSC-Regular",u:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Germania-One.png",L:"https://static.canva.com/static/images/fonts/Germania-One@2x.png",url:"https://static.canva.com/static/webfonts/Germania%2BOne.css",J:"GermaniaOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",l:"GermaniaOne-Regular",u:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},
{family:"Megrim",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Megrim.png",L:"https://static.canva.com/static/images/fonts/Megrim@2x.png",url:"https://static.canva.com/static/webfonts/Megrim.css",J:"Megrim",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Megrim.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Megrim.ttf",l:"Megrim",u:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Rye.png",L:"https://static.canva.com/static/images/fonts/Rye@2x.png",url:"https://static.canva.com/static/webfonts/Rye.css",J:"Rye-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf"},
H:{j:{i:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",l:"Rye-Regular",u:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",N:["en","es"],I:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia.png",L:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia@2x.png",url:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.css",J:"UnifrakturMaguntia",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",l:"UnifrakturMaguntia",u:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},
{family:"Codystar",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Codystar.png",L:"https://static.canva.com/static/images/fonts/Codystar@2x.png",url:"https://static.canva.com/static/webfonts/Codystar.css",J:"Codystar",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",l:"Codystar",u:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Crafty-Girls.png",L:"https://static.canva.com/static/images/fonts/Crafty-Girls@2x.png",url:"https://static.canva.com/static/webfonts/Crafty%2BGirls.css",
J:"CraftyGirls",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",l:"CraftyGirls",u:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",N:["en","es"],displayName:"Hitchcut",I:"https://static.canva.com/static/images/fonts/Hitchcut.png",L:"https://static.canva.com/static/images/fonts/Hitchcut@2x.png",url:"https://static.canva.com/static/webfonts/Hitchcut.css",J:"Hitchcut",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",l:"Hitchcut-Regular",
u:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",N:["en","es"],disabled:!0,I:"https://static.canva.com/static/images/fonts/Lobster.png",L:"https://static.canva.com/static/images/fonts/Lobster@2x.png",url:"https://static.canva.com/static/webfonts/Lobster.css",J:"Lobster",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Lobster.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Lobster.ttf",l:"Lobster",u:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Lobster-Two.png",L:"https://static.canva.com/static/images/fonts/Lobster-Two@2x.png",url:"https://static.canva.com/static/webfonts/Lobster%2BTwo.css",
J:"Lobster Two",displayName:"Lobster Two",G:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf"},H:{v:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",l:"LobsterTwo-BoldItalic",u:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",l:"LobsterTwo",u:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",l:"LobsterTwo-Bold",u:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",l:"LobsterTwo-Italic",u:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Oleo-Script.png",L:"https://static.canva.com/static/images/fonts/Oleo-Script@2x.png",url:"https://static.canva.com/static/webfonts/Oleo-Script.css",J:"Oleo Script",displayName:"Oleo Script",G:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",l:"OleoScript-Regular",u:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",l:"OleoScript-Bold",u:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Londrina-Shadow.png",L:"https://static.canva.com/static/images/fonts/Londrina-Shadow@2x.png",url:"https://static.canva.com/static/webfonts/Londrina%2BShadow.css",J:"LondrinaShadow-Regular",G:{o:!1,
bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",l:"LondrinaShadow-Regular",u:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Londrina-Sketch.png",L:"https://static.canva.com/static/images/fonts/Londrina-Sketch@2x.png",url:"https://static.canva.com/static/webfonts/Londrina%2BSketch.css",J:"LondrinaSketch-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",
l:"LondrinaSketch-Regular",u:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Oregano.png",L:"https://static.canva.com/static/images/fonts/Oregano@2x.png",url:"https://static.canva.com/static/webfonts/Oregano.2.css",J:"Oregano-Regular",G:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",l:"Oregano-Regular",u:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",
l:"Oregano-Italic",u:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Sniglet.png",L:"https://static.canva.com/static/images/fonts/Sniglet@2x.png",url:"https://static.canva.com/static/webfonts/Sniglet.css",J:"Sniglet",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",l:"Sniglet-Regular",u:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Special-Elite.png",L:"https://static.canva.com/static/images/fonts/Special-Elite@2x.png",
url:"https://static.canva.com/static/webfonts/Special%2BElite.css",J:"SpecialElite-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",l:"SpecialElite-Regular",u:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",N:["en"],I:"https://static.canva.com/static/images/fonts/Sunday.png",L:"https://static.canva.com/static/images/fonts/Sunday@2x.png",url:"https://static.canva.com/static/webfonts/Sunday.css",J:"Sunday",displayName:"Sunday",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sunday.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Sunday.ttf",
l:"Sunday",u:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",N:["en","es"],I:"https://static.canva.com/static/images/fonts/Vampiro-One.png",L:"https://static.canva.com/static/images/fonts/Vampiro-One@2x.png",url:"https://static.canva.com/static/webfonts/Vampiro%2BOne.css",J:"VampiroOne-Regular",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",l:"VampiroOne-Regular",u:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",N:["en","es"],I:"https://static.canva.com/static/images/fonts/VT323.png",L:"https://static.canva.com/static/images/fonts/VT323@2x.png",
url:"https://static.canva.com/static/webfonts/VT323.css",J:"VT323",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",l:"VT323-Regular",u:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",N:["en"],I:"https://static.canva.com/static/images/fonts/Waterlily.png",L:"https://static.canva.com/static/images/fonts/Waterlily@2x.png",url:"https://static.canva.com/static/webfonts/Waterlily.css",J:"Waterlily",displayName:"Waterlily",G:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Waterlily.ttf"},H:{j:{i:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",
l:"Waterlily-Regular",u:"https://static.canva.com/static/webfonts/Waterlily.woff"}}}]}];if(cb)for(var hu in gu)if(gu.hasOwnProperty(hu))for(var iu in gu[hu].fonts)gu[hu].fonts.hasOwnProperty(iu)&&(gu[hu].fonts[iu].I=gu[hu].fonts[iu].L);function ju(a,b,c,d,e){this.fonts=a;this.Fb=b;this.Xy=c;this.Ev=d;this.Nq={};this.vk=[];this.Rq=[];this.si=[];this.Qq=[];this.$m=[];this.Do=Date.now();this.Ds=[];this.So=[];this.locale=e}f=ju.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;function ku(a){return a.So.filter(function(a){return 0>this.Ds.indexOf(a)},a)}
function lu(){var a=z,b=Or(Nr((new Mr).Mg(!0).Qf(!1).Uj("*").Kg(),!1),["FONT"]);sr(a.Fb,b,function(a,b){var e;200===a&&b&&(e=b.media,e=mu(this,e),e.forEach(function(a){0<=nu(this).indexOf(a)&&(this.So.unshift(a),this.So=this.So.slice(0,10))},this))}.bind(a))}function Yn(a,b){var c=b&&b.replace?b.replace(/#/gi,"_"):null;if(c)for(var d=0;d<a.fonts.length;d++)for(var e=a.fonts[d],g=0;g<e.fonts.length;g++){var h=e.fonts[g];if(h.name==c||h.family==c)return h.Be=e.Be,h}return null}
function Pn(a){a=Yn(z,a);return!(!a||!0!==a.bA)}function ou(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.F()&&g.media.version===b.V())return g.Be=d.Be,g}return null}function bo(a){if((a=Yn(z,a))&&a.media)return new yh(a.media.id,a.media.version)}function pu(a,b){var c=Yn(a,b);return c&&!0===c.G.bold}function qu(a,b){var c=Yn(a,b);return c&&!0===c.G.o}function ru(a,b){var c=Yn(a,b);return c&&!0===c.G.v}
function co(a,b,c){var d=z,e=[],g=[];a&&e.push(a);b&&g.push(b);tq(d,e,g,c)}function su(a,b){tu(z,[a],b)}function uu(a,b,c){a.Rq=a.Rq.concat(b);a.$m.push({Wd:b,Bb:c||$.noop})}
function vu(a){function b(a){var b=!0;0!==a.Wd.filter(function(a){var d;d=c;var k=Yn(d,a);d=k?void 0===k.url||0<=d.si.indexOf(a):!1;a=0<=c.Qq.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.Yu||(a.Yu=!0,a.Bb(b),c.trigger("update"))}var c=a;setTimeout(function(){c.$m.forEach(b);c.$m=c.$m.filter(function(a){return!a.Yu})},0)}function wu(a,b){a.si=a.si.filter(function(a){return 0>b.indexOf(a)});b.forEach(function(b){-1==a.Qq.indexOf(b)&&a.Qq.push(b)});vu(a)}
function xu(a,b){b.forEach(function(b){-1==a.si.indexOf(b)&&a.si.push(b)});vu(a)}
f.xk=function(a){function b(a,b,c,k){k=k.u?"src: url('"+k.u+"') format('woff'); ":k.i?"src: url('"+k.i+"') format('truetype'); ":k.qb?"src: url('"+k.qb+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.Do);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.Do+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();a.xk&&(b(a.family,
"normal","400",a.H.j),a.G.bold?b(a.family,"normal","700",a.H.bold):b(a.family,"normal","700",a.H.j),a.G.o?b(a.family,"italic","400",a.H.o):b(a.family,"italic","400",a.H.j),a.G.v?b(a.family,"italic","700",a.H.v):a.G.bold?b(a.family,"italic","700",a.H.bold):a.G.o?b(a.family,"italic","700",a.H.o):b(a.family,"italic","700",a.H.j))};
function tq(a,b,c,d){b&&0<b.length?c&&0<c.length?yu(a,b,function(b){b?tu(a,c,d):window.setTimeout(function(){d&&d(!1)},0)}):yu(a,b,d):c&&0<c.length?tu(a,c,d):window.setTimeout(function(){d&&d(!0)},0)}function zu(a,b,c){var d=[],e=[];b.forEach(function(a){var b=dm(a);a=fm(b);(b=b.Qa())?d.push(Xq(b)):a&&e.push(a)});tq(a,d,e,c)}
function $q(a,b,c){function d(a){if(a){var b=m.Ev.ob(a.F(),a.V());if(b)l.push(h(Au(m,a,b)));else throw Error("Media "+a.F()+","+a.V()+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.F()+","+a.ia().V();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=mu(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.Nq[a.F()+","+a.V()]}var l=[],m=a,n=new Set,q=b.filter(function(a){return!ou(m,
a)}).filter(function(a){return!!a});q.forEach(function(a){n.add(a.F()+","+a.V())});if(a.Fb){var r=q.filter(k);if(0!==r.length){b=Tr(new Sr,r).Kg();var p=xr(a.Fb,b);r.forEach(function(a){m.Nq[a.F()+","+a.V()]=p})}a=q.map(function(a){return m.Nq[a.F()+","+a.V()]});P.all(a).then(e).catch(g)}else a.Ev&&b.forEach(d),window.setTimeout(function(){c(!0,l)},0)}function yu(a,b,c){$q(a,b,function(b,e){b?tu(a,e,c):c&&setTimeout(function(){c(!1)},0)})}
function tu(a,b,c){function d(a,b,c){h.Xy.load({custom:{families:a,urls:b},active:function(){xu(h,c)},inactive:function(){wu(h,c)},timeout:n})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return Yn(h,a)}var h=a,k=[],l=[],m={},n=nn?15E3:6E4,q=_.uniq(b).filter(function(a){return null!==g(a)}),r=q.filter(function(a){var b=0<=h.si.indexOf(a);a=void 0===Yn(h,a).url;return!(b||a)}),p=r.filter(function(a){return 0>h.Rq.indexOf(a)}),p=_.uniq(p.map(g));0===_.uniq(r.map(function(a){return Yn(h,a).url.replace(/^.+\=/,"")})).length&&c?window.setTimeout(function(){c(!0)},0):(uu(h,q,c),vu(h),p.forEach(function(a){var b;b=["n4"];a.G&&(a.G.o&&b.push("i4"),a.G.bold&&
b.push("n7"),a.G.v&&b.push("i7"));b.sort();if(b=(b=a.G&&(a.G.o||a.G.bold||a.G.v)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);a.Cy&&(m[b]=a.Cy);!0===a.xk?h.xk(a):l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.Do);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.Do+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.G&&(!1===a.G.o&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.G.bold&&
b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.G.v&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)))}}),0<p.length&&a.Xy.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):xu(h,
b)},inactive:function(){d(k,l,b)},timeout:n}))}function nu(a){return Bu(a).filter(function(a){return!a.disabled}).sort(a.Mu)}f.eC=function(a){return!this.locale||!a.N||-1!==a.N.indexOf(this.locale)};
f.Mu=function(a,b){var c=a.displayName||a.name||a.family,d=b.displayName||b.name||b.family,e=c.split(/\s/gi),g=d.split(/\s/gi);if(e[0]===g[0]){if(/hairline/gi.test(e[1]))return-1;if(/hairline/gi.test(g[1]))return 1;if(/light/gi.test(e[1])||/thin/gi.test(e[1])||/heavy/gi.test(g[1])||/light/gi.test(e[2])||/thin/gi.test(e[2])||/bold/gi.test(g[3]))return-1;if(/light/gi.test(g[1])||/thin/gi.test(g[1])||/heavy/gi.test(e[1])||/light/gi.test(g[2])||/thin/gi.test(g[2]))return 1}return c.localeCompare(d)};
function Bu(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.filter(a.eC,a).sort(a.Mu)}function Jn(a){var b=Bu(z).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function mu(a,b){return b.map(function(a){var b,e=new yh(a.F(),a.ia().V());if(Cu(this,e))return ou(this,e);b=a.ia();var g=a.F();a=b.Ka()||a.importFilename.replace(/\..*$/,"")||g;var h=b.Lb()[Vd].aa(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);b=Du({displayName:a,fontFamily:g+"_"+b.V(),I:b.Lb()[Np].aa(),ja:g,ka:b.V(),Hy:k,jx:l,cz:m});this.vk.push(e);Eu(this,b);return b},a)}
function Au(a,b,c){if(Cu(a,b)&&ou(a,b))b=ou(a,b),Eu(a,b);else{a.vk.push(b);var d=b.F(),e=b.V(),g=c[Vd].aa(),h,k,l;/\.ttf/gi.test(g)?h=g:/\.otf/gi.test(g)?k=g:/\.woff/gi.test(g)&&(l=g);b=Du({displayName:d,fontFamily:d+"_"+e,I:c[Np].aa(),ja:d,ka:b.V(),Hy:h,jx:k,cz:l})}Eu(a,b);return b}function Eu(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.fi})[0];return!!c})()?c.fonts.push(b):a.fonts.push({fi:"Media",Be:"sans-serif",fonts:[b]})}
function Cu(a,b){for(var c=0;c!==a.vk.length;c++)if(a.vk[c].F()===b.F()&&a.vk[c].V()===b.V())return!0;return!1}function Du(a){return{family:a.fontFamily,J:a.fontFamily,displayName:a.displayName,disabled:!1,xk:!0,I:a.I,TI:a.I,media:{id:a.ja,version:a.ka},H:{j:{qb:a.jx,i:a.Hy,u:a.cz,l:a.fontFamily}},url:"#",G:{o:!1,bold:!1,v:!1}}};function Fu(){this.T=Ba}function Gu(a,b,c,d,e,g){a.T.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,null,function(a){e&&e(a)})}function Hu(a,b,c,d){return we(a.T,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Ye(a.media)})}function Iu(a){this.prices=a}function Ju(a){var b={};b.ONE_USE=a;return new Iu(b)}var Ku=Ju(0);
function Lu(){this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}Lu.prototype.hu=function(a){this.licenseModel=a;return this};function Mu(){var a=(new Lu).hu(Ku);a.autoPublicify=!0;return a}Lu.prototype.Yo=function(a){this.locale=a;return this};function Nu(){this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}Nu.prototype.Sd=function(a){this.version=a;return this};Nu.prototype.Yy=function(a){this.description=a;return this};
Nu.prototype.Xo=function(a){this.keywords=a;return this};Nu.prototype.hu=function(a){this.licenseModel=a;return this};function Ou(){}Ou.prototype.$y=function(a){this.importVersion=a;return this};function Pu(a){this.reset();this.B=a}Pu.prototype.reset=function(){this.previous=null;this.Pg=[];this.ue={top:0,left:0}};Pu.prototype.vl=function(){var a=this;Qu();a.Pg.forEach(function(b){b={elementIndex:b.W(),pageIndex:S(t,b.U()),"new":{left:b.O(),top:b.K()},old:{left:b.O()-a.ue.left,top:b.K()-a.ue.top}};D.register(new U(Wi,b))});Ru()};
Pu.prototype.zn=function(){var a=this;return function(b){0<$(document.activeElement).parents(".toolbarMoreGroup *").length||op();a.Pg=t.wa();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".dd-container.on").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.Pg.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.ue.left-=1/O*1*d,a.Pg.forEach(function(a){$o(a,
1/O*1*d)}),Su(Ab(a.B)),!1;case 38:return a.previous=38,a.ue.top-=1/O*1*d,a.Pg.forEach(function(a){ap(a,1/O*1*d)}),Su(Ab(a.B)),!1;case 39:return a.previous=39,a.ue.left+=1/O*1*d,a.Pg.forEach(function(a){bp(a,1/O*1*d)}),Su(Ab(a.B)),!1;case 40:return a.previous=40,a.ue.top+=1/O*1*d,a.Pg.forEach(function(a){cp(a,1/O*1*d)}),Su(Ab(a.B)),!1}}null!==a.previous&&a.vl();a.reset();return!0}};Pu.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.vl(),a.reset())}};function dn(a){$(document).keydown(Tu);a=new Pu(a);$(document).keydown(a.zn());$(document).keyup(a.save())}
function Tu(a){var b;switch(a.which){case 16:var c=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",c))},d=t.wa()[0];d&&0===An(d.D())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");$(document).on("keyup",c);break;case 27:a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;if(0<$("*:focus").length)$("*:focus").blur();else if(0<
$(".modalContentMask").length)a=$(".modalContentMask"),(d=a.next().children(".dialog").data("Canva_Views_Dialog"))?d.cancel():a.trigger("click");else{if(0<$(".dd-container.on").length)return!0;0<a?Q():$(".infoPanel .close").click()}return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;var d=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,h=h?h.nodeName.toLowerCase():
"";if("input"===h||"textarea"===h)g=!0;if(g&&9===a.which)return!1;if(t.ha().some(function(a){return a.Ec}))return!0;if((h=t.wa()[0])&&h.Ce&&g&&a.shiftKey&&a.altKey){if(66===a.which)return Uu(h),!1;if(187===a.which||171===a.which)return Vu(h,1),!1;if(189===a.which||173===a.which)return Vu(h,-1),!1}if(h&&h.fw()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return Wu(h,1),!1;if(189===a.which||173===a.which)return Wu(h,-1),!1}if(d&&13===a.which&&(a.ctrlKey||a.metaKey))return e?Bo($(d)):Xu($(d)),
!1;if(g&&h&&h.yy()){if(a.altKey){switch(a.which){case 37:return Yu(h,-1),!1;case 39:return Yu(h,1),!1;default:h.Ng=void 0}if(a.shiftKey&&81===a.which)return Yu(h,0),!1}if(a.shiftKey&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");break;case 76:$(".textToolbarLeft a").trigger("click");break;case 82:$(".textToolbarRight a").trigger("click");break;case 67:$(".textToolbarCenter a").trigger("click")}return!1}}else if(!g){if(a.metaKey||a.ctrlKey)switch(a.which){case 67:return Zu(),
!1;case 86:return $u(),!1;case 71:return a.shiftKey?av():bv(),!1;case 90:return a.shiftKey?cv():dv(),!1;case 89:return cv(),!1;case 65:return Q(),a.shiftKey||ev(L(t).ha()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".elementToolbarDelete a").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return fv(),
!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return gv(1),!1;if(219===a.which)return gv(-1),!1}switch(a.which){case 221:case 38:if(Gj())return $(".elementToolbarForward a").click(),!1;break;case 219:case 40:if(Gj())return $(".elementToolbarBackward a").click(),!1;break;case 187:case 61:return $("#zoomIn").click(),!1;case 189:case 173:return $("#zoomOut").click(),!1}if(59===a.which||186===a.which)return Ka().toggle(),!1}return!0};function hv(a){this.google=a;this.Fr=null}
hv.prototype.search=function(a,b,c){var d=this;return new P(function(e,g){function h(a){d.Fr=a;a=a.jn().map(function(a){var b={page:0,quality:"THUMBNAIL",height:a.Sv(),width:a.Tv(),url:a.ng()},c={page:0,quality:"SCREEN",height:a.C(),width:a.A(),url:a.aa()};return{id:a.F(),title:a.Ka(),origin:"GOOGLE",files_:[b,c]}});e(iv({results:a}))}function k(){e(iv({results:[]}))}if("google"==a.toLowerCase()){if(0<b&&!d.Fr)throw Error("Google searches cannot be initialised when the from param is not zero");(0<
b?ft(d.Fr):d.google.Wm({Bc:c?c:50})).then(h).fail(k)}else g("Not handled")})};function jv(a){this.RI=a}jv.prototype.search=function(a,b,c){return new P(function(d,e){function g(a){var b=[];a.forEach(function(a){var c=a.Mb(),d=a.lg(),c={page:0,quality:"THUMBNAIL",height:c.C(),width:c.A(),url:c.aa()},d={page:0,quality:"SCREEN",height:d.C(),width:d.A(),url:d.aa()};b.push({id:a.F(),title:a.getName(),origin:Ud,files_:[c,d]})});d(iv({results:b}))}function h(){d(iv({results:[]}))}"facebook"==a.toLowerCase()?Fd&&Fd.jn(b,c).then(g).catch(h):e(Error("Not handled"))})};function kv(a,b){this.T=a;this.wG=b||[];this.url="/search"}var lv=["DESIGN"],mv=[Pd,Rd];
function nv(a,b,c,d,e,g,h,k,l,m,n,q){function r(a){var b="";0<a.length&&(b="\x26sort\x3d"+encodeURIComponent(a.map(function(a){return a.NB+":"+a.direction}).join()));return b}b="/search?q\x3d"+encodeURIComponent(c)+(b?"\x26docId\x3d"+encodeURIComponent(b):"")+function(a,b,c){var d="",e=[],g=[],h=[];if(a){var k=[];a.forEach(function(a){a=a.toString().charAt(0);d+=a;k.push(a)});h.push("+type:("+k.join(" ")+")")}b&&Object.keys(b).forEach(function(a){e.push(""+a+":"+b[a]);h.push("+"+a+":"+b[a])});c&&
Object.keys(c).forEach(function(a){g.push(""+a+":"+c[a]);h.push("-"+a+":"+c[a])});a="";d&&(a+="\x26types\x3d"+d);0<e.length&&(a+="\x26includes\x3d"+encodeURIComponent(e.join(",")));0<g.length&&(a+="\x26excludes\x3d"+encodeURIComponent(g.join(",")));0<h.length&&(a+="\x26fq\x3d"+encodeURIComponent(h.join(" ")));return a}(d,e,g)+(h?"\x26suggest\x3d"+encodeURIComponent(h.toString()):"")+(k?r(k):"")+(l?"\x26elevateIds\x3d"+l.map(function(a){return encodeURIComponent(a)}).join(","):"")+""+(void 0!==n?"\x26limit\x3d"+
encodeURIComponent(""+n):"")+(void 0!==m?"\x26from\x3d"+encodeURIComponent(""+m):"")+(q?"\x26translatable\x3dtrue":"");return ze(a.T,b).get(0).then(iv)}function ov(a,b,c,d,e,g,h,k,l,m,n){return P.any(a.wG.map(function(a){return a.search(c,m,n)})).catch(function(){return nv(this,b,c,d,e,g,h,k,l,m,n)}.bind(a)).cancellable()}function pv(a,b){we(a.T,a.url+"/click",b).return()};function qv(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.group=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.spritesheetMetadata=this.componentMedia=this.oneTimeUseAggregatePriceCents=this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.files_=[];this.designType=void 0;this.type=null;this.status=Cr;this.user=null;this.Wf=void 0}f=qv.prototype;f.Rv=function(){return this.searchId};
f.Qv=function(){return this.rank};f.F=function(){return this.id};f.V=function(){return this.version};f.Kd=function(){return this.origin};f.ma=function(){return this.brand};f.hb=function(){return this.user};f.Ka=function(){return this.title};f.ib=function(){return this.background};f.tf=function(){return this.cutout};f.Wk=function(){return this.repeating};f.gc=function(){return this.recolorable};function rv(a){return a.oneTimeUsePriceCents}f.Sq=function(){return this.componentMedia};f.ar=function(){return this.superKeywords};
f.ih=function(){return this.keywords};f.Lb=function(){return this.files_};f.$q=function(){return this.spritesheetMetadata};f.ob=function(a){return this.Lb().filter(function(b){return b.U()===(a||0)}).reduce(function(a,c){a[c.Pv()]=c;return a},{})};f.pf=function(){return sv(this).length};function sv(a){var b=[];a.Lb().forEach(function(a){a=a.U();-1===b.indexOf(a)&&b.push(a)});return b}function tv(a){return"DESIGN"==a.type&&1<a.pf()}f.getFile=function(a,b){var c=this.ob(b);return c?c[a]:void 0};
f.lg=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.Wf?a&&a(b.Wf):$.getJSON(c.aa(),function(c){b.Wf=c;a&&a(b.Wf)}):a&&a(b.Wf)};f.ng=function(){var a=this.getFile(Np);return a?a.aa():null};function Td(a){if(!a)return null;a=$.extend(new qv,a);if(a.files_){var b;b=(b=a.files_)?b.map(uk):null;a.files_=b}a.componentMedia&&(a.componentMedia=qq(a.componentMedia));a.spritesheetMetadata&&(a.spritesheetMetadata=Lr(a.spritesheetMetadata));return a}
function uv(a,b){a.id=b.F();a.version=b.ia().V();a.origin="CANVA"}function vv(){this.end=this.start=0;this.replacement=this.original=""}vv.prototype.lg=function(){return this.original};function wv(a){return a?$.extend(new vv,a):null}function xv(){this.overridden=!1;this.replacementQuery=this.originalQuery="";this.replacementHits=this.originalHits=0;this.tokenReplacements=null}function yv(a){return a.replacementQuery}function zv(){this.id="";this.totalHits=0;this.results=[];this.suggestion=null}
zv.prototype.F=function(){return this.id};zv.prototype.kn=function(){return this.results};function iv(a){if(!a)return null;a=$.extend(new zv,a);a.results&&(a.results=a.results.map(Td));if(a.suggestion){var b;(b=a.suggestion)?(b=$.extend(new xv,b),b.tokenReplacements&&(b.tokenReplacements=b.tokenReplacements.map(wv))):b=null;a.suggestion=b}return a}function Av(){}Av.prototype.wd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
Av.prototype.fu=function(a){this.events=a;return this};function Bv(a){a=Object.freeze(G(Cv,{mediaId:a.F(),rank:a.Qv(),searchId:a.Rv()}));return(new Av).fu([a])}function Cv(){}Cv.prototype.Rv=function(){return this.searchId};Cv.prototype.Qv=function(){return this.rank};function Dv(a,b){this.NB=a;this.direction=b};function Ev(a,b){this.cache=$.extend({},a,!0);this.Fb=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=uk(c.cache[a][g][b])})})})}function $d(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=uk(d[e])}Ev.prototype.ob=function(a,b){return Fv(this,a,b)?this.cache[a][b]:null};
function Fv(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function Jj(a,b){return!!b&&Fv(a,b.F(),b.V())}function Gv(a,b){var c=ta;function d(a){a&&a.media&&a.media.forEach(function(a){$d(e,a.F(),a.ia().V(),a.ia().Lb())})}var e=c;if(0===a.length)b();else{var g=Tr((new Sr).Kg(),a);xr(c.Fb,g).then(d).catch($.noop).finally(b)}};var Hv={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function Iv(){}Iv.prototype.getKey=function(){return this.key};function Jv(a){return G(Iv,a)};function Kv(a,b,c){this.fileName=a;this.ov=b;this.zB=c}Kv.prototype.getFileName=function(){return this.fileName};function Lv(){}Lv=Sm.extend();Lv.prototype.initialize=function(a){this.Rd=a.Rd;Sm.prototype.initialize.call(this,{title:"Upload error",content:$(Mv(this))})};
function Mv(a){var b=a.Rd.ov;switch(b){case 0:return Lv.oz();case 3:return Lv.rz();case 1:return Lv.pz({fileName:a.Rd.getFileName()});case 2:return Lv.hz({fileName:a.Rd.getFileName()});case 4:return Lv.gz({fileName:a.Rd.getFileName()});case 5:return Lv.qz({fileName:a.Rd.getFileName()});case 6:return Lv.kz({fileName:a.Rd.getFileName(),rejectionReason:Nv(a)})}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}
function Nv(a){a=a.Rd.zB;if(a instanceof Kr)return a.ia().rejectionReason}Lv.Xi=null;Lv.show=function(a){if(!Lv.dI(a))return null;var b=new Lv({Rd:a});b.on("hide",function(){Lv.Xi===b&&(Lv.Xi=null)});if(Lv.Xi)Lv.Xi.on("hide",function(){b.show()});else b.show();return Lv.Xi=b};Lv.dI=function(a){if(Lv.Xi)switch(a.ov){case 1:case 2:case 4:case 5:case 6:return!1}return!0};Lv.oz=_.template("\x3cp\x3eYour browser doesn\x26rsquo;t seem to support file uploads.\x3c/p\x3e",null,{variable:"data"});
Lv.rz=_.template("\x3cp\x3eWe ran into a problem preparing your files for upload.\x3c/p\x3e\x3cp\x3eThis might happen if you tried uploading too many files at once.\x3c/p\x3e",null,{variable:"data"});Lv.pz=_.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e isn\x26rsquo;t in a format Canva understands.\x3c/p\x3e\x3cp\x3ePlease choose \x3cb\x3e.jpg\x3c/b\x3e, \x3cb\x3e.png\x3c/b\x3e or \x3cb\x3e.svg\x3c/b\x3e files to upload.\x3c/p\x3e",null,{variable:"data"});
Lv.hz=_.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e is too big to upload. Each file must be under \x3cb\x3e25\x26nbsp;MB\x3c/b\x3e.\x3c/p\x3e",null,{variable:"data"});Lv.gz=_.template("\x3cp\x3eAn error occurred while processing \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e. It looks like the file data might not be readable.\x3c/p\x3e",null,{variable:"data"});
Lv.qz=_.template('\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e uses SVG features that Canva doesn\x26rsquo;t support.\x3c/p\x3e\x3cp\x3eFor details on Canva\x26rsquo;s SVG support, please see \x3ca href\x3d"https://support.canva.com/hc/en-us/articles/212920047" target\x3d"_blank"\x3eour Help Center article\x3c/a\x3e.\x3c/p\x3e',null,{variable:"data"});
Lv.kz=_.template('\x3c% if (data.rejectionReason) { %\x3e\x3cp\x3eThe server rejected \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e and responded with the following (possibly cryptic) error message:\x3c/p\x3e\x3cblockquote class\x3d"serverError"\x3e\x3cp\x3e\x3c%- data.rejectionReason %\x3e\x3c/p\x3e\x3c/blockquote\x3e\x3cp\x3eYou\x26rsquo;ll have to fix the problem with this file before trying again, or else choose a different file to upload.\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e could not be uploaded. This might be because you have logged out, or if Canva\x26rsquo;s servers are unreachable. Please try again later.\x3c/p\x3e\x3c% } %\x3e',null,
{variable:"data"});function Ov(a,b,c){this.wc=!1;this.Am=b;this.media=null;this.Qe=0;this.Cj=Date.now();this.nH=!!c;this.tH=a;this.Rd=null}f=Ov.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.sb=function(){return this.Am};f.Qa=function(){return this.media};f.ng=function(){return this.tH};f.start=function(a){this.wc||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.wc||(this.Qe=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.wc||(this.wc=!0,this.Qe=100,this.trigger("complete",this))};f.fail=function(a){this.wc||(this.wc=!0,this.media=null,this.Rd=a,this.trigger("fail",this))};function Pv(){this.xp=!1;this.Iq=this.wc=0;this.id=void 0;this.qx=[];this.tt=0}f=Pv.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.ke=function(a){this.id=a;return this};f.F=function(){return this.id};f.hn=function(){return this.qx};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.wc++;k.xp&&k.wc+k.tt===k.Iq&&k.complete()}function h(){k.fail(l.Rd);g()}var k=this,l=new Ov(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.qx.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};f.lw=function(){this.xp=!0;this.Iq++};f.fe=function(){this.tt++};
f.complete=function(){this.wc=this.tt=this.Iq=0;this.xp=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function Qv(){this.Zi={}}_.extend(Qv.prototype,Backbone.Events);Qv.prototype.off=Backbone.Events.on;Qv.prototype.on=Backbone.Events.on;Qv.prototype.trigger=Backbone.Events.trigger;Qv.prototype.hn=function(a){return 0<=Object.keys(this.Zi).indexOf(a)?this.Zi[a].hn():[]};
function Rv(a,b){var c=Object.keys(a.Zi).map(a.hn,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Cj>=b});if(c.every(function(a){return a.wc}))return 100;var d=c.reduce(function(a,b){return a+(b.wc&&!b.media?100:b.Qe)},0);return Math.min(100*d/(100*c.length),99)};function Sv(a){this.ik=this.Ok=this.pn=this.nn=0;this.R=a;this.ix=dc(a);$("#normalUploads .uploadButtonAndMessage .fileUploadButton").hasClass("buttonMarketplace")&&(this.ix=ec(a))}f=Sv.prototype;
f.create=function(a,b,c,d){function e(){var c=v.Qa(),e=$("\x3cimg\x3e"),g=$("\x3cimg\x3e"),h=_.after(2,function(){var a=new M(0,0,q,r);oe(a,new M(0,0,200,200));e.attr("width",a.A()).attr("height",a.C()).attr("data-screen-width",q).attr("data-screen-height",r).attr("data-media-id",c.F()).attr("data-media-version",c.ia().V());d&&e.addClass("svg");Tv(n,e);p.insertAfter(e);a=new qv;a.id=c.F();a.version=c.ia().V();var b=e.parent().closest("li"),g=$('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"moreInfo" title\x3d"Show more info"\x3ei\x3c/span\x3e\x3c/span\x3e');
b.data("result",a);b.find("a").append(g)});e.one("load",h);g.one("load",h);e.attr("src",a);g.attr("src",b);g.appendTo(p)}function g(){var a=p.find("img"),b=v.Qe,c=100-b;p.css("width",c+"%").css("left",b+"%");a.css("width",1E4/c+"%").css("left",-100*b/c+"%")}function h(){p.remove();m.pn++;Uv(m);l()}function k(){m.pn++;Uv(m);l();window.setTimeout(function(){p.parent().parent().remove();qn(n)},1E3)}function l(){v.off("start",e);v.off("update",g);v.off("complete",h);v.off("fail",k)}var m=this,n=$(".inlineFolderGroup .photoGallery",
"#normalUploads"),q=c.width,r=c.height,p=$('\x3cdiv class\x3d"uploadProgress"\x3e\x3c/div\x3e'),v=new Ov(a,c,d);v.on("start",e);v.on("update",g);v.on("complete",h);v.on("fail",k);Uv(this);return v};
f.init=function(a){function b(a,b){$(a,"#resultsUpload").trigger("mousedown");window.setTimeout(function(){b()},360)}function c(){$("a.marketplace","#resultsUpload").trigger("mousedown");var b=window.setInterval(function(){0<g.find(".inlineFolderGroup.fetched").length&&(window.clearInterval(b),h=g.find(".inlineFolderGroup"),0<h.find(".noResults").length&&e(),a())},200)}function d(){$("a.uploads","#resultsUpload").trigger("mousedown");var b=window.setInterval(function(){0<g.find(".inlineFolderGroup.fetched").length&&
(window.clearInterval(b),h=g.find(".inlineFolderGroup"),0<h.find(".noResults").length&&e(),a())},200)}function e(){k=$('\x3cdiv class\x3d"gallery infoPanelGallery photoGallery laidOut"\x3e\x3c/div\x3e');h.append(k);h.find(".noResults").remove()}var g=$("#normalUploads"),h=g.find(".inlineFolderGroup"),k=h.find(".photoGallery"),l=0<h.length&&0<g.find("li.folderExpanded a.uploads").length,m=0<h.length&&0<g.find("li.folderExpanded a.facebook").length,n=0<h.length&&0<g.find("li.folderExpanded a.marketplace").length;
Vv()?n&&0<h.find(".noResults").length?(e(),a()):n?a():m?b("a.facebook",c):l?b("a.uploads",c):c():l&&0<h.find(".noResults").length?(e(),a()):l?a():m?b("a.facebook",d):n?b("a.marketplace",d):d()};f.sync=function(){Uv(this)};f.lw=function(){this.nn++};
f.fe=function(){var a=this;this.Ok++;$("#normalUploads .fileUploadButton").addClass("disabled").text("Skipped "+this.Ok+" unsupported file"+(1<this.Ok?"s":""));0!==this.ik&&window.clearTimeout(this.ik);this.ik=window.setTimeout(function(){a.ik=0;Uv(a)},500)};f.complete=function(){this.Ok=this.pn=this.nn=0;Uv(this)};f.fail=function(a){a&&Lv.show(a)};
function Uv(a){if(0===a.ik){var b=a.pn+a.Ok;b<a.nn?$("#normalUploads .fileUploadButton").addClass("disabled").text("Uploading file "+(b+1)+" of "+a.nn):$("#normalUploads .fileUploadButton").removeClass("disabled").text(a.ix)}};function Wv(a){this.source=a.source;this.il=a.il||null;this.listener=a.progress||new Sv(a.R)}function Xv(a,b,c,d,e,g,h,k,l){var m=!1,n=a.listener.create(d,e,g,h);Yv(b,c,d,function(a,b){m||(m=!0,n.start(a));n.update(b)},k,l).then(function(){n.complete();a.il&&a.il(n.Qa())},function(a){n.fail(new Kv(b.name||"Unnamed File",6,a))})}
function Zv(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new Ch,k=0;k<b;k+=4)Gh(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=Kh(c);h.putImageData(d,0,0);g=g.toDataURL();return{color:a,Wv:g}}
function $v(a,b){aw(b).then(function(c){var d=Zv(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),q=Array(n-m),r=0;m<n;++r,++m)q[r]=e[m].charCodeAt(0);k[l]=new Uint8Array(q)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;Xv(a,e,b,d.color,d.Wv,c,!1,!0)}).catch($.noop)}
Wv.prototype.upload=function(a,b,c){var d=this;this.listener.init(function(){function e(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var e=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[Hv[5],Hv[6],Hv[7],Hv[8]].indexOf(c)?(e.width=k,e.height=h):(e.width=h,e.height=k);var l=e.getContext("2d");switch(c){case Hv[2]:l.translate(h,0);l.scale(-1,1);break;case Hv[3]:l.translate(h,k);l.rotate(Math.PI);break;case Hv[4]:l.translate(0,k);l.scale(1,-1);break;
case Hv[5]:l.rotate(.5*Math.PI);l.scale(1,-1);break;case Hv[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case Hv[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case Hv[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=e.toDataURL("image/jpeg",.92);g(a,b)});d.attr("src",b)}function g(a,b){var c=b.slice(b.indexOf(",")+1),d=h(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){l(d,e.get(0),b)})}function h(a){a=window.atob(a);
for(var b=a.length,c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function k(a,b){var c=n[a];bw(c).then(function(a){l(c,a,b)}).catch(function(){d.listener.fail(new Kv(a,4));d.listener.fe();m()})}function l(a,e,g){var h=Zv(e);Xv(d,a,g,h.color,h.Wv,{width:e.naturalWidth,height:e.naturalHeight},!1,!c,b);window.setTimeout(m,600)}function m(){v++;v<p?r.postMessage({next:!0}):
d.listener.sync()}if(window.URL){for(var n={},q=[],r=new Worker("/static/r/jaffle/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"),p=0,v=0,w=0;w<a.length;w++){var y=a[w],x=y.name,A=y.type,B=y.size;d.listener.lw();var C;a:{switch(A){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":C=!0;break a}C=!1}if(C)if(26214400<B)d.listener.fail(new Kv(x,2)),d.listener.fe();else{if("image/jpeg"===A||"image/png"===A)n[x]=y;q.push(y);p++}else d.listener.fail(new Kv(x,1)),d.listener.fe()}d.listener.sync();
if(0===p)d.listener.complete();else{r.onmessage=function(a){var h=JSON.parse(a.data);if("error"===h.status)d.listener.fail(new Kv(h.fileName,4)),d.listener.fe(),m();else if("exifRotated"===h.specialFile)e(h.fileName,h.imageData,h.orientation);else if("raw"===h.specialFile)g(h.fileName,h.imageData);else if(h.svgText)if(a=h.fileName,h=h.svgText,hq(h)){a=(new cw(h)).Zy(a);a.source=dw(a.source);a.source=ew(a.source);a.source=fw(a.source);a.viewBox=gw(a.source);h=new Blob([a.source],{type:"image/svg+xml"});
h.name=a.filename;h.type="image/svg+xml";h.constructor=File;var l="data:image/svg+xml;base64,"+window.btoa(a.source);Xv(d,h,l,l,l,{width:a.viewBox[2],height:a.viewBox[3]},!0,!c,b);window.setTimeout(m,600)}else d.listener.fail(new Kv(a,5)),d.listener.fe(),m();else k(h.fileName,h.imageData)};try{r.postMessage(q)}catch(E){d.listener.fail(new Kv(null,3));d.listener.complete();return}I&&I.track("image_upload",{source:d.source,quantity:p})}}else d.listener.fail(new Kv(null,0)),d.listener.complete()})};
function bw(a){return new P(function(b,c){if(hw){var d=window.URL.createObjectURL(a);aw(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){aw(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function aw(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var hw="IE"!==(new UAParser).getResult().browser.name;function iw(a,b,c,d,e){this.T=a;this.Sy=e;this.media=b;this.fc=c;this.Me=d;this.Dj={};this.Hj=[]}iw.prototype.ob=function(a,b){return this.Me.ob(a,b)||this.Dj[a]||null};function jw(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.F();a=a.V();if(this.ob(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Yd(a,b){var c=b.F();if(!a.Dj[c]){var d=b.ob();a.Dj[c]={SCREEN:uk(d[Vd]),THUMBNAIL:uk(d[Np])}}}
function Nd(a,b,c){var d=b.Kd();if(d!==Ud&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.F(),h=kw(b),d=(new Pr).Lg(h.filename).Mg(!0);a.Hj.push(g);ur(a.media,d).then(function(b){var c=b.ia();a.Dj[b.F()]=c&&c.Lb();e=b;a:switch(h.origin){case Ud:case "GOOGLE":b=new lw(h.id,La,b,h.nG);break a;default:throw Error(h.origin+" is unsupported");}return a.Sy.upload(b)}).then(function(){var b=(new Wp).Sd(e.ia().V()).Sj(!0);return a.media.Vy(e.F(),b)}).then(function(c){var d=
b.V();uv(b,c);$d(a.Me,c.F(),c.ia().V(),c.ia().Lb());mw({mediaId:g,mediaVersion:d},{mediaId:c.F(),mediaVersion:c.ia().V()});Hj(t).forEach(function(a){var b=a.Vb();b&&b.F()===g&&a.Bg(c.F(),c.ia().V())});nw();return c}).catch(function(b){c.Xl(a.Me);nw();return Promise.reject(b)}).finally(a.uy.bind(a,g))}
function Yv(a,b,c,d,e,g){var h=Aa,k=a.name.replace(/\$/g,"_"),l=_.uniqueId("file_");e=Qr((new Pr).Lg(k).Mg(e).bz(!1),a.size);h.Hj.push(l);return ur(h.media,e).then(function(e){function k(){return l(r,c,Np)}function l(a,b,c){return new P(function(d,e){var g,h;a[c]=h=uk({url:b});g=document.createElement("img");g.onerror=function(){e(Error("Cannot get dimensions of image"))};g.onload=function(){h.width=g.naturalWidth;h.height=g.naturalHeight;d()};g.src=b})}var r={};return k().then(function(){return l(r,
b,Vd)}).then(k).then(function(){var b=r[Vd];if(0===b.A()||0===b.C())return P.reject();h.Dj[e.F()]=r;b=new ow({file:a,Ym:g,id:_.uniqueId("file_"),media:e,fc:h.fc});!0===$("#fileUpload").data("marketplacePaidMedia")&&(b.ks=!0);b.Es.push(d);return h.Sy.upload(b)})}).then(function(a){var b=(new Wp).Sd(a.ia().V()).Sj(!0);return h.media.Vy(a.F(),b)}).then(function(a){$d(h.Me,a.F(),a.ia().V(),a.ia().Lb());nw();return P.resolve(a)}).catch(function(a){return Promise.reject(a)}).finally(h.uy.bind(h,l))}
iw.prototype.uy=function(a){a=this.Hj.indexOf(a);-1!=a&&this.Hj.splice(a,1)};function nw(){t.trigger("change")}function pw(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(Fv(d.Me,g,h)?0:g in d.Dj)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):d instanceof Object&&b(d)})}function c(a){return a instanceof Object}var d=Aa;b(a)};function qw(a,b,c,d){this.id=a;this.origin=b;this.nG=c;this.filename=d}function kw(a){var b=a.Kd();switch(b){case Ud:b=a.getFile(Vd).aa();a.getFile(Np).aa();var c=b.match(/.*(\.\w+)/)[1];return new qw(a.F(),a.Kd(),b,a.F()+c);case "GOOGLE":return b=a.getFile(Vd).aa(),a.getFile(Np).aa(),new qw(a.F(),a.Kd(),b,a.Ka());default:throw Error('Cannot create temporary media for origin "'+b+'"');}};function rw(){this.queue=[];this.Dl={};this.Wt={};this.Up=null}rw.prototype.upload=function(a){function b(){var b=new P(function(b,d){var e={request:a,resolve:b,reject:d};c.queue.push(e);var l=a.F(),m=c.Dl[l];m||(m=[]);m.push(e);c.Dl[l]=m});sw(c);return b}var c=this,d=this.Wt[a.F()];return d?P.resolve(d):P.resolve().then(b)};function sw(a){if(!a.Up&&0<a.queue.length){var b=a.queue.shift();a.Up=b;tw(a,b)}}
function tw(a,b){var c=b.request.F();uw(b.request).then(function(b){a.Wt[c]=b}).then(function(){var b=a.Dl[c],e=a.Wt[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.Dl[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.Dl[c]}).finally(a.WC.bind(a))}
function uw(a){return new P(function(b,c){function d(h){7>e&&h===vw?(e++,g+=200,Promise.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}rw.prototype.WC=function(){this.Up=null;sw(this)};function ww(a,b){this.id=a;this.media=b;this.Es=[]}var vw=Error("Canva is too busy to process your upload at this time. Please try again later.");ww.prototype.F=function(){return this.id};ww.prototype.send=function(){return P.reject("Not implemented")};ww.prototype.iF=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.Es.length;b++)this.Es[b](this.media,a)}};function xw(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(yw,function(b,c){return a.slice(-c.length)===c})}var yw={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function ow(a){ww.call(this,a.id,a.media);this.file=a.file;this.Ym=a.Ym;this.fc=a.fc;this.ks=void 0}ow.prototype=Object.create(ww.prototype);ow.prototype.constructor=ow;
ow.prototype.send=P.method(function(){var a=this,b=a.file.type||xw(a.file.name);return ze(this.fc.T,"/media/"+encodeURIComponent(this.media.F())+"/"+encodeURIComponent(this.media.ia().V().toString())+"?form\x26mimeType\x3d"+encodeURIComponent(b)).spread(Jv).then(function(c){return zw({wz:c.awsAccessKeyId,file:a.file,IC:b,key:c.getKey(),BF:c.policy,progress:a.iF.bind(a),WG:c.signature,url:c.postUrl})}).then(function(c){c=(new Ou).$y(c);c.mimeType=b;c.isPaid=!0===a.ks;a.Ym&&(c.folderKey=a.Ym);return Hu(a.fc,
a.media.F(),a.media.ia().V(),c)}).catch(this.YF.bind(this))});
ow.prototype.YF=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function lw(a,b,c,d){ww.call(this,a,c);this.fc=b;this.url=d}lw.prototype=Object.create(ww.prototype);lw.prototype.constructor=lw;lw.prototype.send=P.method(function(){var a=this;return we(this.fc.T,"/media/"+encodeURIComponent(this.media.F())+"/"+encodeURIComponent(this.media.ia().V().toString())+"?upload",{url:this.url}).then(function(){return a.media}).catch(function(a){throw 429===a[1]?vw:Error();})});function an(a){function b(a,b,c){c||b.forEach(function(a){a.F&&a.V&&a.Lb&&("CANVA"==a.Kd()?$d(ta,a.F(),a.V(),a.ob()):Yd(Aa,a))})}var c=$("#objectPanel"),d=new qe(window.viewConfig),e=Em(),g=e.user,h=Hm(e).ma(),k=a.B;zu(z,function(){var a=Yl(Im(Hm(e))||Vl({}));return a&&a[0]?am(a[0])||[]:[]}(),function(){var a=new Aw({model:t,lb:Im(Hm(e)),B:k});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});new Bw({bb:h.Xd(),fd:h.F(),yb:va,el:"#resultsLayout",FC:se(d),model:t,ot:!!Ca.Ia.get(jd),Ll:Ca.zm(),
bg:!!Ca.Ia.get(Bd),Sa:g.F(),B:k});(new Cw({el:"#resultsSearch",B:k})).on("results:didFetch",b);(new Dw({el:"#resultsElements",B:k})).on("results:didFetch",b);var l;if(Ca.Ia.get(ld)){d=new ve(Ba);l=new Qv;var h=new Hd({Ta:t,Me:ta,Fb:ya,Tb:d,Lo:Aa,Qp:function(a,b){var c=tb(k),d;d=a.F();var e;0<=Object.keys(l.Zi).indexOf(d)?d=l.Zi[d]:(e=(new Pv).ke(d),e.on("create",l.trigger.bind(l,"create")),e.on("fail",l.trigger.bind(l,"fail")),d=l.Zi[d]=e);return new Wv({source:b,R:c,progress:d})}}),m;a:{try{m=fi(Im(Hm(e)).Xd());
break a}catch(n){}m=void 0}g=new Ew({bb:m,Ca:h,pk:!!Ca.Ia.get(vd),nB:new Fw($(window)),Hd:Fd,oa:Ca,Tb:d,Fb:ya,B:k,rd:za,Sa:g.F(),uc:l,la:xf});g.render().Hc().replaceAll("#normalUploads");g.show();(new Gw({root:$("#objectPanel menu .uploads"),uc:l})).start()}else g=new Hw({el:"#resultsUpload",Vd:a.Vd,B:k}),g.on("results:didFetch",b);Iw(Im(Hm(e)),yb(k));Jw(k);qn();c.children("menu").find("a").on("click",function(){Kw.call(this,k)});(new V("#objectPanel")).on("mousedown",".templateGallery a",Lw).on("touchstart",
".templateGallery a",Lw);c.on("click",".backgroundGallery a",Mw);(new V("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",Nw).on("touchstart",".backgroundGallery *:not(.static) a",Nw);c.on("click",".backgroundGallery a",!1);c.on("click",".infoPanelGallery .info .moreInfo",function(){Ow.call(this,k)});c.on("click",".infoPanelGallery .info .superKeyword",Pw);if(Ca.Ia.get(hd))c.on("click",".searchSuggestion a",function(){var a=$(this).data("query");$("#search").val(a);Z=null;Qw(k,
!1)});Ca.Ia.get(fd)&&c.addClass("showMarketplacePublishing");(new V("#objectPanel")).on("mousedown",".photoGallery:not(.gridGallery):not(.albumGallery) a",Rw).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",Rw);c.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new V("#objectPanel")).on("mousedown",".gridGallery a",Sw).on("touchstart",".gridGallery a",Sw);$("#fileUpload").on("change",Tw);Fd&&Fd.init(function(a){Zs(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",
Uw);$("#search").on("focus",Vw);$("#someoneElseEditing").find("a").on("click",Ww);$("#inReview").find("a").on("click",Xw);$("#touchDevice").find("a").on("click",Yw);c.find(".scrollPane").each(function(){(new ji($(this))).render()});Zw(c,a.wq,k)}
function Zw(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?Kw.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(Kw.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},500)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);Qw(c)},500)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
Kw.call(a,c)}b?d(b):h()}
function Iw(a,b){function c(){var a=l;a.view&&(a.stopListening(a.view),a.view.remove());a.view=a.xm();a.view.render().$el.appendTo(h)}function d(a){0===$(a.target).closest(".colorPicker, .colorPaletteSwatch").length&&e()}function e(){l.wg();$h(l);$(document).off("mousedown",d)}var g=$("#resultsBackground"),h=$(".colorControls",g),k=$w(),l=new Th({vh:t,lb:a,fB:!0,Mc:b});l.on("showPicker",function(){$(document).on("mousedown",d)});l.on("updateColor",k.select);l.on("confirmColor",k.confirm);c();l.listenTo(t,
"change",c);l.listenTo(H,"elementLoaded:svg",c);l.listenTo(H,"elementLoaded:graphic",c);l.listenTo(t,"page:change:selected",e);l.listenTo(D,"beforeOperationStackPop",e);g.find(".layer").on("scroll",e)}function Vw(){var a=this;"resultsSearch"!==ax().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},20)}
function Kw(a){function b(a){var b=$(a);a=0===b.find(".gallery li:not(.static)").length;b=0<b.find(".searchLoader").length;return a&&!b}function c(a,b,c){a=$(a);var d=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").first(),e=d.parent(".layer");bx();e.find(".searchError").remove();cx(d);d.height(a.height());Z=new dx(b,mv,null,null,!1,null,jx(a,a.height()),function(){kx(c)});d.data("search",Z);kx(c);Ma=!0}var d=$(this).parents("menu"),e=$("li",d),g=$(this).parents("li"),h=e.index(d.find("li.on"))+
1,k=g.index()+1,l=$("#objectPanel"),d="#"+l.find(".content \x3e .results").get(k-1).id,m=l.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");l.get(0).className=m;l.addClass("stage"+k);e.removeClass("on");g.addClass("on");e=ax();g.hasClass("search")&&$("#search").focus();h==k&&e.children(".layer").first().animate({scrollTop:0},600);g=$("#results"+h+" \x3e .layer");lx(g);"#resultsLayout"==d&&b(d)&&(h=$("#resultsLayout"),g=h.data("view"),h=jx(h,h.height()),g.Sc(h));"#resultsText"==d&&b(d)&&c(d,"text",
a);"#resultsBackground"==d&&b(d)&&c(d,"backgrounds",a);(a=e.children(".layer").last().find(".searchGroup").last().data("search"))&&Z&&"facebook"!=Z.query.toLowerCase().trim()&&(Z=a);return!1}
function Lw(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=4<Math.abs(a-l),c=4<Math.abs(b-k)||c;null==h&&c&&(h=e.hk(),$("#content").append(h),d.css("opacity",0),$("#search").blur(),mx(h,nx(m)));null!=h&&(a=g.top+a-l,h.css("left",g.left+b-k).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity","")}$("#hotspots").remove();m.off("mousemove|touchmove",b).off("mouseup|touchend",
c);d.removeClass("pickedUp");null==h||h.hasClass("disappeared")||h.hasClass("placing")?(h&&h.remove(),d.animate({opacity:1},300)):(g=d.offset(),h.addClass("returning"),h.one("transitionend",a).css("left",g.left).css("top",g.top))}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||3==a.which||a.ctrlKey)return!0;var d=$(this);d.addClass("pickedUp");var e=d.parents("li").data("view"),g=d.offset(),h=null,k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,l=void 0!==
a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=new V($(document));m.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function $w(){var a=!1,b,c,d;return{select:function(e){Q();var g=L(t);b=b||Bj(g)[0];d={index:0,color:e.Z()};a||(Qu(),a=!0);b&&!Rp(b)&&(ox(b),b.remove(),b=null);b?(g=b.ac()[0],c={index:0,color:g?g.Z():"#ffffff"},b.de(0,e)):(e={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:d.color},_.extend(e,g.fa().serialize()),b=Jd(e),b.appendTo(g),c=d,Ld(b))},confirm:function(){if(b&&b.U()){var e={elementIndex:b.W(),pageIndex:b.U().W(),"new":d,old:c};D.register(new U(px,e))}a&&(Ru(),a=!1);b=null}}}
function Mw(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;Q();a=$(a.currentTarget).parents("li")[0];a=$(a);qx(a);a=a.data("result");pv(Oa,Bv(a));return!1}
function Nw(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(4<=Math.abs(b-n)||4<Math.abs(a-q))){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.Wk()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),y=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);y<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();mx(m,nx(r))}null!=m&&(a=h.top+a-q,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();r.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
300)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(3==a.which||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,r=new V($(document));r.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function qx(a){var b=L(t),c=Bj(b);0<c.length&&c[c.length-1].D().clone().removeClass("appearing").appendTo(b.D().children(".elements")).delay(480,function(){$(this).remove()});Qu();c.forEach(function(a){var c={elementIndex:a.W(),pageIndex:S(t,b)};Vp(a);D.register(new U(rx,c));ox(a);a.remove()});a=$("img",a);a=Jd(sx(a));var c=b.fa(),d=a.fa();oh(d,c);a.xb(d);b.addElement(a,!1,!0);Ld(a);c=a.W();Cj(a);a={elementIndex:a.W(),oldElementIndex:c,pageIndex:S(t,b)};D.register(new U(tx,a));Ru()}
function qn(a,b,c){function d(a){var b=0,c=0,d=a.width(),e=parseFloat(a.find("a").css("margin-right")),b=a.data("layoutItem"),c=a.data("designItem"),n=a.data("searchResult");if(b)c=b.mf(),b=c.width,c=c.height;else{if(c)c=zk(c);else if(c=n.getFile("ORIGINAL"),!c)return d;b=c.A();c=c.C()}return 80>(d-e)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var e=a.filter(".gridGallery");a=a.not(e);ux(e);a.each(function(){var a=
$(this),e=a.children("li"),k=a.hasClass("backgroundGallery");if(!(0>=e.length||(a.removeClass("laidOut"),0>=a.width()))){b||e.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");e.css("width","").css("left","").css("top","");var l;l=a.hasClass("templateGallery")?d(e.first()):e.first().width();for(var m=parseInt($("a",this).css("margin-right"),10),n=parseInt($("a",this).css("margin-bottom"),10),q=Math.round(a.width()/l),r=a.data("columnData"),p={tm:l,marginRight:m,marginBottom:n,
Y:[]},v=!c&&r&&r.Y.length==q&&r.tm==l,w=0;w<q;w++)p.Y[w]={height:0,items:[],ec:0},v&&(p.Y[w].ec=r.Y[w].ec);var y=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;y=$(this).data("originalTop")+(l-m)/b*a+n});null!=y&&v||e.removeData("modifiedTop");e.each(function(){for(var b=$(this),c=b.data("result"),d=0,e=p.Y[d].height,h=0;h<p.Y.length;h++)if(0==p.Y[h].height){d=h;
e=0;break}else p.Y[h].height<e&&(d=h,e=p.Y[h].height);var h=b.find("a"),q=b.find("img"),r,w;0<q.length?(r=parseInt(q.attr("width"),10)||q.get(0).naturalWidth,w=parseInt(q.attr("height"),10)||q.get(0).naturalHeight):w=r=l;var x=r>w,B=l-m,A=B/r*w;q.css("height",A);b.hasClass("grid")&&(A=b.data("layoutItem").mf(),A=(l-m)*A.height/A.width,b.find("a").css("height",A));b.data("originalTop",e).css("width",l).css("left",d*l);k&&(x&&(B=r/w*(l-n),q.css("width",B).css("height","")),"backgroundColorAlbum"===
b.attr("id")?b.add(h).add(q).css("width","").css("height",""):(b.height(l),h.height(l-n),c&&!c.Wk()&&(A=x?0:(l-n-A)/2,q.css("margin-left",(l-m-B)/2).css("margin-top",A))),c&&(c.gc()&&(A="#"+(hb[c.F()]||"888888"),b.data("color",A),h.css("background-color",A)),c.Wk()&&b.addClass("patterned")),A=l-n);c=d;b.hasClass("newSearch")?(d=0,null!=y&&e+A+n>y&&(d=p.Y[c].ec,0==d&&(d=vx(a.parents(".searchGroup")),d+=y-p.Y[c].height,p.Y[c].ec=d),b.data("modifiedTop",e+d)),b.css("top",e+d)):b.data("modifiedTop")?
(c=b.data("columnIndex"),e=b.data("modifiedTop"),b.css("left",c*l).css("top",e).data("originalTop",e-p.Y[c].ec)):v?(c=b.data("columnIndex"),b.css("left",c*l).css("top",p.Y[c].height).data("originalTop",p.Y[c].height)):b.css("top",e);p.Y[c].height+=A+n;p.Y[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",p);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){e.filter(":not(.newSearch)").removeClass("doNotTransition")},300);var x=a.parent(".searchGroup"),
q=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==x.get(0);rn(x,!q);var A=x.height(),B=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=wx(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?xx(x):0,e=-1;a.children("li.newSearch").each(function(){var a=$(this),g=!1;(g=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<A)?window.setTimeout(function(){a.removeClass("newSearch")},20*++e*B):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
20)}})}
function Tv(a,b){var c=!0;void 0===c&&(c=!1);b=$(b);var d=a.data("columnData"),e=0<a.parents("#resultsUpload").length,g=b.get(0).complete&&""!==b.get(0).src,h=$('\x3cli class\x3d"newSearch"\x3e\x3ca href\x3d"#"\x3e\x3c/a\x3e\x3c/li\x3e');e||h.find("a").append('\x3cspan class\x3d"info"\x3eFree\x3c/span\x3e');g||h.addClass("loading");h.find("a").prepend(b);c?a.prepend(h):a.append(h);if(!d||c)qn(a,!1,!0);else{c=0;e=d.Y[c].height;for(g=0;g<d.Y.length;g++)if(0==d.Y[g].height){c=g;e=0;break}else d.Y[g].height<e&&
(c=g,e=d.Y[g].height);var g=b.attr("width")||b.get(0).naturalWidth,k=b.attr("height")||b.get(0).naturalHeight,g=(d.tm-d.marginRight)/g*k;b.css("height",g);h.data("originalTop",e).data("columnIndex",c).css("width",d.tm).css("left",c*d.tm).css("top",e+d.Y[c].ec).delay(20,function(){$(this).removeClass("newSearch")});d.Y[c].height+=g+d.marginBottom;d.Y[c].items.push(h);a.data("columnData")}}
function ux(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});rn(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},
20*a):b.removeClass("newSearch")})},20)})}
function sx(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=Ja.Ae,g*=Ja.Ae):a.hasClass("graphic")&&(h="graphic");var k=c.$q();return{type:h,origin:c.Kd(),mediaId:c.F(),mediaVersion:c.V(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.ib()&&d,isCutout:c.tf(),isRepeating:c.Wk(),isRecolorable:c.gc(),backgroundColor:c.gc()?b.data("color"):void 0,spritesheetMetadata:k&&k.serialize()}}function yx(a){var b=ae(t.za().sb()),c=$("img",a);a=c.parents("li").data("result");var c=Jd(sx(c)),d=c.A(),e=c.C(),g=Math.min(d,.95*b.A()),h=g/d*e;h>.95*b.C()&&(h=.95*b.C(),g=h/e*d);c.da(g);c.ca(h);tp(c);c.Al();L(t).addElement(c,!0);c.sg()&&"CANVA"!==a.Kd()&&Nd(Aa,a,c);Ld(c)}
function zx(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();qn(b)},500)}function pn(){$(".infoPanel .close").click()}
function Ow(a){function b(a){a=a.F();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return se(new qe(window.viewConfig)).reduce(function(a,b){a[b.template]=Ax(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),q=Bx(m),r=parseInt(m.css("margin-top"),10),p=1==$(this).parents("#resultsUpload").length,v=0;m.prevAll(".searchGroup").each(function(){v=
Math.max(v,Cx($(this)))});l.find(".infoPanel .close").click();e.addClass("infoOpen");var w=h.data("result"),y=h.data("designItem"),x=h.data("originalTop"),A=h.height(),B=x+A,q=q+B+xx(m),r=q-v+r;if(null!=w||null!=y){a=(new Dx({bb:Hm(Em()).ma().Xd(),yb:va,sr:!!y,Ar:!!w,Zd:!(!w||!tv(w)),Br:!1===g.data("mediaApproved"),Cr:p,nh:y&&b(y),model:w||y,bs:zx.bind(null,h),B:a})).render().$el;a.data("item",e);a.css("top",r).appendTo(m);e.data("infoPanel",a);var C=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');
C.css("left",parseInt(h.css("left"),10)+parseInt(a.css("left"),10)+h.width()/2).css("top",r).appendTo(m);a.data("infoPanelPointer",C);var E=a.height(),J=a.outerHeight(!0);a.one("transitionend",d).css("height",0).delay(20,function(){$(this).addClass("on").css("height",E);C.addClass("on")});var ea=Ex(k,B),ea=ea.filter(function(a){return a!=h.get(0)}),sa=k.data("columnData");sa.Y.forEach(function(a){var b=null;a.items.filter(function(a){return-1<ea.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");
null===b&&(b=B+J-d,a.ec=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",sa.Y.indexOf(a))})});e=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");rn(m,!e);e=q+J;n=wx(n);k=e-r<l.height();e>n&&k?l.animate({scrollTop:l.scrollTop()+(e-n)},600):r<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-r)},600);m.hasClass("inlineFolderGroup")&&H.trigger("infoPanelToggle",m,Cx(m))}}
function Pw(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.ar()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return Gr(a.trim())});e=Ur((new Ar).ke(e.F()).Sd(e.V()),g);yr(ya,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),
a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function Fx(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").Y.forEach(function(a){a.ec=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&H.trigger("infoPanelToggle",d,0);return!1}
function Rw(a){function b(a){function b(){B=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=sx(n);C=Jd(a);C.da(w);C.ca(y);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(C.D()),d;n.is(".svg")?d="svg":n.is(".graphic")&&(d="graphic");d&&(B.addClass(d),c.addClass(d),a=Aa.ob(a.mediaId,a.mediaVersion),C.Jh(a[Np].aa()));B.append(c).css("left",k.left).css("top",k.top).css("transform-origin","top left").css("transform","scale("+l/x+", "+m/A+")").toggleClass("cutout",C.tf()).data("li",h.parents("li")).data("canvaElement",
C);$("#content").append(B);h.css("visibility","hidden");(C.om()||C.tf())&&pe(B,null,nx(T));$("#search").blur()}if(!v)return!1;var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var d=0;if(null==B)if(nx(T)){var e=Rh(K,N,c,a);if(300<e||60>e)b();else return!0}else(4<Math.abs(c-K)||4<Math.abs(a-N))&&b();d>(l+l)/4&&$("#trashcan").removeClass("active");if(null!=B){var e=Math.min(1,Math.sqrt(Math.pow(c-K,2)+Math.pow(a-N,
2))/wb),d=Math.min(1,l/(x*(1-e))),g=Math.min(1,m/(A*(1-e)));ob=!1;c>K?(B.css("transform","scale("+d+", "+g+")"),C.fk()&&(null===C.Ze&&tp(C),up(C,e),C.Al()),e=Math.round(k.top+a-N-(g*A-m)*Na),B.css("left",Math.round(k.left+c-K-(d*x-l)*ca)).css("top",e)):(e=1,d=Sh(c,a,ab,dd),d<(l+m)/4?($("#trashcan").addClass("active"),ob=!0,e=.5):$("#trashcan").removeClass("active"),B.css("transform-origin","top left").css("transform","scale("+l/x+", "+m/A+")"),B.css("left",k.left+c-K).css("top",k.top+a-N).css("opacity",
e));(c<J.left||c>J.left+E.outerWidth()||a<J.top||a>J.top+E.outerHeight())&&B&&!B.hasClass("disappeared")&&!B.hasClass("placing")&&je(ea,B)?(null==W&&(W=new ke(B,sa)),me(W,pb,Da)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();h.css("visibility","visible")}function g(){h.css("opacity",0);window.setTimeout(function(){h.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},20)}
$("#trashcan").hasClass("active")?window.setTimeout(function(){$("#trashcan").hasClass("active")&&$("#trashcan").removeClass("allow").removeClass("active")},500):$("#trashcan").removeClass("allow").removeClass("active");T.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!v)return 0<Wd.length?Wd.find(".close").trigger("click"):h.find(".moreInfo").trigger("click"),Gx;if(d&&ob){var q=$(ia).parents("li"),p=q.data("result"),r=(new Ar).ke(p.F()).Sd(p.V()).Qf(!0);yr(ya,r,function(){var a=q.parents(".photoGallery").first();
q.remove();qn(a)});0<$(".infoPanel").length&&Fx.call($(".infoPanel").find(".close").get(0));B.addClass("trashing");var r=Hx(B),w=Hx($("#trashcan")),y=Ri({Fc:w[0]-r[0],Gc:w[1]-r[1],Te:.1,Hf:.1});window.setTimeout(function(){B.find(".cloneInner").css("transform",y);B.find(".cloneInner").css("opacity",0);window.setTimeout(function(){B.remove()},300)},10)}if(!0!==Ix){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");Q();r=void 0!==a.clientX?a.clientX:a.changedTouches[0].clientX;
a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;w=4<Math.abs(a-N);w=4<Math.abs(r-K)||w;$("#hotspots").remove();h.delay(2E3,function(){$(this).removeClass("pickedUp")});if(null==B&&!w)return $("#search").blur(),q=h.parents("li"),yx(q),d||ob||(p=q.data("result"),pv(Oa,Bv(p))),!1;null==B||null==C||d&&ob||((r<J.left||r>J.left+E.outerWidth()||a<J.top||a>J.top+E.outerHeight())&&B&&!B.hasClass("disappeared")&&je(ea,B)?(C.setPosition(W.O(),W.K()),C.da(W.A()),C.ca(W.C()),(a=L(t))&&C.appendTo(a),
C.sg()&&(p=n.parents("li").data("result"),"CANVA"!==p.Kd()&&Nd(Aa,p,C)),Ld(C),Md(C),g(),d||pv(Oa,Bv(p)),B.remove()):null==B||B.hasClass("disappeared")?null!=B&&B.hasClass("disappeared")&&(g(),Jx(B.data("placedInElement"))):(k=h.offset(),B.addClass("returning"),B.one("transitionend",e).css("left",k.left).css("top",k.top).css("transform","scale("+l/x+", "+m/A+")")))}}var d=!1;if(3==a.which||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;
var e=$("#trashcan");e.removeClass("active");0<$(a.target).parents("#normalUploads").length&&(e.addClass("allow"),d=!0);var g=ae(t.za().sb()),h=$(this);h.addClass("pickedUp");var k=h.offset(),l=h.width(),m=h.height(),n=$("img",h).first(),q=sx(n),r=q.width,p=q.height,v=q.mediaApproved,w=Math.min(r,.95*g.A()),y=w/r*p;y>.95*g.C()&&(y=.95*g.C(),w=y/p*r);var x=w*O,A=y*O,B=null,C=null,E=$("#objectPanel"),J=E.offset(),ea=Kx(),sa=ea.offset(),K=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ca=(K-k.left)/l,Na=(N-k.top)/m,wb=Math.abs(K-(J.left+E.outerWidth())),T=new V($(document));T.on("mousemove|touchmove",b).on("mouseup|touchend",c);var W=null,Da=le(),pb={},ab=e.get(0).getBoundingClientRect().left+e.width()/2,dd=e.get(0).getBoundingClientRect().top+e.height()/2,ob=!1,Wd=h.parents(".gallery").next(".infoPanel").filter(function(){var a=$(this).data("item").find("img");return a.data("mediaId")===n.data("mediaId")&&a.data("mediaVersion")===
n.data("mediaVersion")}),ia=this;return Gx}
function Sw(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",p).css("left",r).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(nx(K)){var d=Rh(E,J,c,a);if(300<d||60>d)ea=!0,b();else return!0}else 4<c-E&&(ea=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-E,2)+Math.pow(a-J,2))/sa),a=c<=E?0:a,c=
2+(m-2)*a,d=w+(C-w)*a,h.css("width",v+(B-v)*a).css("height",d),d=p+(A-p)*a,h.css("left",r+(x-r)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){q.ha().forEach(function(a){if(a instanceof To){for(var b=a.Ge(),c,d=!0,e=0>=a.K()&&0>=a.O()&&0===a.Ma()&&a.A()>=q.A()&&a.C()>=q.C(),g=0;g!==b;g++)if(c=a.mg(g).mediaId){d=!1;break}d&&e&&a.remove()}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},20)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;ea?a>=x?(n.xb(y),c(),n.appendTo(q),Md(n),Ld(n),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(r)&&parseInt(h.css("top"),10)==Math.floor(p)?h.trigger("transitionend"):h.css("left",r).css("top",p).css("width",v).css("height",w)):(n.xb(y),c(),q.addElement(n,!0),Ld(n));K.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(3==a.which||a.ctrlKey)return!0;$("#search").blur();Q();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],sh[k].items),m=(sh[k].spacing||10)*O,n=new To({items:l}),q=L(t),k=$(q.D()).offset(),
r=g.left,p=g.top,v=e.width(),w=e.height(),y=hr(q.A(),q.C(),n.spacing,0<Bj(q).length),g=y.clone().scale(O).translate(k.left,k.top).round(),x=g.O(),A=g.K(),B=g.A(),C=g.C(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,J=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ea=!1,sa=x-E,K=new V($(document));K.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function Lx(){$("#fileUpload").removeData("upload-destination");$("#fileUpload").removeData("upload-placeholder-index");$("#fileUpload").trigger("click")}function Vv(){return"marketplace"==$("#fileUpload").data("marketplace")}
function Tw(a){function b(){}function c(){(new Wv({source:g,R:tb(Ea),il:b})).upload(e,void 0,Vv())}function d(a){var b=h.qf(k),c=new FileReader;c.onload=function(){var d=new Image;d.onload=function(){var c=new M(0,0,d.width,d.height);oh(c,b).translate(-b.O(),-b.K());c={type:"image",index:k,mediaId:a.F(),mediaVersion:a.ia().V(),imageBox:c.serialize(),mediaApproved:!0};a.ia().ub()!==Cr&&(c.staging=!0);h.Kf(k,c)};d.src=c.result};c.readAsDataURL(l);$("#fileUpload").removeData("upload-destination");$("#fileUpload").removeData("upload-placeholder-index");
$("#fileUpload").removeData("marketplace")}var e=a.target.files||a.dataTransfer.files||a.originalEvent.dataTransfer.files,g=jQuery.isWindow(a.target)?"drop":"button",h=$("#fileUpload").data("upload-destination"),k=$("#fileUpload").data("upload-placeholder-index")||0;if(50<e.length)return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),window.setTimeout(function(){alert("Unfortunately Canva doesn't work too well when you upload more than 50 files at a time, so try uploading them 50 at a time. Thanks!")},
100),!1;var l=e[0];h&&(g="placeholder_button",b=d);ax().get(0)==$("#resultsUpload").get(0)?c():Mx(c)}function Mx(a){var b=$("#objectPanel");b.addClass("slow");window.setTimeout(function(){b.children("menu").find(".uploads a").click().delay(600,function(){b.removeClass("slow");a()})},20)}
function Cx(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=Array.max(c.Y.map(function(a){return a.ec}));else return b;b=Array.max(c.Y.map(function(a){return a.height}));c=Array.max(c.Y.map(function(a){return 0==a.height?0:a.height+a.ec}));return b=b!=c?c-b:vx(a)}function vx(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function rn(a,b){if(0!=a.parents(".results.infinite").length){var c=a.hasClass("inlineFolderGroup"),d=a.parents(".results").first(),e=c?a.find("p button")?a.find("p").height():0:Bx(a),g=0;$(".gallery li",a).each(function(a,b){var c=$(b);g=Math.max(g,c.data("originalTop")+c.height())});g+=e;a.data("contentHeight",g);e=Cx(a);b||c?a.height(g+e):a.height(Math.max(g+e,d.height()))}}
function Uw(a){var b=$(this).parent(".results");clearTimeout(b.data("scrollTimer"));var c=setTimeout(function(){Nx(b,a)},100);b.data("scrollTimer",c)}
function Ex(a,b){var c=[],d=a.data("columnData");if(void 0===d)return c;for(var d=d.Y,e=0;e<d.length;e++){for(var g=d[e].items,h=0,k=!1,l=0;l<g.length;l++){var m=g[l],n=m.data("originalTop")||0,n=(m.data("modifiedTop")||n)-n;0==n||k||(h+=n,k=!0);h+=m.height();if(h>b)break}c=c.concat(g.slice(l))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function jx(a,b){var c;c=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;d=Math.floor(Math.abs(a.children(".layer").width())/c)||1;return Math.max(18,d*Math.max(Math.ceil(b/c),3))}
function Nx(a,b){if(null!=Z&&!a.is(".modifying")){var c=a.children(".layer").last(),d=c.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",d).length||he().read(function(e){var g=d.outerHeight()+d.offset().top-(a.offset().top+a.outerHeight());Ox()&&g<=.33*a.outerHeight()&&e.write(function(){var d=c.find("\x3e .inner \x3e .searchGroup .gallery li").length;500<d&&Px(c,d-500);d=a.find(".searchLoaderHolder");cx(d);d.addClass("on");Z.from+=
Z.Bc;Z.Wx();Ma=!0;Qx(b)})})}}
function Px(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=b,h=a.find("\x3e .inner \x3e .searchGroup").toArray(),k=0;k<h.length&&!(0>=g);k++){var l=$(h[k]),m=$(".gallery li",l);if(m.length<g)d=d.add(l),g-=m.length;else for(var l=g,n=0;n<l;n++)e=e.add(m[n]),g--}g=e.parents(".searchGroup").add(d);h=$(".infoPanel",g);0<h.length&&(g.addClass("doNotTransition"),h.addClass("doNotTransition"),$(".close",h).click(),h.data("infoPanelPointer").remove(),h.remove(),g.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");var g=a.scrollTop(),h=e.parents(".searchGroup"),q=0;0<h.length&&(k=h.outerHeight(!0),m=$(".gallery",h),m.removeData("columnData"),e.remove(),qn(m),q+=k-h.outerHeight(!0));d.each(function(){q+=$(this).outerHeight(!0)});d.remove();h=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<h.length&&h.addClass("doNotTransition").css("top",parseInt(h.css("top"),10)-q).removeClass("doNotTransition");a.scrollTop(Math.max(0,g-q));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function Bx(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function Rx(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return xx(a)+a.outerHeight(!0)}function xx(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function Sx(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.Y.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.ec=0))})})}}function wx(a){var b=a.children(".layer").last().scrollTop();a=a.height();return b+a}
function ax(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function Tx(a,b){$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");$("body").removeClass("blockDocument");return!1}function Ww(){return Tx.call(this,0,"#someoneElseEditing")}function Xw(){return Tx.call(this,0,"#inReview")}function Yw(){return Tx.call(this,0,"#touchDevice")}function Ux(){$("#inReview").addClass("on");Vx()}
function Wx(){$("#outOfSync").addClass("on");$("#outOfSync button").on("click",function(){window.location.reload();return!1})}function Xx(){$("#savingError").addClass("on");$("#savingError button").on("click",function(){window.location.reload();return!1})}function Yx(){$("#savingError").hasClass("on")&&$("#savingError").one("animationend",function(){$(this).removeClass("on off")}).addClass("off")};function Zx(){this.qc=[];this.nj=[];this.og=[];this.Ms=this.Rt=!1}f=Zx.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Zx.prototype,Backbone.Events);
Zx.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.Rt||this.Ms)return!1;var b=a instanceof $x;0<this.og.length?this.og[this.og.length-1].push(a):(this.qc.push(a),this.nj=[],!b&&t.trigger("change"));return!0};function Qu(){var a=D,b=new $x;a.register(b);a.og.push(b)}
function Ru(){var a=D;if(0==a.og.length)throw Error("mismatched number of .endGrouping calls");var b=a.og.pop();0==b.kg()&&a.qc.splice(a.qc.indexOf(b),1);0==a.og.length&&t.trigger("change")}function dv(){var a=D;if(0!=a.qc.length){a.trigger("beforeOperationStackPop");a.Rt=!0;if(0<a.og.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.qc.pop(),c=b.invert();c.Bf();a.nj.push(b);Q();ev(ay(c));a.Rt=!1;t.trigger("change")}}
function cv(){var a=D;if(0!=a.nj.length){a.trigger("beforeOperationStackPop");a.Ms=!0;var b=a.nj.pop();b.Bf();a.qc.push(b);Q();ev(ay(b));a.Ms=!1;t.trigger("change")}}
function mw(a,b){var c=D;function d(a){var b=[];a instanceof U?b.push(a):a instanceof $x&&a.qc.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.qc.map(d).concat(c.nj.map(d));[].concat.apply([],c).forEach(function(c){switch(c.La){case by:e(c.data["new"],a,b);e(c.data.old,a,b);break;case cy:case dy:e(c.data,a,b)}})}
function ay(a){var b=[];if(a instanceof $x)a=a.qc,a.forEach(function(a){a=ay(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof U&&a[1]instanceof U&&a[0].La==cy&&a[1].La==by&&(b=ay(a[0]));else if(a.La!=dy&&(a instanceof U||a instanceof ey)){var c=a.data.elementIndex;t.S[a.data.pageIndex].ha().forEach(function(a){a.W()==c&&b.push(a)})}return b}function fy(){this.La=null;this.data={}}
fy.prototype.Bf=function(){throw Error("classes that inherit from Canva.Operation must implement .perform");};fy.prototype.invert=function(){throw Error("classes that inherit from Canva.Operation must implement .invert");};function gy(a){return $.extend(!0,{},a)}function $x(){this.qc=[]}$x.prototype=new fy;$x.prototype.Bf=function(){this.qc.forEach(function(a){a.Bf()})};
$x.prototype.invert=function(){var a=new $x;this.qc.reverse();this.qc.forEach(function(b){a.push(b.invert())});this.qc.reverse();return a};$x.prototype.push=function(a){this.qc.push(a)};$x.prototype.kg=function(){return this.qc.length};var Wi=1,dy=2,cy=3,by=5,tx=7,rx=8,px=9;function U(a,b){this.La=a;this.data=b}U.prototype=new fy;
U.prototype.Bf=function(){$("#overlays .element.text").each(function(){Bo($(this))});var a=t.S[this.data.pageIndex],b=a.ha().length,c;c=this.La==cy?Jd($.extend(!0,{},this.data)):a.elements[this.data.elementIndex]||null;if(!c)throw Error("error performing operation on non-existent element");var d,e;switch(this.La){case Wi:a=this.data["new"];null!=a.left&&c.Ga(a.left);null!=a.top&&c.Ha(a.top);null!=a.rotation&&Si(c,a.rotation);null!=a.flipOrientation&&c.Ih(a.flipOrientation);null!=a.transparency&&c.Kl(a.transparency);
null!=a.borderWidth&&dr(c,a.borderWidth);null!=a.spacing&&lr(c,a.spacing);null!=a.padding&&er(c,a.padding);c.setSize(null==a.width?c.A():a.width,null==a.height?c.C():a.height);null!=a.transformDependentData&&c.hy(a.transformDependentData);break;case 11:a=this.data["new"];c=c.ig(this.data.placeholderIndex);a.filter?Ft(Up(c),a.filter)||Ot(c,a.filter):Pt(c);break;case 10:a=this.data["new"];null!=a.link&&Xo(c,a.link);break;case dy:c.remove();break;case 4:b=this.data.oldElementIndex;c=a.elements[b]||null;
if(!c)throw Error("unable to perform layer change - element index out of bounds.");d=this.data.elementIndex;b<d&&d++;b=a.ha().length;d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;d==b?c.appendTo(a):e&&c.insertBefore(e);break;case cy:d=this.data.elementIndex;c=$.extend(!0,{},this.data);c=Jd(c);d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;d==b?c.appendTo(a):e&&c.insertBefore(e);break;case by:c.Kf(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Dk(this.data.placeholderIndex);c.Hh(a);
a=this.data["new"];d=fh(a.imageBox);b=fh(a.placeholderBox);c instanceof Qo?a.cropped?(Ff(c,b),c.Ue(d),c.Wg(),c.Ga(a.left),c.Ha(a.top)):(c.Ga(a.left),c.Ha(a.top),c.da(d.A()),c.ca(d.C()),Ff(c,b),c.Ue(d),c.No=!1,c.re=!1,c.D().find("img").css("transform","").css("width","").css("height","")):(c.Ue(d),c.Wg());break;case tx:(c=a.elements[this.data.oldElementIndex]||null)&&Cj(c);break;case rx:Vp(c);jp(a,c,this.data.oldElementIndex);break;case px:d=this.data["new"];a=d.index;d.placementData?c.Kf(a,d.placementData):
(d=R(d.color),c.de(a,d));break;case 12:c.ra[this.data.placeholderIndex].Ih(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;e=this.data.elements;c=$.extend(!0,{},this.data);c.elements=[];d=this.data.elementIndex;c=new Vo(c);jp(a,c,d);if(2===b.length){d=b[0];for(var g=0;d<=b[1];d++,g++){var h=a.elements[d]||null;h&&(h.setPosition(e[g].left,e[g].top),h.setSize(e[g].width,e[g].height),h.Kl(e[g].transparency),Si(h,e[g].rotation),c.addElement(h),c.D().find(".elements").append(h.D()))}}break;
case 14:hy(c);break;default:throw Error("cannot perform unknown operation type "+this.La.toString());}};
U.prototype.invert=function(){var a=gy(this.data),b=void 0;switch(this.La){case Wi:case 11:case 6:case by:case px:case 10:case 12:return a["new"]=this.data.old,a.old=this.data["new"],new U(this.La,a);case cy:case dy:return new U(this.La==cy?dy:cy,a);case 4:return b=a.elementIndex,a.elementIndex=a.oldElementIndex,a.oldElementIndex=b,new U(this.La,a);case tx:return new U(rx,a);case rx:return b=a.elementIndex,a.elementIndex=a.oldElementIndex,a.oldElementIndex=b,new U(tx,a);case 13:return new U(14,a);
case 14:return new U(13,a);default:throw Error("cannot invert unknown operation type "+this.La.toString());}};function iy(a,b){this.La=a;this.data=b}iy.prototype=new fy;
iy.prototype.Bf=function(){$("#overlays .element.text").each(function(){Bo($(this))});var a=null;1==this.La?(a=$.extend(!0,{},this.data),a=new sj(t,a)):a=t.S[this.data.pageIndex];switch(this.La){case 5:a=t.S[this.data.oldPageIndex];case 1:Dj(t,a,this.data.pageIndex);break;case 2:Fj(t,a);break;case 4:jy(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.La.toString());}};
iy.prototype.invert=function(){var a=gy(this.data);switch(this.La){case 1:case 2:return new iy(1==this.La?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new iy(this.La,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new iy(this.La,a);default:throw Error("cannot invert unknown operation type "+this.La.toString());}};function ey(a,b){this.La=a;this.data=b}ey.prototype=new fy;
ey.prototype.Bf=function(){var a=t.S[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!a)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.La){case 1:var b=this.data["new"];a.Kh(this.data.textIndex,b);void 0!==b.height&&a instanceof Mj&&a.ca(b.height);break;default:throw Error("cannot perform unknown operation type "+this.La.toString());}};
ey.prototype.invert=function(){var a=gy(this.data);switch(this.La){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new ey(this.La,a);default:throw Error("cannot invert unknown operation type "+this.La.toString());}};function ky(a,b){this.La=a;this.data=b}ky.prototype=new fy;
ky.prototype.Bf=function(){var a=this.data["new"];switch(this.La){case 1:var b=this.data.style,c=t,d=c.Ee(b);_.isEqual(a,d)||(c.Wl[b]=$.extend(!0,{},a),c.trigger("change:defaultFont",c,b,a),c.trigger("change",c),Lj(c,b));break;case 2:t.resize(cj(a.docType));break;case 3:t.Qt(a.model,cj(a.docType));break;default:throw Error("cannot perform unknown document operation type "+this.La.toString());}};
ky.prototype.invert=function(){var a=gy(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.La){case 1:return new ky(1,a);case 2:return new ky(3,a);case 3:return new ky(2,a);default:throw Error("cannot invert unknown operation type "+this.La.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180,g=Math.cos(e),e=Math.sin(e);return[g*a[0]-e*a[1],e*a[0]+g*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},JC:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.Tz=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.Vn=[c.start.x,c.start.y];this.Wn=[c.end.x,c.end.y];var d=b.JC(this.Wn,this.Vn),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.lx=b.add(this.Vn,e);d=b.rotate(d,c.end.angle);this.mx=b.add(this.Wn,d);this.IB=function(a){return a*a*a};this.JB=function(a){return 3*a*a*(1-a)};this.KB=function(a){return 3*a*(1-a)*(1-a)};this.LB=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.IB(a),c=this.JB(a),d=this.KB(a);a=this.LB(a);var e={};e.x=this.x=this.Vn[0]*b+this.lx[0]*c+this.mx[0]*d+this.Wn[0]*a+.5|0;e.y=this.y=this.Vn[1]*b+this.lx[1]*c+this.mx[1]*
d+this.Wn[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.HF&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.VI-d.y,d.HF-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function fj(a,b,c){this.rd=a;this.vs=0;this.Ht=23;a=this.B=c;a.Ab||(a.Ab=new Kc(a.Da));this.Ab=a.Ab;this.ag=b}function ly(a){a.preventDefault();a.stopPropagation();return!1}var my=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");var d=_.extend({},new qv,{Ka:function(){return""},
id:c,F:function(){return c},files:{ep:{width:a[0],height:a[1],url:a[2]},fp:{width:a[0],height:a[1],url:a[2]}}});my.push(d)});function ny(){return{SCREEN:{aa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{aa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function oy(a,b,c){c(200,{ia:function(){return{V:function(){return 0},Lb:function(){return ny()}}}});return new ff}f=fj.prototype;f.go=function(){py(this)};
function qy(a,b,c){function d(){g+=e.shift();a(g);0<e.length?window.setTimeout(d,250+Math.floor(100*Math.random())):window.setTimeout(c,250);return!1}var e=b.split(""),g="";a("");d()}
function ry(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.Iw=function(){var a=this;ry();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function sy(a){a.Nu=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){a.Sb.addClass("disappearing").delay(500,function(){$(this).remove();a.Nu||(ty(a),uy())});$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("off").delay(500,function(){$(this).removeClass("on off white fullscreenMessageMask")});$("body \x3e .mask").off("click");
$("video.for-onboarding").remove()})}
f.jy=function(){sy(this);var a=Lc(this.Ab);kj()&&!this.uC&&vy()&&(a=this.Ab.format("twentyThreeSecondOnboardingChooseText"));this.Sb=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.Ht+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.Ab.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+a+
'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+Mc(this.Ab)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+Nc(this.Ab)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.Ab.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.Sb.appendTo("body");this.next()};
f.Wy=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){if(I){var c=I;c.Gj("onboarding",{status:"viewed",variant:kj()?"layouts":"regular",experiment:"none",experimentVariant:"none"});c.dh&&c.dh(6016629780938)}a.Nu=!0;var d=$(".onboarding-drag .icon"),c=d.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),d=d.find("img").offset();c.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(d);
g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");c=a.Ht-1;$("#onboarding-23second-dialog .onboarding-time").text(c.toString());b.fadeOut(2E3);a.next()})};f.Nx=function(){$("body").append(this.Ap);this.Ap.on("click",ly);var a=this.Ht-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};
f.nv=function(){var a=t.S.length;Q();1===a&&t.S[0].isEmpty()?(this.iy=!1,this.page=t.S[0]):(this.iy=!0,a=new sj(t,t.Le()),Dj(t,a,0),this.page=a);this.next()};
f.Pw=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();e.css({width:e.width(),height:"46px"});e.text("");e.delay(330).animate({width:yy(Lc(b.Ab)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.delay(330).animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})};
f.xw=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.GG=function(){$("#onboarding-active-button").text(Lc(this.Ab));this.next()};f.DG=function(){zy(Mc(this.Ab));this.next()};
f.EG=function(){this.Ml||zy(this.Ab.format("twentyThreeSecondOnboardingEditText"));this.next()};f.FG=function(){$("#onboarding-active-button").text("Choose");this.next()};function Ay(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function By(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function Cy(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function Dy(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function zy(a,b){var c=$("#onboarding-active-button"),d=_.extend({width:yy(a)},b);c.text(a);c.animate(d,{duration:500,queue:!1})}
function yy(a){return $("#onboarding-active-button-width").text(a).width()}
function Ey(a,b,c){var d=2/3,e=c.np||{x:0,y:0},g=c.Bb||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.kv&&"BR"===c.kv&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=Dy(k,l);l=new $.path.Tz({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.Bb===a.NEXT&&(g=function(){a.next(300)});
c.kr&&window.setTimeout(function(){c.kr()},d*b);h.animate({path:l},b,g)}f.RC=function(){Ey(this,"#search",{Bb:this.NEXT})};f.BA=function(){Cy();$("#search").focus();this.next(700)};
f.tG=function(){function a(){if(Ma){Ma=!1;var a=$("#resultsSearch"),a=$("\x3e .layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;my.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.ep.url+'"data-screen-width\x3d"'+a.files.ep.width+'"data-screen-height\x3d"'+a.files.ep.height+'"src\x3d"'+a.files.fp.url+'"width\x3d"'+a.files.fp.width+'"height\x3d"'+a.files.fp.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');
d.appendTo(c);$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");qn(c)}}var b=this,c=$("#search");qy(function(a){c.val(a)},this.Ab.format("twentyThreeSecondOnboardingSearchTerm"),function(){lx($("#resultsSearch \x3e .layer \x3e .inner \x3e .searchGroup"));Qw(b.B,!0,void 0,a)})};f.QC=function(){zy(Mc(this.Ab));Ey(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{Bb:this.NEXT})};f.Qb=function(){this.next(700)};
f.mB=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=Dy(b.offset(),c),e=Math.floor(.8*L(t).C())*O,g=Math.floor(.8025*e);Ay();a.bh=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.bh.removeAttr("width");a.bh.removeAttr("height");a.bh.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.bh);a.bh.animate({height:e+"px",width:g+"px",left:(-180*
O-42)/2+"px",top:(-180*O-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.pB=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=Jd(sx(b)),c=Math.floor(.8*L(t).C());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(L(t));Ld(b);By();a.bh.fadeOut(200,function(){a.bh.remove()});a.next(300)};f.yG=function(){var a;a=L(t).ha().filter(function(a){return a instanceof Qo})[0];Md(a);this.next(200)};
f.aG=function(){function a(){By();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=L(t),e=800/642,g=$(".handle.br"),h=d.wa()[0],k=d.D().offset(),d=.78*d.A(),l={left:Math.floor(k.left+d*O*.78),top:Math.floor(k.top+d*e*O*.78)},m=h.A();h.C();Ey(this,".selectionBox .handle.br",{np:{x:-20,y:-12},Bb:function(){var b=c.offset();Xi();Ay();g.addClass("on");c.delay(300).animate(l,{duration:1E3,queue:!1,complete:a,progress:function(){var a=(c.offset().left-b.left)/O+m,d=a*
e;$(".selectionBox").css({height:d*O+"px",width:a*O+"px"});h.setSize(a,d)}})}})};f.TC=function(){var a=this;zy(this.Ab.format("twentyThreeSecondOnboardingAddText"));Ey(this,"#objectPanel \x3e menu li.text a",{Bb:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.EA=function(){Cy();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};f.OC=function(){var a=this;Ey(this,"#objectPanel .textControls [data-style\x3dtitle]",{np:{x:0,y:16},Bb:function(){a.next(300)}})};
f.jA=function(){function a(){var a=h.eb();h.We(a,"Carter One")}function b(){H.off("elementLoaded:text",b);c()}function c(){Q();Cy();a();h.appendTo(e);Ld(h);Md(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=L(t),g={width:e.A()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:120,color:"#222",left:e.A()-400,top:Math.floor(.5*e.C()-112.5)};H.on("elementLoaded:text",b);var h=new Mj(g)};
f.IH=function(){var a=this,b=L(t).wa()[0];b.D().trigger("click");qy(function(a){Io(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},this.Ab.format("twentyThreeSecondOnboardingYumText"),function(){Io(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};f.Tw=function(){var a=Nc(this.Ab),b={left:-yy(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});zy(a,b);Ey(this,".editorActionExport",{Bb:this.NEXT,kr:function(){$(".editorActionExport").addClass("fakeHoverState")}})};
f.Ku=function(){Cy();$(".editorActionExport").trigger("click");this.next(700)};f.Sw=function(){var a=this;zy(Nc(this.Ab),{left:"22px",padding:"0 20px 0 31px"});Ey(this,".exportDialog .downloadPng",{Bb:function(){a.next(600)},kr:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportDialog .downloadPng").addClass("fakeHoverState")}})};
f.Ju=function(){Cy();var a=this;$(".exportDialog .downloadPng").addClass("fakeActiveState");window.setTimeout(function(){$(".exportDialog").parent().prev(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.my=function(){var a=Kx().clone();a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("#exportDialog").remove();this.Sb=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Sb.css({width:a.width()-4+"px",height:a.height()-4+"px"});this.Sb.append(a);this.Sb.appendTo("body");this.next()};
f.wv=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.ly=function(){var a=this,b=$(window).height()-a.Sb.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.Ab.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.Ab.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.Sb.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,ze:"easeOutQuint",queue:!1});a.Sb.animate({"margin-top":b+"px"},{duration:1800,ze:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function Fy(){Z=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},20)}f.Mx=function(){function a(){b.next()}var b=this;Q();!0===this.iy?(Fj(t,this.page),a()):Gy(this.page,a)};f.Ts=function(){Fy();this.next()};
f.Hu=function(){this.Ap.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");Q();this.next()};
f.Cx=function(){this.Sz=Pa;this.GB=xa.zc;this.EB=xa.vm;this.DB=xa.gi;this.Uz=wa.bn;this.Ap=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.Vi=u.Vi;xa.vm=function(){return new ff};xa.zc=function(){return new ff};xa.gi=function(){return new ql($.noop)};wa.bn=function(){return new ff};Pa=function(){};u.close();u.Vi=function(){};t.off("change");this.next()};f.iC=function(){this.fz=ya.Qa;ya.Qa=oy;$d(ta,"M-YUM-LION",0,ny());this.next()};f.eG=function(){ya.Qa=this.fz;this.next()};
function ty(a){Pa=a.Sz;xa.zc=a.GB;xa.vm=a.EB;xa.gi=a.DB;wa.bn=a.Uz;u.Vi=a.Vi;Hy(window.csession,window.cdoc);t.on("change",Iy)}f.Tx=function(){ty(this);this.next()};f.zx=function(){uy();this.next()};function uy(){$("#resultsLayout").data("view").Sx()}f.Ww=function(){H.trigger("onboarding:complete")};
function Jy(a){a.hx=[a.Iw,a.Cx,a.jy,a.Wy,a.Ts,a.nv,a.Nx,a.Pw,a.xw,a.GG,a.Qb,a.RC,a.iC,a.BA,a.tG,a.Qb,a.QC,a.mB,a.pB,a.yG,a.aG,a.Qb,a.TC,a.EA,a.Qb,a.OC,a.jA,a.Qb,a.IH,a.Qb,a.Tw,a.Ku,a.Qb,a.Sw,a.Ju,a.Qb,a.my,a.wv,a.Qb,a.ly,a.Qb,a.Mx,a.Hu,a.eG,a.Ts,a.Tx,a.MG,a.zx,a.Ww]}
f.dA=function(){var a=$(".templateGallery li:not(.grid)").length,b=0,b=10>a?Math.floor(Math.random()*a):Math.floor(10*Math.random()),a=$($(".templateGallery li:not(.grid)").get(b)),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());a.addClass(b);this.yn="."+b;this.next()};f.Oz=function(){var a=new pj({},cl(0,0),this.B),a=new sj(a,{}),b=$(this.yn).data("layoutItem");b&&jy(a,uh(b.content));this.next()};
f.PC=function(){this.gs=$(this.yn+" img");this.Vm=$(this.yn+" img").clone();Ey(this,this.yn,{Bb:this.NEXT})};
f.lB=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=Dy(b.offset(),c),e=d/4;Ay();window.setTimeout(function(){a.Vm.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.gs.parent().addClass("pickedUp");a.Vm.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.Vm);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.gs.parent().removeClass("pickedUp");a.next(300)}})};f.oB=function(){function a(){H.off("pageLayoutLoaded",a);b.next()}var b=this;By();this.Vm.remove();H.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");this.gs.click()};function Ky(){return"substantial-text-element"}
f.CA=function(){if(!this.Ml){var a=$("."+Ky()),b=$("."+Ky());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");Cy();Md(b);a.hasClass("element")||(Ly(a,Ab(this.B)),Xu(a,!0),b.va())}this.next()};
f.XG=function(){var a,b;if(!this.Ml){var c=$("."+Ky());a=c.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);if(2>d.length)a="",b=d[0]||"";else{b=d[d.length-1];3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2])));a=a.slice(0,a.lastIndexOf(b));d=c.children(".inner").html();for(var e=/<br/gi,g,h=[];null!=(g=e.exec(d));)h.push(g.index);0<h.length&&(a=c.children(".inner").html(),b="!")}this.Gw=b;this.Dv=a;c.children(".inner").html(this.Dv);$(".page.selected").removeClass("invisible-text")}this.next()};
f.HH=function(){function a(a){qy(function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.Dv+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.Gw,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.Ml)this.next();else{var b=this,c=$("."+Ky());c.trigger("click");a(function(){Q();b.next()})}};
f.zF=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.Ml=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.nc()>b&&0<c.D().text().split("").length&&(b=c.nc(),a=$(this))});a.addClass(Ky())}this.next()};
f.SC=function(){if(this.Ml)this.next();else{var a=parseFloat($("."+Ky()).css("font-size").replace("px",""))*O,b=Math.floor(a/2),a=Math.floor(a*this.Gw.split("").length/2);Ey(this,"."+Ky(),{kv:"BR",np:{x:-a,y:-b},Bb:this.NEXT})}};f.QG=function(){$("#objectPanel li.layout a").click();this.next()};f.MG=function(){$("#objectPanel li.elements a").click();this.next()};function kj(){return/layouts/gi.test(window.location.href)}function vy(){return 2<=$(".templateGallery li:not(.grid)").length}
function My(a,b,c){var d=c||1;10<d&&(a.uC=!0,b(!1));kj()?1<=$(".templateGallery li").length?b(vy()):window.setTimeout(function(){My(a,b,d+1)},200*d):b(!1)}f.next=function(a){function b(){d.call(c)}var c=this,d=this.hx[this.vs];d&&d.call?(this.vs++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function py(a){a.vs=0;kj()?My(a,function(b){b?a.hx=[a.Iw,a.Cx,a.jy,a.dA,a.Oz,a.Wy,a.nv,a.Nx,a.Pw,a.xw,a.FG,a.Qb,a.PC,a.DG,a.Qb,a.lB,a.oB,a.Qb,a.zF,a.XG,a.SC,a.Qb,a.EG,a.CA,a.Qb,a.HH,a.Qb,a.Tw,a.Ku,a.Qb,a.Sw,a.Ju,a.Qb,a.my,a.wv,a.Qb,a.ly,a.Qb,a.Mx,a.Hu,a.Ts,a.Tx,a.QG,a.zx,a.Ww]:Jy(a);a.next()}):(Jy(a),a.next())};function ej(a,b,c){this.document=a;this.Da=b;this.yv="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.Cc=c}ej.prototype.listenTo=Backbone.Events.listenTo;
function Ny(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function Oy(a){var b=a.Da.ae();switch(b){case "FREE_NEW_USER":return b=Py(t.Ka()),a={fbUrl:a.yv,twitterText:a.Cc.format("magicButtonFreeNewTwitterText",b),congratulations:a.Cc.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.Cc.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.Cc.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=Py(t.Ka()),a={fbUrl:a.yv,twitterText:a.Cc.format("magicButtonTutorialTwitterText",b),congratulations:a.Cc.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.Cc.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.Cc.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.Cc.format("magicButtonInvitedUserCongratulations"),gettingTheHang:a.Cc.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.Cc.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- gettingTheHang %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}function Qy(a){function b(){P.all([tn(1E3),Bi(c)]).finally(function(){window.location="/"})}var c=new Ai;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");Oy(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function Ry(a){return 0<a.document.ha().filter(function(a){return"magic-button"==a.D().attr("id")}).length}
ej.prototype.xu=function(){function a(a){a.stopPropagation();a.preventDefault();Qy(b);return!1}var b=this,c=b.document;b.xu=function(){};if(!Ry(b)){b.page=new sj(c,c.Le());b.page.Kw();Dj(c,this.page,c.pf(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.Da.ae()&&$("#canvaDocument").addClass("pageControlsDisabled");b.page.D().css("background-color","#20c4cb");var c={html:Sy(this),width:460,justification:"center"},c=new Mj(c),d=c.D();d.attr("id","magic-button");d.on("mousedown",a);d.on("touchstart",
a);b.page.addElement(c,!1,!1);var d=(b.page.A()-c.A())/2,e=(b.page.C()-c.C())/2;c.setPosition(d,e)}};function Sy(a){a={tutorialComplete:a.Cc.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}ej.prototype.go=function(){Ny();this.xu()};function sj(a,b){this.Ta=a;this.pq=null;this.elements=[];this.height=0;this.ba=b.layout&&new th(b.layout);this.left=0;this.Bh=this.Ff=this.Bs=null;this.selected=!1;this.top=0;this.Qd=!1;this.width=0;this.ed(b,!0);Tp(this)}_.extend(sj.prototype,Backbone.Events);f=sj.prototype;f.trigger=Backbone.Events.trigger;f.Kw=function(){this.Qd=!0};function Ty(a,b){a.Bs=b;a.trigger("change:preview")}function Uy(a){a.Bs=null;a.trigger("change:preview")}
function jy(a,b,c,d){function e(a){a.forEach(function(a){$d(ta,a.F(),a.V(),a.Vq())})}function g(){-1!==h.W()&&h.ba===b&&(Uy(h),h.ed(b.Le(),!1),Tp(h))}var h=a,k=jw(Aa,xh(b));a.clear();a.ba=b;a.ba.da(a.A());a.ba.ca(a.C());0===k.length?(a.ed(b.Le(),!1),Tp(a)):(c&&Ty(a,c),d&&d.zb()===Go?ak(d.F()).then(e).catch($.noop).finally(g):Gv(k,g))}
f.ed=function(a,b){var c;b||this.trigger("willchange");void 0!==a.dpi&&(this.pq=a.dpi);void 0!==a.width&&this.da(a.width);void 0!==a.height&&this.ca(a.height);c=function(a){return a.map(Jd).filter(Boolean)}(a.elements||[]);Vy(this,c.length,!!b);c.forEach(function(a){a.appendTo(this)},this);a.resizeContentBox?(this.Ff=fh(a.resizeContentBox),this.Bh=Wy(this,this.Ff)):this.Bh=this.Ff=null;window.setTimeout(function(){Xy(c,a)}.bind(this),0)};
function Yy(a){if(a.Ff&&a.Bh){var b=Wy(a,a.Ff);if(hh(b,a.Bh))return a.Ff;a.Ff=null;a.Bh=null}return null}function Wy(a,b){var c=a.fa(),d=b.clone();a.ha().forEach(function(a){if(!a.Qd&&!a.ib()){var b=a.fa();if(!(a instanceof To&&ph(b,c))){a=Math.min(d.O(),b.O());var h=Math.min(d.K(),b.K()),k=Math.max(d.Va(),b.Va())-a,b=Math.max(d.qa(),b.qa())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}
f.resize=function(a){var b=Zy({um:Yy(this),Dm:a,page:this});this.ed(a.Le(),!0);Tp(this);this.trigger("resize");this.Bh=(this.Ff=b)&&Wy(this,b)};f.Qt=function(a){this.clear();this.ed(a,!0);Tp(this);this.trigger("resize")};
function Xy(a,b){a.forEach(function(c,d){var e,g,h,k;if(c.Uk()){var l=b.elements[d].childRange;if(l&&1<l.length&&l[0]<=l[1]){for(var m=l[0];m<=l[1];m++)if(b.elements[m].groupIndex!==d){c.remove();return}for(m=l[0];m<=l[1];m++){k=dp(c);var n=dp(a[m]);e=Math.max(0,n.tc-k.tc);var q=Bh(Ah([n.left+n.width/2-(k.left+k.width/2),n.top+n.height/2-(k.top+k.height/2)]).rotate(k.rotation));e=e||0;g=Ho(n.rotation,k.rotation)||0;h=q[1]-n.height/2+k.height/2;k=q[0]-n.width/2+k.width/2;c.addElement(a[m]);a[m].Kl(e);
a[m].setPosition(k,h);Si(a[m],g);c.D().find(".elements").append(a[m].D())}}else c.remove()}})}function Vy(a,b,c){function d(){h++;h>=b&&e()}function e(){window.clearTimeout(k);c||g.Ta&&g.Ta.trigger("change");H.off("elementLoaded",d);H.trigger("pageLayoutLoaded",g)}var g=a,h=0;c||a.trigger("change");if(0<b)H.on("elementLoaded",d);else e();var k=window.setTimeout(e,5E3)}f.D=function(){return this.ea};
f.Fe=function(){var a=new Ki;this.elements.forEach(function(b){b.Fe().lf().forEach(function(b){a.cd(b)})});return a};f.clone=function(){return new sj(null,this.serialize())};function $y(a){var b=[];a.elements.forEach(function(a){b.push(a.elementIndex)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}f.serialize=function(a){return a?az(this):bz(this)};
function bz(a){var b=0,c=[];a=az(a);a=$.extend(!0,{},a);a.elements.forEach(function(a){"group"===a.type?b++:(a.elementIndex-=b,delete a.groupIndex,c.push(a))});a.elements=c;return a}
function az(a){var b;b=a.elements.filter(function(a){return!a.Qd}).map(function(a){return a.serialize()});b.forEach(function(a,b){a.elementIndex=b});b.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){a.childRange=$y(a);delete a.elements});b.forEach(function(a){if(!(0>Object.keys(a).indexOf("childRange"))){var c={tc:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},d=a.childRange,k=d[0],l=d[0];2===d.length&&(l=d[1]);for(var m=
k;m<=l;m++)b.forEach(function(b){if(b.elementIndex===m){var d=ss(c,{tc:b.transparency,rotation:b.rotation,top:b.top,left:b.left,width:b.width,height:b.height});b.transparency=d.tc;b.rotation=d.rotation;b.top=d.top;b.left=d.left;b.width=d.width;b.height=d.height;b.groupIndex=a.elementIndex}})}});var c={elements:b,width:a.width,height:a.height};a.pq&&(c.dpi=a.pq);var d=a.ba&&a.ba.serialize();d&&(c.layout=d);(a=Yy(a))&&(c.resizeContentBox=a.serialize());return c}
f.clear=function(){var a;for(Uy(this);this.ha().length;)(a=this.elements[0]||null)&&this.oj(a);this.elements=[];this.Bh=this.Ff=null};f.ha=function(){return this.elements};f.wa=function(){return this.ha().filter(function(a){return a.selected})};function Bj(a){return a.ha().filter(function(a){return a.ib()})}
function cz(a,b){function c(a){return!a.ib()}function d(a){return!(a instanceof Uo)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ha().filter(function(a){return!hp(a)}).filter(c).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return ge(b.fa(),a.fa())})})}
f.oj=function(a,b,c){var d=this.elements.indexOf(a);-1<d&&(this.elements.splice(d,1),a.remove(),c&&0===this.elements.length&&(this.ba=void 0),this.trigger("element:remove",this,a,d,!!b),a.ib()&&this.trigger("change:background",this))};
f.addElement=function(a,b,c){var d=this;this.elements.push(a);a.page=this;Jo(a)&&a.ha().forEach(function(b){d.elements.push(b);b.Nb=a.Nb;b.page=d;d.trigger("element:add",d,b,!1,!1);a.D().find(".elements").append(b.D())});this.trigger("element:add",this,a,b,c);a.ib()&&this.trigger("change:background",this,a)};
function jp(a,b,c){0>c&&(c=a.elements.length);var d=a.elements.indexOf(b);-1==d?(c=Math.min(c,a.elements.length),a.elements.splice(c,0,b),b.page=a,a.trigger("element:add",a,b,!1,!1),b.ib()&&a.trigger("change:background",a,b)):(c=Math.min(c,a.elements.length-1),a.elements.splice(c,0,a.elements.splice(d,1)[0]),a.trigger("element:move",a,b))}f.$a=function(){return this.left};f.et=function(a){this.left=a};f.fb=function(){return this.top};f.Ve=function(a){this.top=a};f.O=function(){return 0};f.Ja=sj.prototype.O;
f.K=function(){return 0};f.ta=sj.prototype.K;f.A=function(){return this.width};f.Wb=sj.prototype.A;f.C=function(){return this.height};f.Ub=sj.prototype.C;f.Va=function(){return this.O()+this.A()};f.tb=sj.prototype.Va;f.qa=function(){return this.K()+this.C()};f.cb=sj.prototype.qa;f.fa=function(){return new M(this.O(),this.K(),this.A(),this.C())};f.yi=function(){return this.O()+this.A()/2};f.Ma=function(){return 0};f.setSize=function(){};f.da=function(a){this.ba&&this.ba.da(a);this.width=a};
f.ca=function(a){this.ba&&this.ba.ca(a);this.height=a};f.Ga=function(){};f.Ha=function(){};f.setPosition=function(){};function Ej(a,b){a.Ta=b;Tp(a)}f.un=function(){var a=Bj(this);if(0<a.length){var a=a[a.length-1],b;if(b=a.gc())a:{if(a.gc()&&(b=R(a.backgroundColor||"#ffffff"))){b=150>Kh(b);break a}b=a.Su}return b}return!1};
f.Cg=function(a){var b;this.Ta&&this.selected!==a&&!this.Qd&&(a||(this.selected=!1),b=L(this.Ta),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.remove=function(){this.elements.forEach(function(a){dz(a)});this.Ta&&Fj(this.Ta,this)};
function Gy(a,b){a.D().find(".element").fadeOut();window.setTimeout(function(){for(;0<a.elements.length;)dz(a.elements[0]),a.elements[0].D().remove(),a.oj(a.elements[0],!1,!1);a.elements=[];b&&b()},400)}f.W=function(){return this.Ta?S(this.Ta,this):-1};f.bi=function(){return uh(this.serialize())};function Tp(a){(function(){a.ha().slice(0).forEach(function(b){b instanceof Uo&&a.oj(b)})})();(function(){var b=a.za();b&&dl(b).forEach(function(b){(b=Jd(b))&&jp(a,b,0)})})()}
f.isEmpty=function(){return 1>this.ha().filter(function(a){return!a.Qd}).length};f.za=function(){var a=this.Ta;return a?a.za():null};function ji(a,b){this.hv=this.gv=this.fv=this.ev=this.Mj=this.Fi=this.Xs=this.Ys=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.Uo=this.mn=null;this.Gy=!!b;this.Ut=he(this);this.Vt=he(this);this.Eo=new ez({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Wa=a;this.Yd=$("\x3cdiv\x3e").addClass("scrollThumb");this.je=$("\x3cdiv\x3e").addClass("scrollThumb");this.tg=this.tg.bind(this);this.Qn=this.Qn.bind(this);this.Mn=this.Mn.bind(this);
this.On=this.On.bind(this);this.Kn=this.Kn.bind(this);this.Ln=this.Ln.bind(this);this.cl=this.cl.bind(this);this.dl=this.dl.bind(this);this.In=this.In.bind(this);this.Jn=this.Jn.bind(this)}f=ji.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Wa.addClass("scrollbarElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Yd).insertAfter(this.Wa);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.je).insertAfter(this.Wa);fz(this);this.Wa.on("scroll",this.Qn);this.Wa.on("transitionend",this.tg);this.Wa.on("mouseenter",this.Mn);this.Wa.on("mouseleave",this.On);this.Yd.on("mousedown",this.Kn);this.je.on("mousedown",this.Ln);this.Eo.on("attrModified",this.tg);this.Eo.on("subtreeModified",
this.tg);this.Eo.observe(this.Wa);$("\x3cspan\x3e").appendTo(this.Wa).remove();$(window).on("resize",this.tg);return this};f.remove=function(){gz(this.Eo);this.Wa.off("scroll",this.Qn);this.Wa.off("transitionend",this.tg);this.Wa.off("mouseenter",this.Mn);this.Wa.off("mouseleave",this.On);this.Yd.off("mousedown",this.Kn);this.je.off("mousedown",this.Ln);$(window).off("resize",this.tg);return this};
function fz(a){he(a).read(function(a){var c=this.Wa.prop("clientWidth"),d=this.Wa.prop("offsetWidth"),e=this.Wa.prop("clientHeight"),g=this.Wa.prop("offsetHeight");a.write(function(){d>c&&this.Wa.css("margin-right",c-d);g>e&&this.Wa.css("margin-bottom",e-g);this.ua()})})}f.ua=function(){this.Ut.read(this.Ly)};
f.Ly=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.Fi,d=this.Mj;this.scrollWidth=this.Wa.prop("scrollWidth");this.scrollHeight=this.Wa.prop("scrollHeight");this.Ys=this.Wa.prop("clientWidth");this.Xs=this.Wa.prop("clientHeight");this.Fi=this.Yd.parent().outerWidth();this.Mj=this.je.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.Fi||d!==this.Mj)this.scrollTop=this.scrollLeft=-1,this.Ut.write(this.WF),this.Vt.read(this.Py)};
f.WF=function(){var a=Math.round(this.Mj*this.Xs/this.scrollHeight);this.Yd.css("width",Math.round(this.Fi*this.Ys/this.scrollWidth)+"px");this.je.css("height",a+"px");var a=this.Ys<this.scrollWidth,b=this.Xs<this.scrollHeight,c=a!==this.mn,d=b!==this.Uo;c&&(this.mn=a,this.Yd.toggleClass("disabled",!a));d&&(this.Uo=b,this.je.toggleClass("disabled",!b));this.Gy&&(c||d)&&this.trigger("change:scrollability",this.mn,this.Uo)};
f.Py=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Wa.scrollLeft();this.scrollTop=this.Wa.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.Vt.write(this.XF),this.Gy&&(this.mn||this.Uo)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.XF=function(){var a=Math.round(this.Mj*this.scrollTop/this.scrollHeight);this.Yd.css("transform","translateX("+Math.round(this.Fi*this.scrollLeft/this.scrollWidth)+"px)");this.je.css("transform","translateY("+a+"px)")};
f.tg=function(){this.Ut.read(this.Ly)};f.Qn=function(){this.Vt.read(this.Py)};f.Mn=function(){this.Yd.addClass("ready");this.je.addClass("ready")};f.On=function(){this.Yd.removeClass("ready");this.je.removeClass("ready")};f.Kn=function(a){0===a.button&&(this.ev=a.screenX,this.gv=this.scrollLeft,this.Yd.addClass("active"),$(document).on("mousemove",this.cl).on("mouseup",this.In),a.preventDefault(),a.stopPropagation())};
f.cl=function(a){this.Wa.scrollLeft(this.gv+Math.round((a.screenX-this.ev)*this.scrollWidth/this.Fi))};f.In=function(a){this.cl(a);this.Yd.removeClass("active");$(document).off("mousemove",this.cl).off("mouseup",this.In)};f.Ln=function(a){0===a.button&&(this.fv=a.screenY,this.hv=this.scrollTop,this.je.addClass("active"),$(document).on("mousemove",this.dl).on("mouseup",this.Jn),a.preventDefault(),a.stopPropagation())};
f.dl=function(a){this.Wa.scrollTop(this.hv+Math.round((a.screenY-this.fv)*this.scrollHeight/this.Mj))};f.Jn=function(a){this.dl(a);this.je.removeClass("active");$(document).off("mousemove",this.dl).off("mouseup",this.Jn)};var hz=null,Z=null;function Jw(a){Ma=!0;Qa=!1;Oa=new kv(Ba,[new jv(Fd),new hv(Gd)]);$("#search").on("keypress",function(b){return iz.call(this,b,a)});$("#search").on("keydown",jz);$("#search").on("keyup",jz)}function bx(){hz&&hz.cancel();hz=null}
function iz(a,b){function c(){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3dgrids])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3dgrids]").mousedown()},500)}a.stopPropagation();if(13==a.which){var d=$("#search");if(!d.val().match(/^\s*$/)){var e=$("#objectPanel").find("menu");switch(d.val().toLowerCase()){case "grid":case "grids":$("#objectPanel menu .elements a").click();c();$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3dgrids]").parent().position().top},
600);break;case "layout":case "layouts":e.find(".layout a").click();d.select();break;case "text":case "font":case "fonts":e.find(".text a").click();d.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();d.select();break;case "upload":case "uploads":e.find(".uploads a").click();d.select();break;default:Qw(b)}}return!1}}
function Qw(a,b,c,d){function e(){l.animate({scrollTop:p-50},600,function(){c();r.remove();Ma=!0;d()})}function g(){var a=$(".infoPanel",n);0<a.length&&(n.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),n.removeClass("doNotTransition"));var b=wx(k),c=-1;$("\x3e .gallery \x3e li",n).each(function(){var a=$(this);q+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");
setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},20)},20*++c+300))});setTimeout(function(){Qa=!1},20*c+300)}bx();var h=$("#search"),k=$("#resultsSearch"),l=k.children(".layer").first(),m=$("\x3e .inner \x3e .searchGroup",l);b=!!Ca.Ia.get(hd)&&!1!==b;l.data("userPreparedSearch",!0);if(Z&&h.val().trim()==Z.query){var n=m.last();lx(n);if(!Qa){Qa=!0;var q=xx(n),h=q-50;1<Math.abs(h-l.scrollTop())?l.animate({scrollTop:h},600,g):g()}}else{c=c||function(){kx(a)};d=d||function(b){Qx(a,
b)};Z=new dx(h.val(),mv,null,null,b,null,jx(k,k.height()),c);Ma=!1;Gx?h.blur():h.select();n=$('\x3cdiv class\x3d"searchGroup hasContent"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');""!=h.val()?$("h2",n).text("“"+h.val()+"”"):$("h2",n).text("");n.height(k.height());var r=$();0<$(".searchLoaderHolder.on",k).length&&(r=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),r.height($(".searchLoaderHolder",
k).height()),l.addClass("doNotTransition"),r.insertAfter(m.last()),l.removeClass("doNotTransition"));lx(m.last());var p=Rx(l),v=wx(k),h=p>v+50;b=$();var w=$();if(h){var y=v+50,x=$();m.each(function(){var a=$(this);0==x.length&&xx(a)+a.outerHeight()>y&&(x=a)});0==x.length&&(x=m.last());var v=$(".gallery",x),w=y-xx(x),A=0;0<v.length&&(A=w-(v.offset().top-x.offset().top));A=Ex(v,A);b=b.add(A);w=x.nextAll(".searchGroup");0>=$("li",v).length-A.length&&(b=$(),w=w.add(x));w=w.filter(function(){return!$(this).hasClass("inlineFolderGroup")});
if(0==b.length&&0==w.length)h=!1;else{k.addClass("modifying");A=w;0<b.find("a.infoOpen").length&&(A=A.add(x));var B=$(".infoPanel",A);0<B.length&&(A.addClass("doNotTransition"),B.addClass("doNotTransition"),$(".close",B).click(),B.data("infoPanelPointer").remove(),B.remove(),A.removeClass("doNotTransition"));v=v.data("columnData")||null;Sx(v,b);b.detach();rn(x,!0);x.hasClass("inlineFolderGroup")&&kz(l.data("view"),!1);k.removeClass("modifying")}}m=$("\x3e .inner \x3e .searchGroup",l);b=w.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,
b){return a+b},0);b=Rx(l)+n.height()-b;h&&b<wx(k)&&n.height(n.height()+(wx(k)-b));n.insertAfter(m.last());w.detach();var C=w.toArray(),m=m.filter(function(){return-1==C.indexOf(this)});h||0!=$(".gallery li",m.last()).length||(m.last().remove(),m=m.filter(function(a){return a!=m.length-1}));n.data("search",Z);var p=0,E=parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);m.last().addClass("doNotTransition");m.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=
a.data("contentHeight"),b=b+Cx(a);a.height(b);p+=b+E}});m.last().removeClass("doNotTransition");h=$("#objectPanel").find("menu .search");h.hasClass("on")||h.find("a").click();e()}}function kx(a){bx();hz=nv(Oa,u?u.Ea():null,Z.query,Z.Nr,Z.nr,Z.Fq,Z.xy,Z.sort,null,Z.xi(),Z.Vc(),!0).catch(function(a){return!(a instanceof P.CancellationError)},function(){}).then(function(b){Qx(a,b)}).catch(P.CancellationError,function(){})}
function Qx(a,b){if(Ma){var c=ax(),d=$("\x3e .layer \x3e .inner \x3e .searchGroup",c).last();if(d.data("search")!==Z)lx(d);else if(b){Ma=!1;var e=b.kn(),g=$(".photoGallery, .backgroundGallery",d);Z.$k=e.length;lx(c.children(".layer"));if(0==e.length&&Ox())Ma=!0,Z.Wx();else{var h=b.suggestion,k=Z,l=Z.query;if(Ca.Ia.get(hd)&&h){var m=$("h2",d),n=$(".searchSuggestion",d);n.empty().addClass("hasSuggestion");window.setTimeout(function(){n.addClass("showSuggestion")},300);h.overridden?(Z=new dx(yv(h),k.Nr,
k.nr,k.Fq,!1,k.sort,k.Vc(),function(){kx(a)}),Z.$k=e.length,d.data("search",Z),m.text("“"+yv(h)+"”"),0<h.originalHits?n.append("Search instead for ").append($("\x3ca/\x3e").data("query",h.originalQuery).append(h.originalQuery)):n.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))):n.append("Did you mean: ").append($("\x3ca/\x3e").data("query",yv(h)).append(lz(h)))}else 0===k.xi()&&$(".searchSuggestion",d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
0<e.length?(e=e.slice(0,k.Vc()),e.forEach(function(a){$d(ta,a.F(),a.V(),a.ob())}),e.forEach(function(b){(new mz({model:b,query:l,R:tb(a)})).$el.appendTo(g)}),qn(g),setTimeout(function(){Nx(c,a)},20*e.length+300)):0==k.xi()&&(g.remove(),$(".noResults",d).remove(),e=$('\x3cp class\x3d"noResults"\x3e').text(cc(tb(a))),d.append(e))}}else 0===d.children(".gallery").find("li").length?cx(d):$(".searchLoader",d).css("display","none")}}
function cx(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}
function lz(a){var b=$("\x3cspan/\x3e");if(!a.tokenReplacements||0==a.tokenReplacements.length)return b.text(yv(a)),b;var c=a.originalQuery;a=a.tokenReplacements;for(var d=0,e=0,g=0;d<c.length&&g<a.length;)d==a[g].start?(e<d&&b.append(c.substring(e,d)),b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)),d=e=a[g].end,g++):d++;e<c.length&&b.append(c.substring(e,c.length));return b}
function lx(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function nz(){this.If=[]}nz.prototype.trigger=Backbone.Events.trigger;nz.prototype.listenTo=Backbone.Events.listenTo;nz.prototype.stopListening=Backbone.Events.stopListening;_.extend(nz.prototype,Backbone.Events);nz.prototype.zd=function(a){oz(this,a,this.If.length)};function oz(a,b,c){-1===a.If.indexOf(b)&&(c=Math.max(0,Math.min(c,a.If.length)),a.If.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
nz.prototype.zl=function(a){var b=this.If.indexOf(a);-1<b&&(a.remove(),this.If.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function pz(a){return a.If[a.If.length-1]}nz.prototype.kg=function(){return this.If.length};function qz(a,b){this.Zs=a;this.title=b||"";this.ce=[];this.Wi=!0}qz.prototype.trigger=Backbone.Events.trigger;_.extend(qz.prototype,Backbone.Events);qz.prototype.Ka=function(){return this.title};qz.prototype.remove=function(){this.Zs.cancel()};
qz.prototype.clear=function(){this.ce=[];this.Wi=!0;this.Zs.reset();this.trigger("results:clear",this)};qz.prototype.Sc=function(a){var b=this;this.trigger("results:willFetch",b);this.Zs.Ci(a,function(c,d){b.Wi=c.length>=a;0<c.length&&(b.ce=b.ce.concat(c));b.trigger("results:didFetch",b,c,d)})};
function rz(a){var b=Ba,c=ya;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new sz(a);if("uploads"===a)return new tz(c,!0);if("marketplace"===a)return new tz(c,!1);b=new kv(b,[new jv(Fd),new hv(Gd)]);a=new dx(a,mv,null,null,!1,[],0,function(){});return new uz(b,a)}function vz(){}_.extend(vz.prototype,Backbone.Events);vz.prototype.Ci=function(a,b){b&&b([],!0)};vz.prototype.cancel=function(){};vz.prototype.reset=function(){};
function uz(a,b){this.search=a;this.Xc=b;this.Pa=!1;this.po=this.jb=null}_.extend(uz.prototype,Backbone.Events);f=uz.prototype;f.Ci=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.jb?b&&b([],!0):this.Nw(a,b,this.Pa)||(this.Xc.Bc=a,this.po=b,this.jb=ov(this.search,u?u.Ea():null,this.Xc.query,this.Xc.Nr,this.Xc.nr,this.Xc.Fq,this.Xc.xy,this.Xc.sort,this.Xc.lv,this.Xc.xi(),this.Xc.Vc()).catch(c,function(){}).then(this.sG.bind(this)).catch(P.CancellationError,function(){}))};
f.Nw=function(){return!1};f.cancel=function(){this.Pa=!0;this.jb&&this.jb.cancel();this.jb=null};f.reset=function(){this.cancel();this.Pa=!1;this.Xc.reset()};f.sG=function(a){var b=[];!this.Pa&&a&&a.kn()&&(b=a.kn());this.Mw(b,this.Xc.Vc());this.po&&this.po(b,this.Pa);this.jb=this.po=null;this.Pa||(this.Xc.$k=b.length,a=this.Xc,a.from+=a.Bc)};f.Mw=function(){};function sz(a){this.Bj=0;this.Xb=[];this.query=a;this.Pa=!1;if("grid"===a||"grids"===a)this.query="grid",this.Xb=_.keys(sh)}
sz.prototype.cancel=function(){this.Pa=!0};sz.prototype.Ci=function(a,b){if(this.Bj>=this.Xb.length||this.Pa)b&&b([],this.Pa);else{var c=this.Xb.slice(this.Bj,this.Bj+a);this.Bj+=a;b&&b(c,!1)}};sz.prototype.reset=function(){this.Pa=!1;this.Bj=0;this.Xb=[]};function tz(a,b){this.Fb=a;this.Ux=b;this.fe=0;this.Pa=!1;this.jb=null}
tz.prototype.Ci=function(a,b){function c(a,c){function d(a){return(a=a.ia().Lb())&&0<Object.keys(a).length}function l(a){var b=a.ia(),c=b.Lb(),d;Jr(a.ia())&&(d=100*Jr(a.ia()).ONE_USE||0);return Td({id:a.F(),version:b.V(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.ub(),type:a.zb()})}function m(a,b){var c=a.F(),d=b.F();return-(c<d?-1:c>d?1:0)}if(200===a&&c.media&&0!==c.media.length){var n=c.media.filter(d).sort(m).map(l);b&&b(n,e.Pa);e.fe+=n.length;e.jb=null}else b&&b([],e.Pa)}var d,e=this;
d=[Pd,Rd];this.jb?b&&b([],!0):(d=Or(Nr((new Mr).Mg(this.Ux).Qf(!1).Kg(),!1),d).Yl(this.fe,a),this.Ux||(d=d.iu().Sj(!0)),this.jb=sr(ya,d,c))};tz.prototype.cancel=function(){this.Pa=!0;this.jb&&(this.jb.cancel(),this.jb=null)};tz.prototype.reset=function(){this.cancel();this.Pa=!1;this.fe=0};
function wz(a,b,c){void 0!==a&&void 0!==b&&(b=new dx("*",lv,{designType:b.F()},null,!1,[new Dv("score","DESC"),new Dv("lastModified","DESC"),new Dv("id","ASC")],0,function(){}),c&&"1"==window.localStorage.getItem("CHOF")&&(b.lv=["MABpTJgmPaM"]),uz.call(this,a,b));this.Pm=!1;this.Gk=0}_.extend(wz.prototype,uz.prototype);wz.prototype.reset=function(){uz.prototype.reset.call(this);this.Pm=!1;this.Gk=0};wz.prototype.Nw=function(a,b,c){var d=[];return this.Pm?(xz(this,d,this.Gk,a),b&&b(d,c),!0):!1};
wz.prototype.Mw=function(a,b){(this.Pm=0===a.length||a.length<b)&&xz(this,a,this.Gk,b-a.length)};function xz(a,b,c,d){c=_.rest(_.keys(sh),c);d=_.first(c,d);a.Gk+=d.length;d.forEach(function(a){b.push(yz(a))})}function yz(a){var b=sh[a];a=new qt;var c=ae(t.za().sb()),b={width:c.A(),height:c.C(),elements:[{type:"grid",left:0,top:0,width:c.A(),height:c.C(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}
function zz(a){this.Pa=!1;this.yb=a.yb;this.Sa=a.Sa;this.fd=a.fd;this.Hq=!1;this.lc=this.jb=null}_.extend(zz.prototype,uz.prototype);zz.prototype.Ci=function(a,b){function c(a){b&&b([],e.Pa);throw a;}function d(a){e.lc=a.continuation;e.Hq=!e.lc;b&&b(a.documents,e.Pa);e.jb=null}var e=this,g=lk(kk().Yl(this.lc,a),this.Sa,this.fd);this.jb?b&&b([],!0):this.Hq?b&&b([],this.Pa):this.jb=Xj(this.yb,g).then(d).catch(c)};zz.prototype.cancel=function(){this.Pa=!0;this.jb&&(this.jb.cancel(),this.jb=null)};
zz.prototype.reset=function(){this.cancel();this.Pa=!1;this.lc=null;this.Hq=!1};function Az(a){this.fd=a.fd||null;this.Pa=!1;this.cq=a.cq;this.yb=a.yb;this.pv=!1;this.lc=this.jb=null;this.cu=a.cu}_.extend(Az.prototype,uz.prototype);
Az.prototype.Ci=function(a,b){function c(a){var b=a.nd().map(h);k.pv=null==a.bc();k.lc=a.bc();return 0!==b.length?(a=(new jk).Wo(b),Xj(k.yb,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Pa)}function e(){b([],k.Pa)}function g(){k.jb=null}function h(a){return a.F()}var k=this;if(this.jb)b&&b([],!0);else if(this.pv)b&&b([],this.Pa);else{var l=ut((new tt).Pj(this.fd).Rf("/designs/layouts").Vo(mt),this.cq).Rj(a).Qj(this.lc);this.jb=ht(this.cu,l).then(c).then(d).catch(e).finally(g)}};
Az.prototype.cancel=function(){this.Pa=!0;this.jb=null};Az.prototype.reset=function(){this.cancel();this.Pa=!1;this.lc=null};function dx(a,b,c,d,e,g,h,k){this.query="";this.Nr=b;this.nr=c;this.Fq=d;this.xy=e;this.sort=g;"string"===typeof a?this.query=a.trim():a instanceof qv&&(this.query="group:"+a.ma());this.from=0;this.Bc=h;this.$k=0;this.Wx=k;this.lv=null}dx.prototype.xi=function(){return this.from};dx.prototype.Vc=function(){return this.Bc};function Ox(){var a=Z;return a.$k>=a.Bc}dx.prototype.reset=function(){this.$k=this.from=0};function Bz(a){if(void 0!==a&&!Cz(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.df=a?a.qw||"none":"none";this.yd=a?a.yd.slice(0):[]}Bz.prototype.trigger=Backbone.Events.trigger;_.extend(Bz.prototype,Backbone.Events);Bz.prototype.Ld=function(){return this.df};function Dz(a){return a.yd.map(function(a){return _.extend({},a)})}
function Ez(a,b){var c=a.yd.concat(b);if(!Cz({qw:a.df,yd:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.yd=a.yd.concat(b)}Bz.prototype.transition=function(a){var b=this.df,c=Fz(this,a);if(null!==c)this.df=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.df);};
function Gz(a,b){var c=a.df;if(-1===a.yd.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.df=b;a.trigger("state:enter",a,b,c)}Bz.prototype.start=function(){this.transition("start")};Bz.prototype.fail=function(){this.transition("fail")};
function Fz(a,b){var c=a.yd.filter(function(c){return c.name===b&&c.from===a.df});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.df+'"');return 1===c.length?c[0].to:null}function Cz(a){var b=a.qw||"none",c;c=-1===Hz(a.yd).indexOf(b)?!1:!0;var d=Iz(a.yd);a=Jz(a.yd);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function Hz(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function Jz(a){return Hz(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function Iz(a){return Hz(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Kz(a){this.yw=a.justification;this.list=a.list;this.o=a.italic;this.bold=a.bold;this.fontSize=a.fontSize;this.fontFamily=a.fontFamily;this.color=a.color}_.extend(Kz.prototype,Backbone.Events);f=Kz.prototype;f.trigger=Backbone.Events.trigger;f.Ol=function(){return["left","center","right","bold","italic"]};f.Jf=function(a){this.yw=a;this.trigger("change:justification",this);this.trigger("change",this);return this};
f.Hl=function(a){this.list=a;this.trigger("change:list",this);this.trigger("change",this);return this};f.zi=function(){return this.o};f.Ag=function(a){this.o=a;this.trigger("change:italic",this);this.trigger("change",this);return this};f.vi=function(){return this.bold};f.yg=function(a){this.bold=a;this.trigger("change:bold",this);this.trigger("change",this);return this};f.nc=function(){return this.fontSize};
f.Dc=function(a){this.fontSize=a;this.trigger("change:fontSize",this);this.trigger("change",this);return this};f.We=function(a){this.fontFamily=a;this.trigger("change:fontFamily",this);this.trigger("change",this);return this};f.kf=function(){return this.color};f.setColor=function(a){this.color=a;this.trigger("change:color",this);this.trigger("change",this);return this};
f.serialize=function(){return{justification:this.yw,list:this.list,italic:this.o,bold:this.bold,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color}};function cw(a){this.source=a;this.filename="";this.viewBox=[]}var Wq="inherit";function Xp(a){if(a===Wq)return Wq;if(a=R(a||""))return a}function Zq(a){if(a===Wq)return Wq;if(a instanceof Ch)return a.Z()}cw.prototype.Zy=function(a){this.filename=a;return this};var Lz="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),
Mz="amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" "),
Nz=/^data:image\/[^,;]+;base64,/;function hq(a,b){var c;a:{try{c=$.parseXML(a)}catch(d){c=null;break a}c=$(c.documentElement)}return!c||!b&&Oz(c)||Pz(c)?!1:!0}function Oz(a){return a.find("*").andSelf().toArray().some(function(a){return-1===Lz.indexOf(a.localName.toLowerCase())})}
function Pz(a){return a.find("*").andSelf().toArray().some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||Nz.test(e));if(e||-1===Mz.indexOf(d))return!0}return!1})};function ew(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function gw(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function fw(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==gw(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function dw(a){if(!hq(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={},h=0;d.each(function(){h++;var a=R($(this).attr("fill"));if(a){var b=a.Z();g.hasOwnProperty(b)||(e.push(a.Z()),g[b]=1);a=
e.indexOf(b)+1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a};function jq(a,b){var c=a.trim(),c=c.replace(/SVGID_/g,b+"SVGID_"),c=c.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px"),c=ew(c);return c=fw(c)}function kq(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();Qz(a);Rz(a);Sz(a);Tz(a);Uz(a)}
function Qz(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){if(d.test(g.id))g.id=g.id.substr(0,1),g.classList.add("repeat");else{var h=g.id.match(e);h&&h[1]&&(g.id=h[1])}-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function Rz(a){function b(a,b){var c,k,l;l=(c=(k=a.getAttribute("style"))&&k.match(Vz))?k.match(Vz)[2]:a.getAttribute("fill");c&&(k=k.replace(Vz,""),a.setAttribute("style",k),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));k=a.getAttribute("fill");c=R(k);l=null;qp.equals(c)?l="primaryColor":rp.equals(c)?l="secondaryColor":sp.equals(c)&&(l="tertiaryColor");(c=l)?a.classList.add(c):k&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}var Vz=/(\b|^)fill\s*:\s*([^;]+);\s*/i;
function Sz(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function Tz(a){var b=lq(a),c=b.O(),d=b.K(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);var m=Wz(b,["circle","ellipse","path","polygon","rect"]);if(null!==m){var n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(n);n.id=iq();n.setAttribute("transform","translate("+
-c+", "+-d+")");m.setAttribute("class","photoPlaceholder");n.appendChild(m);var q=document.createElementNS("http://www.w3.org/2000/svg","image");q.setAttribute("class","placeholder");q.setAttribute("clip-path","url(#"+n.id+")");q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");q.setAttribute("transform","translate("+c+", "+d+")");q.setAttribute("data-placeholder-index",g.toString());g++;e.appendChild(q);m=Xz(m,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
m.setAttribute("class","outline");m.setAttribute("fill","none");e.appendChild(m)}})}
function Uz(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);var g=Wz(b,["rect"]);if(null!==g){g=Xz(g,"rx ry x y width height".split(" "));g.setAttribute("class","textPlaceholder");g.setAttribute("fill","none");e.appendChild(g);var e=Wz(b,["text"]),e=Yz(e),h=b.id,k=/_(dfont)(_|$)/.test(h),l=/_(dwidth)(_|$)/.test(h),
m=/_(dheight)(_|$)/.test(h),n=h.match(/_(left|center|right)(_|$)/),h=h.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:n?n[1]:void 0,"line-spacing":h?parseFloat(h[1].substring(0,1)+"."+h[1].substring(1)):void 0,"dynamic-font-size":k,"dynamic-width":l&&!m,"dynamic-height":m}),q;for(q in e)g.setAttribute("data-"+q,e[q]);if(b){q=[];e=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(k=0;k<e.length;k++)l=e[k],l.textContent&&0<l.textContent.trim().length&&q.push(l.textContent.trim());
q=q.join(" ")}else q="";""!=q&&g.setAttribute("data-placeholder-text",q)}})}function Xz(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function Wz(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function Yz(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=Bu(z),e,g,q=0;q<d.length;q++)for(g in e=d[q],e.H)if(e.H[g].l.toLowerCase()===b.toLowerCase())return a=-1<[e.H.bold,e.H.v].indexOf(e.H[g]),g=-1<[e.H.o,e.H.v].indexOf(e.H[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=Bu(z),e=a.replace(/^['"]|['"]$/g,"").toLowerCase();if(a=_.find(d,function(a){return(a.J||"").toLowerCase()===e}))return c["font-name"]=
a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.J||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.J||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.J||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];
if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=R(e.fill);g?e.fill=g.Z():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e};(function(){function a(a){var b="animationend"==a?e():d();return function(a){$(this).on(b,a,c)}}function b(a){var b="animationend"==a?e():d();return function(){$(this).off(b,c)}}function c(a){return a.data.handler.call(this,a)}function d(){var a=document.createElement("div"),b={transition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c;for(c in b)if(void 0!==a.style[c])return b[c];throw Error("Unsupported browser");}function e(){var a=document.createElement("div"),
b={animation:"animationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},c;for(c in b)if(void 0!==a.style[c])return b[c];throw Error("Unsupported browser");}["animationend","transitionend"].forEach(function(c){var h="animationend"==c?e():d();c!=h&&($.event.special[c]={add:a(c),remove:b(c)})})})();function Rh(a,b,c,d){var e=0;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Zz(180*e/Math.PI)}function Zz(a){a%=360;0>a&&(a+=360);return a}function $z(a){return Math.PI/180*a}function Ho(a,b){var c=a-b;return 0>c?360+c:c}function aA(a,b){var c=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>c?360+c:c}
function bA(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Sh(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function cA(a){this.listener=void 0;this.bq=a;this.qp=this.visible=!1;this.Yv=[]}function dA(a){a.bq.S.forEach(function(a){if(a.D()){if(0>=a.D().find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');a.D().append(c)}a.D().find(".guides").css("display","block")}})}f=cA.prototype;f.toggle=function(){this.visible?(this.hide(),eA(this)):this.qp?eA(this):this.show()};
function fA(a){return a.Yv.filter(function(a){return a&&a.Nb&&a.U()})}f.add=function(a){this.Yv.push(a)};f.hide=function(){this.visible=!1;this.bq.S.forEach(function(a){a.D()&&a.D().find(".guides").css("display","none")});fA(this).forEach(function(a){a.D().addClass("inactive")});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.im),this.listener.off("touchstart",".guides",this.im))};
f.show=function(){this.visible=!0;dA(this);fA(this).forEach(function(a){a.activate()});this.listener=new V("#canvaDocument");this.im=this.qq.bind(this);this.listener.on("mousedown",".guides",this.im);this.listener.on("touchstart",".guides",this.im)};
f.qq=function(a){function b(a){var q=a.clientX-l;a=a.clientY-m;q={align:"vertical",type:"guide",width:0,height:k.C(),left:q/O,top:0};e||(q.align="horizontal",q.width=k.A(),q.left=0,q.top=a/O,q.height=0);a=k;0<=q.left&&q.left<=a.A()&&0<=q.top&&q.top<=a.C()&&(a=new ws(q),a.appendTo(k),a.Ga(q.left),a.Ha(q.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new V($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=L(this.bq),l=k.D().get(0).getBoundingClientRect().left,m=k.D().get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");k.D().find(".elements").append(h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function gA(){var a=Ka();return a.visible?fA(a):[]}
function eA(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.qp=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.qp=!0,$(".page").addClass("showGuidelines"),$(".page").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),hA())}function hA(){if(t&&t.Ov&&t.S[0]){var a=(t.S[0].A()-140)/18*O-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*O)}}
function iA(a){if(!a.D()||!a.D().hasClass("showGuidelines"))return delete qa.Hk,[];if(qa.Hk)return qa.Hk;qa.Hk=[];a.D().find(".guidelines .gutter").each(function(b,c){function d(){return a.D().get(0).getBoundingClientRect()}qa.Hk.push({Ja:function(){return(c.getBoundingClientRect().left-d().left)/O},tb:function(){return(c.getBoundingClientRect().right-d().left)/O},ta:function(){return 0},Wb:function(){return(c.getBoundingClientRect().right-d().left)/O-(c.getBoundingClientRect().left-d().left)/O},
Ub:function(){return(d().bottom-d().top)/O},cb:function(){return(d().bottom-d().top)/O},$a:function(){return d().left+c.getBoundingClientRect().left},fb:function(){return d().top},Ma:function(){return 0}})});return qa.Hk};function $m(a){$("#content").on("click",".elementToolbar a, .textToolbar a",!1);jA.forEach(function(b){(kA[b]||[]).forEach(function(c){$("#canvaDocument").on("click",c,{cancel:!0},lA(b,a))})});$("#canvaDocument").on("click",".elementToolbarBackward.enabled a",{cancel:!0},mA);$("#canvaDocument").on("click",".elementToolbarForward.enabled a",{cancel:!0},nA);$("#canvaDocument").on("click",".elementToolbarCopy.enabled a",{cancel:!0},oA);$("#canvaDocument").on("click",".elementToolbarDelete.enabled a",
{cancel:!0},pA);$("#canvaDocument").on("click",".elementToolbarCrop.enabled a",{cancel:!0},qA);$("#canvaDocument").on("click",".imageToolbarDelete.enabled a",{cancel:!0},rA);$("#canvaDocument").on("click",".imageToolbarCrop.enabled a",{cancel:!0},qA);$("#canvaDocument").on("click",".imageToolbarFlipHorizontally.enabled a",{cancel:!0},sA);$("#canvaDocument").on("click",".imageToolbarFlipVertically.enabled a",{cancel:!0},tA);$("#canvaDocument").on("change",".textToolbarFontFamily",uA);$("#canvaDocument").on("click",
".textToolbar .fontUpgradeCta",{cancel:!0},function(){var a=Fa;a.analytics.track("learn_more_fonts");Fi(a,vA)});$("#canvaDocument").on("change",".textToolbarFontSize",wA);$("#canvaDocument").on("click",".textToolbarBold.enabled a",{cancel:!0},xA);$("#canvaDocument").on("click",".textToolbarBold.disabled.on a",{cancel:!0},xA);$("#canvaDocument").on("click",".textToolbarUppercase.enabled a",{cancel:!0},yA);$("#canvaDocument").on("click",".textToolbarItalic.enabled a",{cancel:!0},zA);$("#canvaDocument").on("click",
".textToolbarItalic.disabled.on a",{cancel:!0},zA);$("#canvaDocument").on("click",".textToolbarLeft.enabled a",{cancel:!0},AA);$("#canvaDocument").on("click",".textToolbarCenter.enabled a",{cancel:!0},BA);$("#canvaDocument").on("click",".textToolbarRight.enabled a",{cancel:!0},CA);$("#canvaDocument").on("click",".textToolbarList.enabled a",{cancel:!0},DA);$("#canvaDocument").on("click",".elementToolbarTransparency.enabled a",{cancel:!0},Sa);$("#canvaDocument").on("click",".textToolbarTextSpacing.enabled a",
{cancel:!0},Ta);$("#canvaDocument").on("click",".elementToolbarHorizontalAlignLeft.enabled a",{cancel:!0},EA);$("#canvaDocument").on("click",".elementToolbarHorizontalAlignRight.enabled a",{cancel:!0},FA);$("#canvaDocument").on("click",".elementToolbarHorizontalAlignCenter.enabled a",{cancel:!0},GA);$("#canvaDocument").on("click",".elementToolbarVerticalAlignTop.enabled a",{cancel:!0},HA);$("#canvaDocument").on("click",".elementToolbarVerticalAlignBottom.enabled a",{cancel:!0},IA);$("#canvaDocument").on("click",
".elementToolbarVerticalAlignCenter.enabled a",{cancel:!0},JA);$("#canvaDocument").on("click",".elementToolbarVerticalDistribute.enabled a",{cancel:!0},KA);$("#canvaDocument").on("click",".elementToolbarHorizontalDistribute.enabled a",{cancel:!0},LA);$("#canvaDocument").on("click",".elementToolbarLink.enabled a",{cancel:!0},MA);$("#canvaDocument").on("click",".elementToolbarPhotoFilters.enabled a",{cancel:!0},function(){NA.call(this,Ab(a.B))});$("#canvaDocument").on("click",".elementToolbarFlipHorizontally.enabled a",
{cancel:!0},OA);$("#canvaDocument").on("click",".elementToolbarFlipVertically.enabled a",{cancel:!0},PA);$(window).resize(QA)}function QA(){op();Vh()}var RA=0,SA=0,TA=!1;
function kp(a,b,c){function d(a,b,c){qh(p.translate(-b,-c),a).translate(b,c)}var e=a.data("element");if(e){var g=e.data("canvaElement");if(g){c=c||2;window.clearTimeout(RA);RA=window.setTimeout(function(){TA=!1;$(".elementToolbar").removeClass("animating");$(".textToolbar").removeClass("animating");$(".imageToolbar").removeClass("animating")},150);var e=a.data("position")||c,h=b.O(),k=b.K(),l=0,m=0,n=a.data("width"),q=a.data("height"),l=h,m=k-q-20;a.data("position",c);var k=document.getElementById("canvaDocument"),
h=parseInt($("#overlays").css("left"),10),h=k.scrollLeft-h,k=k.scrollTop,r=mh(UA().translate(10,10),-20,-20),p=new M(l,m,n,q);d(r,h,k);l=p.K()-m;if(2==c){c=p.O();var m=p.K(),v=50>p.K()&&0<$(".aboveTextOrImageToolbar").length;a.removeClass("withElementToolbar");g=g.Ma();140<g&&220>g&&p.Ha(m-(50-Math.abs(180-g)));g=0;v||(g=45,a.hasClass("imageToolbar")&&(g=0));p.qa()>b.K()||v||a.hasClass("imageToolbar")?(p.setPosition(c,m).translate(0,q+20+b.C()+20-l+g),d(r,h,k),a.addClass("underneath"),a.hasClass("textToolbar")&&
0<$(".aboveTextOrImageToolbar").length&&a.addClass("withElementToolbar"),a.data("position",3)):a.removeClass("underneath");e!==a.data("position")&&(a.css("display","none").addClass("doNotAnimate"),op())}TA||(b=$(".elementToolbar"),e=a.hasClass("textToolbar")||a.hasClass("imageToolbar"),q=a.data("position")===b.data("position"),e&&q?(TA=!0,b.addClass("aboveTextOrImageToolbar")):(TA=!1,b.removeClass("aboveTextOrImageToolbar")),b.addClass("animating"));p.round();a.css("display","").css("transform",Ri({Fc:p.O(),
Gc:p.K()})).delay(20,function(){$(this).hasClass("doNotAnimate")&&$(this).removeClass("doNotAnimate")});v&&$(".aboveTextOrImageToolbar").css("display","").css("transform",Ri({Fc:p.O(),Gc:p.K()+p.C()+50})).delay(20,function(){$(this).hasClass("doNotAnimate")&&$(this).removeClass("doNotAnimate")});clearTimeout(SA);SA=setTimeout(function(){var b=a.data("fxPanelView");b&&VA(b,a.offset(),a.hasClass("underneath"))},120)}}}
function WA(){return $('\x3cul class\x3d"toolbarMoreGroup linkMoreGroup"\x3e\x3cli\x3e\x3cdiv class\x3d"link"\x3e\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e')}
function XA(a,b,c){var d=!0,e=a.data("moreGroups")||$();c.addClass("toolbarReferencePoint").data("moreControl",b);b.append(c);b.on("click",function(){function e(a){var b=document.elementFromPoint(a.clientX||0,a.clientY||0),b=0<$(b).closest(c.get(0)).length,d=c.hasClass("letterSpacingSliderPresent");a=$(a.target).is("[contenteditable\x3d'true']");b||d&&a||h()}function h(){l.Gi()&&l.jf();d=!1;window.setTimeout(function(){d=!0},310);$(".sliderTooltip").remove();$("#overlays, .element, body").off("mousedown",
e);b.append(c).removeClass("on");c.removeClass("on").removeClass("preparing").removeClass("animating").removeData("toolbar");op=n}function k(b,c){c.addClass("preparing");$("#overlays").append(c);var d=b.parent().offset().top-$("#overlays").offset().top;c.get(0).getBoundingClientRect();var e=0,g=b.offset().left-$("#overlays").offset().left+20;c.removeClass("upwards").addClass("downwards");e=d+b.parent().height();d=c.css("margin-left",-c.outerWidth()/2);c.data("toolbar",a).css("top",e+"px").css("left",
g+"px").css("margin-left",d+"px").removeClass("preparing").addClass("on")}if(!b.hasClass("disabled")){var l=a.data("element").data("canvaElement");Vh();if(c.hasClass("menuOverride")){var m=c.find(".menuOverridden");c.removeClass("menuOverride").css("height","auto").css("width","auto").empty().append(m.contents())}if(d&&l){b.addClass("on");var n=op;op=h;k(b,c);$("#overlays, .element, body").on("mousedown",e)}}});a.data("moreGroups",e.add(c))}function op(){}var YA=_.template('\x3cmenu class\x3d"tooltipToolbar elementToolbar"\x3e\x3cli class\x3d"elementToolbarCrop"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarCopy"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- copyMsg %\x3e"\x3e\x3c%- copyMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- forwardMsg %\x3e"\x3e\x3c%- forwardMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- backMsg %\x3e"\x3e\x3c%- backMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarLink active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- editLinkMsg %\x3e"\x3e\x3c%- editLinkMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e');
function ZA(a,b){var c=a.data("canvaElement");if(c&&c.Sg()){var d=$("#overlays"),e=a.data("toolbar"),g=Ko(c);if(!e){e=$(YA({cropMsg:b.format("editorToolbarElementCrop"),copyMsg:b.format("editorToolbarElementCopy"),forwardMsg:b.format("editorToolbarElementForward"),backMsg:b.format("editorToolbarElementBack"),deleteMsg:b.format("editorToolbarElementDelete"),editLinkMsg:b.format("editorToolbarElementEditLink")}));e.appendTo(d).data("element",a);a.data("toolbar",e);1<a.length?(e.find("li").addClass("disabled"),
["Copy","Delete"].forEach(function(a){$(".elementToolbar"+a.replace(/[^a-zA-Z]/gi,""),e).addClass("enabled").removeClass("disabled")})):c.ib()?($("li",e).addClass("disabled"),$(".elementToolbarDelete",e).removeClass("disabled").addClass("enabled")):e.find("li").addClass("enabled");c.ew()&&(d=$(_.template('\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarElementFilter")})),
e.prepend(d),c.vf()&&d.removeClass("disabled").addClass("enabled"));var h=function(a){return!0===a.enabled},k=function(a){var b=h(a)?" enabled":" disabled";return'\x3cli class\x3d"elementToolbar'+a.id.replace(/[^a-zA-Z]/gi,"")+b+'"\x3e\x3ca href\x3d"#" title\x3d"'+a.name+'"\x3e'+a.name+"\x3c/a\x3e\x3c/li\x3e"},d=$('\x3cul class\x3d"toolbarMoreGroup"\x3e'+g.map(k).join("")+"\x3c/ul\x3e");if(c.UB){var l=$('\x3cli class\x3d"elementToolbarAlign enabled"\x3e\x3ca title\x3d"Align"\x3eAlign\x3c/a\x3e\x3c/li\x3e');
e.append(l);k=$('\x3cul class\x3d"toolbarMoreGroup toolbarMoreGroupAlign"\x3e'+c.su.map(k).join("")+"\x3c/ul\x3e");XA(e,l,k)}0!==g.filter(h).length&&e.append(_.template('\x3cli class\x3d"elementToolbarMore"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e')({moreMsg:b.Xk()}));XA(e,e.find(".elementToolbarMore"),d);XA(e,e.children(".elementToolbarLink"),WA());1==a.length&&(c instanceof Ti||c instanceof So)&&c.ac&&(g=$A(c.ac(),b),e.find(".elementToolbarDelete").after(g));
e.data("width",e.outerWidth()).data("height",e.outerHeight())}c.va();c.Gi()&&c.vf&&c.vf()&&(!c.Mi||c.vb)&&$(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}}
function Dp(a){var b=$("#overlays"),c=a.data("confirmationToolbar");c||(c=$('\x3cmenu class\x3d"crop elementToolbar"\x3e\x3cli class\x3d"enabled confirmationToolbarOk"\x3e\x3ca href\x3d"#"\x3eOk\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"enabled confirmationToolbarCancel"\x3e\x3ca href\x3d"#"\x3eCancel\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'),c.appendTo(b).data("element",a).data("width",c.outerWidth()).data("height",c.outerHeight()),a.data("confirmationToolbar",c))}
function aB(a,b){var c=Ed(Ca),d=a.data("textToolbar"),e=a.data("selectionBox"),g=a.data("canvaElement");if(!d&&g instanceof Mj){var d=a.data("fontName")+"",h=a.data("fontFamily")+"";(h=Yn(z,h))&&h.displayName&&(d=h.displayName);h=a.data("fontSize")||"";d=$(_.template('\x3cmenu class\x3d"fauxToolbar tooltipToolbar textToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"fontFamilySelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e'+
(d||"")+'\x3c/span\x3e\x3cspan class\x3d"fontSizeSelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"'+h+'"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({moreMsg:b.Xk(),
deleteMsg:b.format("editorToolbarTextDelete"),pickAColorMsg:b.format("editorToolbarTextPickAColor")}));d.appendTo($("#overlays")).data("element",a).data("width",d.outerWidth()).data("height",d.outerHeight());var h=g.$a(),k=g.fb()+(g.ta()-g.K())*O,g=new M(h,k,g.Wb()*O,g.Ub()*O);e&&e.addClass("horizontalScale");Mq(d,a);kp(d,g,2);e&&e.show()}window.setTimeout(function(){null!=a&&Ly(a,b,c,!0)},300)}
function Qq(a,b){var c=$("#overlays"),d=a.data("imageToolbar"),e=a.data("canvaElement");d||(d=$(_.template('\x3cmenu class\x3d"tooltipToolbar imageToolbar off"\x3e\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- filterTitle %\x3e"\x3e\x3c%- filterMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarCrop disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarDelete disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({filterTitle:b.format("editorToolbarImageFilterTitle"),filterMsg:b.format("editorToolbarImageFilter"),
cropMsg:b.format("editorToolbarImageCrop"),deleteMsg:b.format("editorToolbarImageDelete")})),e instanceof To&&(d.find(".imageToolbarDelete").before(_.template('\x3cli class\x3d"imageToolbarColor enabled"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3cspan\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarImagePickAColor")})),d.append(_.template('\x3cli class\x3d"imageToolbarMore disabled"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.Xk()})),
XA(d,d.find(".imageToolbarMore"),$('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"imageToolbarFlipHorizontally enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Horizontally"\x3eFlip Horizontally\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarFlipVertically enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Vertically"\x3eFlip Vertically\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'))),a.data("imageToolbar",d));d.appendTo(c).data("element",a).data("width",d.outerWidth()).data("height",d.outerHeight());e.va();
window.setTimeout(function(){d.removeClass("off")},100)}
function Ly(a,b,c,d,e){function g(){op();Vh();var a=$(this).siblings(".textToolbarFontFamily:not(select)");$("#overlays \x3e .mask").addClass("on ddslick");a.ddslick("open");var d=a.find(".dd-options"),e=$("#canvaDocument").offset();d.css("margin-top","");e&&e.top&&d.offset().top<e.top+20&&d.css("margin-top",e.top);c&&(d=a.find(".dd-options"),e=a.closest(".textToolbar").find(".fontUpgradeCta"),0===e.length&&(e=_.template('\x3cdiv class\x3d"fontUpgradeCta"\x3e\x3cspan class\x3d"fontUploadUpgradePrompt"\x3e\x3c%- fontUploadUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e'),e=
$(e({fontUploadUpgradePrompt:b.SB(),learnMoreButtonLabel:b.Jr()})),e.insertAfter(d.closest(".dd-container")),d.height(d.height()-e.height()),a.addClass("showFontUpgradeCta")),e.css("left",parseInt(d.css("left"),10)),e.css("top",parseInt(d.css("top"),10)+d.outerHeight(!0)));return!1}function h(a){op();Vh();var b=$(this).siblings(".textToolbarFontSize"),c=$(this).find("input");if(b.hasClass("on"))a.target===a.currentTarget&&b.ddslick("close");else return c.select(),$("#overlays \x3e .mask").addClass("on ddslick"),
b.ddslick("open"),!1}function k(){$("#overlays \x3e .mask").removeClass("on ddslick")}function l(b){$("#overlays \x3e .mask").removeClass("on ddslick");$("#null").focus();if(!b.didSelectAnOption){var c=a.data("canvaElement"),d=c.nc(c.eb()),e=B.find("input"),g=parseFloat(e.val()),h=b.lastKeyBeforeSelect;if("enter"!=h&&"tab"!=h||isNaN(g))e.val(bB(d/Ja.Ae)),"enter"==h&&(b.cancel=!0,e.select());else{-1===q.indexOf(g)&&$(this).ddslick("deselect");var k=Math.max(Math.min(400,g),1)*Ja.Ae;cB(c,function(){c.wo(k)})}}}
function m(){function a(b){var c=b.name||b.family,d=b.displayName||c;b=b.I;var e=$("\x3coption\x3e");e.attr("data-image-src",b).val(c).text(d);return e}function b(a){return function(b){b.appendTo(a)}}var c=nu(z),d=z.Ds,e=ku(z),g=$('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup priority"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'),
h=g.find("optgroup.user"),k=g.find("optgroup.priority"),l=g.find("optgroup.all");e.map(a).forEach(b(h));d.map(a).forEach(b(k));c.map(a).forEach(b(l));return g}function n(){var a=$('\x3cselect class\x3d"textToolbarFontSize"\x3e');q.map(function(a){return $("\x3coption\x3e").attr("data-text",a).text(a)}).forEach(function(b){b.appendTo(a)});return a}var q=bb,r=$("#overlays"),p=a.data("textToolbar"),v=a.data("canvaElement");if(v&&(e||v.selected))if(Ja){if(!p){var w=m();e=n();var y=a.data("fontName")+
"",p=a.data("fontFamily")+"",x=y;(p=Yn(z,p))&&p.displayName&&(x=p.displayName);var A=v.nc(v.eb()),p=$(_.template('\x3cmenu class\x3d"tooltipToolbar textToolbar realToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({pickAColorMsg:b.format("editorToolbarTextPickAColor"),
moreMsg:b.Xk()}));p.find(".textToolbarFontFamilySpan").text(x).before(w);p.find(".textToolbarFontSizeSpan").before(e);p.find(".textToolbarFontSizeSpan input").val(A);d&&p.find(".textToolbarMore").before(_.template('\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextDelete")})).before(_.template('\x3cli class\x3d"elementToolbarLink enabled active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextEditLink")}));
p.find(".textToolbarFontSize option[data-text\x3d24]").prop("selected",!0);x?(x=p.find(".textToolbarFontFamily option").filter(function(){return $(this).val()===y}),w.val(x.val()+"")):w.val("Glegoo");uA.call(w.get(0));e.val((A/Ja.Ae).toString());wA.call(e.get(0));p.appendTo(r).data("element",a).data("width",p.outerWidth()).data("height",p.outerHeight());r=$(_.template('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"textToolbarBold enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- boldMsg %\x3e"\x3e\x3c%- boldMsg %\x3e\x3ca\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- italicMsg %\x3e"\x3e\x3c%- italicMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarUppercase enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- uppercaseMsg %\x3e"\x3e\x3c%- uppercaseMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarList disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- listMsg %\x3e"\x3e\x26bull; \x3c%- listMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarLeft enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- leftMsg %\x3e"\x3e\x3c%- leftMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarCenter enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- centerMsg %\x3e"\x3e\x26ndash; \x3c%- centerMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarRight enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- rightMsg %\x3e"\x3e\x26ndash; \x3c%- rightMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({boldMsg:b.format("editorToolbarTextBold"),
italicMsg:b.format("editorToolbarTextItalic"),uppercaseMsg:b.format("editorToolbarTextUppercase"),listMsg:b.format("editorToolbarTextList"),leftMsg:b.format("editorToolbarTextLeft"),rightMsg:b.format("editorToolbarTextRight"),centerMsg:b.format("editorToolbarTextCenter")}));d&&(r.append(_.template('\x3cli class\x3d"dividerAbove textToolbarTextSpacing enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e',{label:b.format("editorToolbarTextSpacing")})).append(_.template('\x3cli class\x3d"dividerAbove elementToolbarCopy enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextCopy")})).append(_.template('\x3cli class\x3d"elementToolbarLink enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextLink")})).append(_.template('\x3cli class\x3d"elementToolbarTransparency enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextTransparency")})).append(_.template('\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextMoveForward")})).append(_.template('\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextMoveBack")})),
XA(p,p.find(".elementToolbarLink"),WA()));XA(p,p.find(".textToolbarMore"),r);d=w.find("optgroup.priority option").last().index();r=d+w.find("optgroup.user option").last().index()+1;w.hasClass("dd-container")||(w.ddslick({onClose:k}),-1<d&&p.find(".textToolbarFontFamily .dd-options li").eq(d).addClass("endOfGroup"),-1<r&&p.find(".textToolbarFontFamily .dd-options li").eq(r).addClass("endOfGroup"),p.find(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected"));w=p.find(".textToolbarFontFamilySpan");
w=new V(w);w.on("mousedown",g);w.on("touchstart",g);var B=p.find(".textToolbarFontSizeSpan");e.hasClass("dd-container")||e.ddslick({onClose:l,width:"6em",align:"bottom",linkedControl:B.find("input").get(0)});e=new V(B);e.on("mousedown",h);e.on("touchstart",h);a.data("textToolbar",p)}Mq(p,a);v.va();window.setTimeout(function(){$(".fauxToolbar.textToolbar").remove()},300)}else $(".fauxToolbar").remove();else $(".fauxToolbar").remove()}
function nA(){$("#overlays .element.text").each(function(){Bo($(this))});var a=$(this).parents("li"),b=L(t),c=b.wa(),b=cz(b,c),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'),e=0;e<b.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);d.css("top",a.offset().top-$("#overlays").offset().top+15);d.css("left",a.parents("menu").offset().left-$("#overlays").offset().left-15);if(!d.data("locked")&&(d.stop(),
window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=c[0],g=e.W(),c=b.filter(function(a){return a.W()>g});if(a=c[0])e.insertAfter(a),e.va(),b={oldElementIndex:g,elementIndex:e.W(),pageIndex:S(t,e.U())},D.register(new U(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:100,ze:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:100,ze:"linear",queue:!1,complete:function(){k.before(h);
h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:200,queue:!1}),k.animate({top:c},200));a=window.setTimeout(function(){d.animate({opacity:0},1E3,function(){$(this).remove()})},1E3);d.data("fadeTimer",a)}}
function mA(){$("#overlays .element.text").each(function(){Bo($(this))});var a=$(this).parents("li"),b=L(t),c=b.wa(),b=cz(b,c),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'),e=0;e<b.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);d.css("top",a.offset().top-$("#overlays").offset().top+15);d.css("left",a.parents("menu").offset().left-$("#overlays").offset().left-15);if(!d.data("locked")&&(d.stop(),
window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=c[0],g=e.W(),c=b.filter(function(a){return a.W()<g}).reverse();if(a=c[0])e.insertBefore(a),e.va(),e={oldElementIndex:g,elementIndex:e.W(),pageIndex:S(t,e.U())},D.register(new U(4,e));var e=$("li",d),h=e.eq(b.length-c.length),k=h.next(),b=e.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-b/2},{duration:100,ze:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:100,ze:"linear",
queue:!1,complete:function(){k.after(h);h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:b},{duration:200,queue:!1}),k.animate({top:-b},200));b=setTimeout(function(){d.animate({opacity:0},1E3,function(){$(this).remove()})},1E3);d.data("fadeTimer",b)}}
function oA(){$("#overlays .element.text").each(function(){Bo($(this))});Vh();op();var a=[];t.wa().forEach(function(b){var c=b.clone(),d=b.U()||L(t);b.Vk&&!1===b.Vk()&&c.St&&c.St();bp(c,30);cp(c,30);c.appendTo(d);c.kb();a.push(c)});Qu();a.forEach(Ld);Q();Ru();setTimeout(function(){ev(a)},20)}function pA(){Qu();t.wa().forEach(function(a){"function"==typeof a.Ct&&a.Ct();ox(a);a.remove()});Ru();Vh();$(".multipleSelectionBox").remove()}
function rA(){var a=$(this).parents(".imageToolbar").data("element").data("canvaElement"),b=a.nb();Vh();var c=a.mg(b),b={elementIndex:a.W(),pageIndex:a.U().W(),placeholderIndex:b,"new":{},old:c};a.Ox();D.register(new U(by,b));a.ua();a.pj();pp.$f()}function qA(){t.wa().forEach(function(a){dB(a)});pp.$f()}
function sA(){var a=eB(this),b=a.nb(),c=a.ra[b],d=c.Ya,e=d^1;c.Ih(e);a={pageIndex:S(t,a.U()),elementIndex:a.W(),placeholderIndex:b,old:{flipOrientation:d},"new":{flipOrientation:e}};D.register(new U(12,a))}function tA(){var a=eB(this),b=a.nb(),c=a.ra[b],d=c.Ya,e=d^2;c.Ih(e);a={pageIndex:S(t,a.U()),elementIndex:a.W(),placeholderIndex:b,old:{flipOrientation:d},"new":{flipOrientation:e}};D.register(new U(12,a))}
function eB(a){return $(a).parents(".toolbarMoreGroup").data("moreControl").parents(".imageToolbar").data("element").data("canvaElement")}
function uA(){function a(a){d.removeClass("loading");d.find(".spinner").remove();var b=c.data("canvaElement");if(b)if(a){if(Tn(c,!0),!c.is(".focused")){a=h.index;var e=b.dc(a),b={elementIndex:b.W(),pageIndex:S(t,b.U()),textIndex:a,"new":e,old:h};D.register(new ey(1,b))}}else alert("Sorry, there was a problem trying to apply the font "+g+". Please let us know about it.")}var b=$(this),c=b.parents(".textToolbar").data("element"),d=b.nextAll(".textToolbarFontFamilySpan"),e=null;$("option",b).each(function(){1==
this.selected&&(e=$(this))});null==e&&(e=$('option[selected\x3d"selected"]',b));var g=e.val(),b=e.text();d.text(b);var h=null;if(c){var b=c.data("canvaElement"),k=b.eb();-1<k&&(d.addClass("loading").append('\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'),h=b.dc(k),b.We(k,g,a))}}
function wA(){var a=$(this),b=a.parents(".textToolbar").data("element"),c=a.nextAll(".textToolbarFontSizeSpan"),d=null;$("option",a).each(function(){1==this.selected&&(d=$(this))});null==d&&(d=$('option[selected\x3d"selected"]',a));c.find("input").val(d.text());if(b){var e=b.data("canvaElement"),g=parseFloat(a.val()*Ja.Ae);cB(e,function(){e.wo(g)})}}
function NA(a){var b=function(a){return 0<a.parents(".toolbarReferencePoint").length?a.parents(".toolbarReferencePoint").data("toolbar"):a.parents(".elementToolbar, .textToolbar, .imageToolbar")}($(this)),c=b.data("element").data("canvaElement");c.rn();if(0!=$(".fxPanel").length)pp.$f();else{var d=new pp({model:c.Kb(),ys:Dt,Qc:a});VA(d,b.offset(),b.hasClass("underneath"));d.$el.removeClass("appeared").addClass("appearing");d.$el.appendTo("#content");$(".fxPanel").show();window.setTimeout(function(){d.$el.removeClass("appearing").addClass("appeared")},
330);op()}}
function MA(){function a(a){a.val(k).data("element",g).data("lastLinkState",k).focus().select();if(!a.data("linkKeyup"))a.data("linkKeyup",d).on("keyup",d)}function b(){var b=$('\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e'),c=$('\x3cdiv class\x3d"link"\x3e\x3c/div\x3e');c.append(b);a(b);var d=h.width(),e=h.position().top;h.addClass("overriding").css("overflow","visible").animate({left:h.position().left-(230-d)/2,width:230,height:43,top:e},300,
"easeOutSine",function(){h.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(c).removeClass("overriding");b.focus()})}function c(){var b=e.find("~ .linkMoreGroup input.linkInput");a(b)}function d(a){var b=$(a.target),c=b.parent(),d=b.val().trim(),h=mb.test(d)||fb.test(d),k=b.data("linkKeyup");13===a.which?""===d||h?(""===d||fb.test(d)||null!==d.match(/^(http)/)||(d="http://"+d),b.val(d),Xo(g,d),fB.call(b.get(0)),op(),e.toggleClass("hasLink",!!Yo(g))):(b.off("keyup",
k),alert("Please enter in a valid URL"),setTimeout(function(){b.on("keyup",k)},100)):(c.removeClass("valid invalid"),d&&h?c.addClass("valid"):d&&!h&&c.addClass("invalid"))}var e=function(a){return 0<a.parents(".toolbarReferencePoint").length?a.parents(".toolbarReferencePoint").data("toolbar"):a.parents(".elementToolbar, .textToolbar")}($(this)),g=e.data("element").data("canvaElement"),h=$(this).parents(".toolbarMoreGroup"),k=Yo(g);0<h.length?b():c()}
function OA(){Qu();t.wa().forEach(function(a){if(a.rg(1)){var b=a.Ya,c=b^1;a.Ih(c);a={pageIndex:S(t,a.U()),elementIndex:a.W(),"new":{flipOrientation:c},old:{flipOrientation:b}};D.register(new U(Wi,a))}});Ru()}function PA(){Qu();t.wa().forEach(function(a){if(a.rg(2)){var b=a.Ya,c=b^2;a.Ih(c);a={pageIndex:S(t,a.U()),elementIndex:a.W(),"new":{flipOrientation:c},old:{flipOrientation:b}};D.register(new U(Wi,a))}});Ru()}
function fB(){var a=$(this).data("element"),b=$(this).data("lastLinkState");b!=Yo(a)&&(b={elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{link:Yo(a)},old:{link:b||""}},D.register(new U(10,b)),$(this).data("lastLinkState",Yo(a)))}
function gB(a){return function(){function b(a,b,c){var d=a.get(0),e;$("."+b+"Tooltip").show();a.on("input",function(){e!==a.val()&&(c.call(d),e=a.val())});c.call(d)}if(!$(this).hasClass("disabled")){var c=32*a.length,d=$(this).parents(".toolbarReferencePoint").data("toolbar").data("element").data("canvaElement"),e=$(this).parents(".toolbarMoreGroup"),g=e.width(),h=e.position().top,k=$('\x3cdiv class\x3d"sliderGroup"\x3e\x3c/div\x3e');a.forEach(function(a){a.FF&&a.FF.call(d);var c=a.name.charAt(0).toUpperCase()+
a.name.slice(1),g=$('\x3clabel class\x3d"sliderLabel"\x3e\x3cspan\x3e'+(a.displayName||c)+"\x3c/span\x3e\x3c/label\x3e"),h=$('\x3cinput class\x3d"sliderInput '+a.name+'SliderInput" step\x3d"1" type\x3d"range" min\x3d"0" max\x3d"100"/\x3e'),r=$("\x3cspan\x3e").addClass("rangeTrack"),p=$('\x3cdiv class\x3d"slider '+a.name+'Slider"\x3e\x3c/div\x3e'),v=a.method.call(d)||0,v=""+a.Lr(v);e.addClass(a.name+"SliderPresent");h.val(v);h.addClass(a.name+"SliderInput");h.data("element",d);h.data("last"+c+"State",
a.method.call(d));g.append(r);g.append(h);p.append(g);k.append(p);var w=!1;h.on("mousedown",function(){if(!w){w=!0;b(h,a.name,a.Gp);var c=function(){$(document).off("mouseup",c);var b=a.name,d=a.Np,e=h.get(0);h.off("change input");d.call(e);$("."+b+"Tooltip").hide();$(".sliderTooltip").hide();w=!1};$(document).on("mouseup",c)}})});e.addClass("overriding").animate({left:e.position().left-(260-g)/2,width:260,height:c,top:h},300,"easeOutSine",function(){e.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(k).removeClass("overriding")});
e.css("overflow","visible")}}}function hB(a,b,c,d){return function(){var e=$(this).width(),g=parseInt($(this).val(),10),h=c(g),k=$(this).data("element"),l=$("."+b+"Tooltip"),m=$(this).offset().top,n=$(this).offset().left,m=m-$("#overlays").offset().top+-25,e=n-$("#overlays").offset().left+g/e*106,g=d(g);1!==l.length&&(l=$('\x3cdiv class\x3d"sliderTooltip '+b+'Tooltip"\x3e\x3c/div\x3e'),$("#overlays").append(l));l.css("top",m).css("left",e).text(String(g));k&&void 0!==h&&a.call(k,h)}}
function iB(a,b){return function(){var c="last"+b.charAt(0).toUpperCase()+b.slice(1)+"State",d=$(this).data("element"),e=$(this).data(c),g=a.call(d);e!=g&&(d={elementIndex:d.W(),pageIndex:S(t,d.U()),"new":{},old:{}},d["new"][b]=g,d.old[b]=e,D.register(new U(Wi,d)),$(this).data(c,g))}}
(function(){function a(a){return 100-a}function b(){return this.Mv(this.eb())}function c(){return this.Xq(this.eb())}Sa=gB([{name:"transparency",method:Y.prototype.Vv,Gp:hB(Y.prototype.Kl,"transparency",a,function(a){return a}),Np:iB(Y.prototype.Vv,"transparency"),Lr:a}]);Ta=gB([{name:"letterSpacing",displayName:"Letter spacing",method:b,Gp:hB(function(a){return this.it(this.eb(),a)},"letterSpacing",function(a){return 10*a-200},function(a){return 10*a-200}),Np:iB(b,"letterSpacing"),Lr:function(a){return(a+
200)/10}},{name:"lineHeight",displayName:"Line height",method:c,Gp:hB(function(a){return this.jt(this.eb(),a)},"lineHeight",function(a){return 2*a+50},function(a){return((2*a+50)/100).toFixed(1)}),Np:iB(c,"lineHeight"),Lr:function(a){return(a-50)/2}}])})();
function AA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.eb();cB(c,function(){c.Jf(d,"left");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")})}
function BA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.eb();cB(c,function(){c.Jf(d,"center");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on")})}
function CA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.eb();cB(c,function(){c.Jf(d,"right");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")})}
function xA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.eb(),g=!!c.data("bold");cB(d,function(){d.yg(e,!g);Tn(c,!0);(g=!!c.data("bold"))?a.addClass("on"):a.removeClass("on")})}
function yA(){var a=$(this).parents("li"),b=t.wa()[0],c=b.eb(),d="uppercase"===b.dc(c).textTransform;cB(b,function(){b.yo(c,d?void 0:"uppercase");Tn(b.Fa(c),!0)});a.toggleClass("on",d)}
function zA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.eb(),g=!!c.data("italic");cB(d,function(){d.Ag(e,!g);Tn(c,!0);(g=!!c.data("italic"))?a.addClass("on"):a.removeClass("on")})}
function DA(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.eb(),g=c.data("list");cB(d,function(){d.Hl(e,!g);(g=!!c.data("list"))?a.addClass("on"):a.removeClass("on")})}
function cB(a,b){if(a.wi().is(".focused"))b();else{var c=a.eb(),d=a.dc(c);b();var e=a.dc(c),c={elementIndex:a.W(),pageIndex:S(t,a.U()),textIndex:c,"new":e,old:d};D.register(new ey(1,c))}}
function lp(a,b,c){if(b&&c){!c.Yf||c instanceof Ti||c instanceof To?(b.removeClass("canCrop"),b.removeClass("disableCrop")):(b.addClass("canCrop"),c.Ki&&c.Ki()?$(".elementToolbarCrop",b).removeClass("enabled").addClass("disabled"):$(".elementToolbarCrop",b).addClass("enabled").removeClass("disabled"));c.Gi()&&c.vf&&c.vf()&&$(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled");!c.ac||c instanceof To||(b.find(".elementToolbarColor").remove(),a=$A(c.ac(),a),b.find(".elementToolbarDelete").after(a));
a=b.hasClass("textToolbar");var d=b.find(".elementToolbarLink");d.toggleClass("doNotTransition",!a);b.toggleClass("hasLink",!!Yo(c)).forceLayout();d.removeClass("doNotTransition");c.Mi&&!c.vb?b.find("li:not(.elementToolbarDelete)").removeClass("enabled").addClass("disabled"):jB(b,c)}}
function jB(a,b){var c=cz(b.U(),b),d=b.W(),e=c.filter(function(a){return a.W()>d}),c=c.filter(function(a){return a.W()<d}),g=a;a.data("moreGroups")&&(g=a.data("moreGroups"),g=a.add(g));0===e.length?g.find(".elementToolbarForward").removeClass("enabled").addClass("disabled"):g.find(".elementToolbarForward").addClass("enabled").removeClass("disabled");0===c.length?g.find(".elementToolbarBackward").removeClass("enabled").addClass("disabled"):g.find(".elementToolbarBackward").addClass("enabled").removeClass("disabled")}
function Mq(a,b){function c(a,b,c){b?a.addClass("on"):a.removeClass("on");c?a.removeClass("disabled").addClass("enabled"):a.removeClass("enabled").addClass("disabled")}function d(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",h=(e+1)*c+"%";0==e?b+=d+" "+h+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+h+",")});return{cI:"-webkit-linear-gradient(left, "+b+")",cH:"linear-gradient(to right, "+b+")"}}var e=Vn(b),g=(a.data("moreGroups")||$()).filter(function(){return $(this).data("moreControl").hasClass("textToolbarMore")});
if(0!==g.length){0===e.Wd.length&&(e=Kn(b));var h=function(a){return e.Wd.reduce(function(b,c){return b&&a(c)},!0)},k=h(function(a){return pu(z,a)}),l=h(function(a){return qu(z,a)}),h=h(function(a){return ru(z,a)}),m=g.find(".textToolbarBold"),n=g.find(".textToolbarItalic"),q=g.find(".textToolbarUppercase");c(m,!!b.data("bold"),!!b.data("italic")&&l&&h||!(b.data("italic")&&l)&&k);c(n,!!b.data("italic"),!!b.data("bold")&&k&&h||!(b.data("bold")&&k)&&l);c(q,"uppercase"===b.data("textTransform"),!0);
k=b.data("justification")||"left";$(".textToolbarRight").removeClass("on");$(".textToolbarCenter").removeClass("on");$(".textToolbarLeft").removeClass("on");"right"===k?$(".textToolbarRight",g).addClass("on"):"center"==k?$(".textToolbarCenter",g).addClass("on"):$(".textToolbarLeft",g).addClass("on");b.data("list")?$(".textToolbarList",g).addClass("on"):$(".textToolbarList",g).removeClass("on");g=b.data("canvaElement");g=g.nc(g.eb())/Ja.Ae;$(".textToolbarFontSize",a).val(g.toString());g=bB(g);k=a.find(".textToolbarFontSizeSpan input");
k.is(":focus")||k.val(g);g=a.find(".textToolbarColor .pickAColor \x3e span");0<e.Tc.length?(g.removeClass("noColor"),1==e.Tc.length?g.css("background-color",e.Tc[0]).css("background-image",""):(k=e.Tc.map(function(a){return a||"black"}),k=d(k),g.css("background-color","").css("background-image",k.cI).css("background-image",k.cH))):b.data("fill")?(k=R(b.data("fill")),g.css("background-color",k.Z()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image",
"").addClass("noColor");b.data("fontFamily")&&(g=b.data("fontName"),k=e.Wd.filter(function(a){return null!==Yn(z,a)}),k=1<k.length?"":k[0],l=b.data("fontFamily"),$(".textToolbarFontFamily",a).val(l),g=k||g,(k=Yn(z,g))&&k.displayName&&(g=k.displayName),$(".textToolbarFontFamilySpan",a).text(g));!0===b.children(".inner").get(0).isContentEditable?$(".toolbarMoreGroup .textToolbarList").removeClass("disabled").addClass("enabled"):$(".toolbarMoreGroup .textToolbarList").removeClass("enabled").addClass("disabled")}}
function $A(a,b){var c=$();a.forEach(function(a,e){var g=$(_.template('\x3cli class\x3d"elementToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({pickAColorMsg:b.format("editorToolbarElementPickAColor")}));g.data("colorIndex",e);var h=g.find(".pickAColor \x3e span");a instanceof Ch?h.css("background-color",a.Z()):a===Wq&&h.addClass("noColor").css("background-color","");c.after(g)});
return c}function kB(){var a=$(this).parents(".elementToolbar");1!==a.length&&(a=$(this).parents(".toolbarReferencePoint").data("toolbar"));if((a=a.data("element"))&&a.data("canvaElement")instanceof Vo)return a.data("canvaElement")}function EA(){var a=kB.call(this);a&&(lB(a),$(".elementToolbarAlign").click())}function FA(){var a=kB.call(this);a&&(mB(a),$(".elementToolbarAlign").click())}function GA(){var a=kB.call(this);a&&(nB(a),$(".elementToolbarAlign").click())}
function HA(){var a=kB.call(this);a&&(oB(a),$(".elementToolbarAlign").click())}function IA(){var a=kB.call(this);a&&(pB(a),$(".elementToolbarAlign").click())}function JA(){var a=kB.call(this);a&&(qB(a),$(".elementToolbarAlign").click())}function LA(){var a=kB.call(this);a&&(rB(a),$(".elementToolbarAlign").click())}function KA(){var a=kB.call(this);a&&(sB(a),$(".elementToolbarAlign").click())};function lA(a,b){var c=tB[a];return function(a){return c&&c.call(this,a,b)}}
var jA=Object.keys({ju:"CLICK_FILL_COLOR",ku:"CLICK_TEXT_COLOR"}),kA={ju:[".elementToolbarColor a",".imageToolbarColor a"],ku:[".textToolbarColor a"]},tB={ju:function(a,b){function c(a){a===Wq?m.addClass("noColor").css("background-color",""):a&&m.removeClass("noColor").css("background-color",a.Z());n.de(q,a)}function d(){var a=h(),b={elementIndex:n.W(),pageIndex:n.U().W(),old:r,"new":a};D.register(new U(px,b));r=a}function e(){p.wg();$h(p)}function g(){p.off("removed",g);n.Ah()}function h(){if(n instanceof
To)return{index:q,placementData:n.mg(q)};var a=k(),b="";a===Wq?b=a:a&&(b=a.Z());return{index:q,color:b}}function k(){return n instanceof To?n.Di(q).backgroundColor:n.ac()[q]}var l=$(this).closest(".elementToolbar, .imageToolbar"),m=$(this).find("span"),n=l.data("element").data("canvaElement"),q=n instanceof Qo?0:n instanceof Ti||n instanceof So?m.closest(".elementToolbarColor").data("colorIndex"):n instanceof To?n.nb():-1;if(-1!==q){var r=h(),p=l.data("colorSwatches");if(p){if(ai(p,l[0],m[0]))return;
p.remove()}n.mj();var v=k();v instanceof Ch||(v=void 0);p=new Th({lb:b.lb,vh:n.U().Ta,sc:v,Mc:yb(b.B),xg:!0});p.on("updateColor",c);p.on("confirmColor",d);p.on("removed",g);p.listenTo(D,"beforeOperationStackPop",e);Xh(p,l[0],m[0]);l.data("colorSwatches",p)}},ku:function(a,b){var c=$(this).parents(".textToolbar"),d=$(this).find("span"),e=c.data("element"),g=e.data("canvaElement"),h=g.eb(),k=g.dc(h),l=c.data("colorSwatches");if(l){if(ai(l,c[0],d[0]))return;l.remove()}l=new Th({lb:b.lb,vh:g.U().Ta,sc:R(e.data("fill")),
Mc:yb(b.B),xg:!0});l.on("updateColor",function(a){d.css("background-color",a.Z());g.setColor(h,a)});l.on("confirmColor",function(){var a=g.dc(h),b=g.U();b&&(b={elementIndex:g.W(),pageIndex:S(t,b),textIndex:h,old:k,"new":a},D.register(new ey(1,b)));k=a});l.listenTo(D,"beforeOperationStackPop",function(){l.wg();$h(l)});Xh(l,c[0],d[0]);c.data("colorSwatches",l)}};function Zh(a){this.toolbar=a.toolbar;this.op=a.op?a.op:uB;this.pp=a.pp?a.pp:vB;this.hs=a.hs}var uB=["CENTER"],vB=["ABOVE","BELOW"],wB={},xB={};function Yh(a,b,c){var d,e=a.hs;d={MA:c.getBoundingClientRect(),Fj:a.toolbar.getBoundingClientRect(),wn:e.getBoundingClientRect(),uu:b.getBoundingClientRect(),padding:{top:58}};e.classList.add("toolbarOverlay");a.op.some(function(a){return(a=wB[a])&&a(e,d)});a.pp.some(function(a){return(a=xB[a])&&a(e,d)})}
wB.CENTER=function(a,b){var c=b.Fj.left-b.wn.left,d=b.uu.left+b.uu.width/2-b.Fj.left;$(a).addClass("toolbarOverlayCenter").css("left",d+c-b.wn.width/2+"px");return!0};xB.ABOVE=function(a,b){if(0>b.Fj.top-b.wn.height-(b.padding&&b.padding.top||0))return!1;$(a).addClass("toolbarOverlayAbove").css("bottom",b.MA.height-b.Fj.top+"px");return!0};xB.BELOW=function(a,b){var c=b.Fj.top-b.wn.top+b.Fj.height;$(a).addClass("toolbarOverlayBelow").css("top",c+"px");return!0};function zw(a){return new P(function(b,c){var d,e;d=new FormData;d.append("key",a.key);d.append("AWSAccessKeyId",a.wz);d.append("policy",a.BF);d.append("signature",a.WG);d.append("Content-Type",a.IC||a.file.type);d.append("file",a.file);e=new XMLHttpRequest;e.onerror=c;e.onreadystatechange=function(){var a,d;4===e.readyState&&(d=(a=kf(e.status))&&e.getResponseHeader("x-amz-version-id"),a&&d?b(d):c())};e.upload.addEventListener("progress",a.progress||function(){});e.open("POST",a.url,!0);e.send(d)})}
;$.fn.reverse=[].reverse;$.fn.forceLayout=function(){if(0===this.length)return this;var a=this.get(0);(a=window.getComputedStyle(a))&&a.getPropertyValue("left");return this};Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};Array.lowerBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d};
Array.upperBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};Array.UI=function(a,b,c){var d=a.map(b,c),e=Array.min(d);return a.filter(function(a,b){return d[b]==e})};$.fn.delay=function(a,b){jQuery.fx.step.delay=function(){};return this.animate({delay:1},a,b)};
function yB(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function ne(a){return.1<yB(a)}
function zB(){var a,b,c="T"+"transform".slice(1),d=["Moz","Webkit","ms"],e=document.createElement("div");if("transform"in e.style)b="transform";else for(var g=0;g<d.length;g++)if(a=d[g]+c,a in e.style){b=a;break}return $.support.transform=b}$(function(){var a=zB();a&&"transform"!==a&&($.cssHooks.transform={get:function(b){return $.css(b,a)},set:function(b,c){b.style[a]=c}})});function je(a,b){var c=a.get(0).getBoundingClientRect(),d=b.get(0).getBoundingClientRect();return AB(c,d)}
function AB(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function yp(a,b){var c;c=a instanceof M?a:fh(a);return{transform:Ri({Fc:c.O(),Gc:c.K(),rotateZ:b||0}),left:"",top:"",width:c.A(),height:c.C()}}
function Cp(a,b,c){var d={rotateX:0,rotateY:0,rotateZ:0};null!=b&&(d.Fc=b.O(),d.Gc=b.K(),a.css("width",b.A()+"px"),a.css("height",b.C()+"px"));a.each(function(){var a=$(this);d.rotateX=a.data("FlipTransformation_rotateX")||0;d.rotateY=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.rotateX%360)&&(d.rotateX+=180,a.data("FlipTransformation_rotateX",d.rotateX));!!(c&1)!=(0!=d.rotateY%360)&&(d.rotateY+=0==d.rotateX%360?180:-180,a.data("FlipTransformation_rotateY",d.rotateY));a.css("transform",
Ri(d))})}function Bp(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new M(d,c,b,a)}function lq(a){a=a.get(0).getAttribute("viewBox").split(" ");return new M(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function Ri(a){var b=a.Fc||0,c=a.Gc||0,d=void 0===a.Te?1:a.Te,e=void 0===a.Hf?1:a.Hf,g=a.rotateX||0,h=a.rotateY||0;a=a.rotateZ||0;var k="";if(ra)k+="translate3d("+b+"px,"+c+"px,0px)";else if(0!=b||0!=c)k+="translate("+b+"px,"+c+"px)";if(1!=d||1!=e)k+=" scale("+d+","+e+") ";0!=g&&(k+=" rotateX("+g+"deg)");0!=h&&(k+=" rotateY("+h+"deg)");0!=a&&(k+=" rotateZ("+a+"deg)");return k}
function BB(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function Hf(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(BB(a))){a=a[1].split(",");if(6==a.length)return{Te:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Hf:parseFloat(a[3]),Fc:parseFloat(a[4]),Gc:parseFloat(a[5])};if(16==a.length)return{Te:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Hf:parseFloat(a[5]),Fc:parseFloat(a[12]),Gc:parseFloat(a[13])}}return{Te:0,skewX:0,skewY:0,Hf:0,Fc:0,Gc:0}}
function ie(a,b,c){var d=Hf(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.Te,d.skewX,d.skewY,d.Hf,d.Fc,d.Gc];$(a).css("transform","matrix("+b.join(",")+")")}function Iq(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}function bB(a){return 0===a%1?a.toString():a.toFixed(1)}
$(function(){function a(){var b=document.createElement("p"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var e in d)if(void 0!==b.style[e]){b.style[e]="translate3d(1px,1px,1px)";c=window.getComputedStyle(b,null);if(!c){window.setTimeout(a,500);return}c=c.getPropertyValue(d[e])}document.body.removeChild(b);ra=void 0!==c&&0<c.length&&"none"!==c}a()});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),g=Math.max(0,16-(c-a)),h=window.setTimeout(function(){b(c+g)},g);a=c+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();function CB(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function np(a,b){var c=Math.round(Zz(b)/45);8>c||(c=0);if(a){for(var d=0;8!==d;d++)a.removeClass("octant"+d);a.addClass("octant"+c)}}
function Hx(a){var b=a.offset(),c=b.left+a.width()/2;a=b.top+a.height()/2;return[c,a]}function bu(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,q=null;l.forEach(function(a){null!==q&&a.x>n&&(m.push(q),n+=.05);q=a});m.push({x:d.x,y:d.y});return m}var nn=!1,on=!1;
function UA(){var a,b,c,d;nn?(c=b=0,d=$(window).width(),a=$(window).height()):(b=c=0,a=$("#canvaDocument"),d=a.width()-b-12,a=a.height()-c-12);return new M(b,c,d,a)}function DB(){return mh(UA().translate(48,48),-96,-96)};function EB(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=Dz(a.vc.sa).filter(d).map(e(a.name));c=c.concat(a)});return new Bz({yd:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.mb=null;this.Fo=(b||[]).slice(0);this.sa=new Bz;this.Zg=null;var g=this,h;0<this.Fo.length?(h=c(),Ez(this.sa,h.yd),this.Fo.forEach(function(a){g.listenTo(a.vc,"change:state",g.cs)})):a&&Ez(this.sa,a);this.listenTo(this.sa,"state:enter",
this.hl)}EB.prototype.trigger=Backbone.Events.trigger;EB.prototype.listenTo=Backbone.Events.listenTo;EB.prototype.on=Backbone.Events.on;EB.prototype.off=Backbone.Events.off;_.extend(EB.prototype,Backbone.Events);EB.prototype.start=function(){this.sa.start()};EB.prototype.cancel=function(){this.mb&&this.mb.cancel?(this.mb.cancel(),this.mb=null):this.mb&&this.mb.abort&&(this.mb.abort(),this.mb=null);this.Fo.forEach(function(a){a.vc.cancel()})};
EB.prototype.cs=function(a,b,c,d){var e=this.Fo.filter(function(b){return b.vc===a})[0].name+":"+b;this.sa.Ld()!==e&&Gz(this.sa,e);var g=Array.prototype.slice.call(arguments,2);this.trigger.apply(this,["change:state",this,e].concat(g))};EB.prototype.hl=function(a,b){this.trigger("change:state",this,b)};var GB=kb.map(function(a){return a}),HB=4,O=GB[HB],sn=1,IB=0,JB=0;function bn(){0<HB&&Ja&&KB(Ja,HB-1);return!1}function cn(){HB<GB.length-1&&Ja&&KB(Ja,HB+1);return!1};function jz(a){a.stopPropagation()}function LB(a){a.preventDefault()}function MB(){return!1}var Gx="createTouch"in document,Ix=!1;function V(a){this.el=$(a);this.$o={};this.Pu=""}function nx(a){return 0<=a.Pu.indexOf("touch")}V.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.Pu=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function NB(a){return a.split("|").filter(function(a){return""!==a})}
function OB(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function PB(a,b,c,d){if(a.$o[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.$o[b+"_"+c]=d}V.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.dz=g;PB(this,a,e,g);NB(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(PB(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
V.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.$o[a+"_"+e];if(g){if(g!==(b.dz||b))throw Error('The given handler is not listening to event "'+a+'"');b.dz=null;OB(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.$o[a+"_"+e]}return this};function QB(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}QB.prototype=Object.create(Error.prototype);QB.prototype.constructor=QB;
function Wf(a){switch(a){case "card_declined":return new RB;case "expired_card":return new SB;case "incorrect_cvc":return new TB;case "incorrect_number":return new UB;case "invalid_cvc":return new VB;case "invalid_expiry_month":return new WB;case "invalid_expiry_year":return new XB;case "invalid_number":return new YB;case "missing":return new ZB;default:return new $B}}
function aC(a,b){if(b instanceof RB)return a.format("creditCardDeclined");if(b instanceof SB)return a.format("creditCardExpired");if(b instanceof TB)return a.format("creditCardCvcIncorrect");if(b instanceof UB)return a.format("creditCardNumberIncorrect");if(b instanceof VB)return a.format("creditCardCvcIncorrect");if(b instanceof WB)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof XB)return a.format("creditCardExpiryYearIncorrect");if(b instanceof YB)return a.format("creditCardNumberIncorrect");
if(b instanceof ZB)return a.format("creditCardMissingButRequired");if(b instanceof $B)return a.format("creditCardUnknownProcessingError");if(b instanceof bC)return a.format("creditCardNoCardEntered");throw Error("unrecognized CreditCardError");}function RB(){QB.call(this,"credit card declined")}RB.prototype=Object.create(QB.prototype);RB.prototype.constructor=RB;function SB(){QB.call(this,"credit card expired")}SB.prototype=Object.create(QB.prototype);SB.prototype.constructor=SB;
function TB(){QB.call(this,"credit card cvc incorrect")}TB.prototype=Object.create(QB.prototype);TB.prototype.constructor=TB;function UB(){QB.call(this,"credit card number incorrect")}UB.prototype=Object.create(QB.prototype);UB.prototype.constructor=UB;function VB(){QB.call(this,"credit card cvc invalid")}VB.prototype=Object.create(QB.prototype);VB.prototype.constructor=VB;function WB(){QB.call(this,"credit card expiry month invalid")}WB.prototype=Object.create(QB.prototype);
WB.prototype.constructor=WB;function XB(){QB.call(this,"credit card expiry year invalid")}XB.prototype=Object.create(QB.prototype);XB.prototype.constructor=XB;function YB(){QB.call(this,"credit card number invalid")}YB.prototype=Object.create(QB.prototype);YB.prototype.constructor=YB;function ZB(){QB.call(this,"credit card missing but required")}ZB.prototype=Object.create(QB.prototype);ZB.prototype.constructor=ZB;function $B(){QB.call(this,"unknown credit card processing error")}$B.prototype=Object.create(QB.prototype);
$B.prototype.constructor=$B;function bC(){QB.call(this,"no credit card entered")}bC.prototype=Object.create(QB.prototype);bC.prototype.constructor=bC;function cC(){var a=window.stripeConfig;switch(a.impl){case "local":return new dC;case "stripe":return new eC(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function dC(){}dC.prototype.createToken=P.method(function(a){return JSON.stringify({brand:"Visa",expMonth:a.qv,expYear:a.rv,last4:a.oh.slice(-4)})});function eC(a,b){(this.ud=b)&&this.ud.setPublishableKey(a)}
eC.prototype.createToken=function(a){return new P(function(b,c){if(!this.ud)throw Error("Stripe API is unavailable");a={cvc:a.Xg,exp_month:a.qv,exp_year:a.rv,number:a.oh};this.ud.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(Wf(g))}else b(e.id)})}.bind(this))};function ez(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.aj=null;this.Kk={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.Da=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.ye=new c(function(a){a.forEach(function(a){b.handle(a)})})}ez.prototype.normalize=function(a){return a.toLowerCase()};ez.prototype.on=function(a,b){var c=this.normalize(a);this.Kk.hasOwnProperty(c)||(this.Kk[c]=[]);this.Kk[c].push(b);return this};
ez.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.aj&&(g.target=a.target,g.currentTarget=c.aj.get(0),c.Kk.hasOwnProperty(e)&&c.Kk[e].forEach(function(a){a.call(c.aj,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
ez.prototype.observe=function(a){var b=$(a).get(0);if(this.aj)throw Error("Already observing an element");b&&(this.ye.observe(b,this.Da),this.aj=$(a))};function gz(a){a.ye.disconnect();a.aj=null};function qj(a,b,c){this.text=b||null;b=vb(a);this.text&&this.text.toLocaleLowerCase()===b.Oo().toLocaleLowerCase()&&(this.text=null);this.Zp=c||null;this.B=a}qj.prototype.on=Backbone.Events.on;qj.prototype.off=Backbone.Events.off;qj.prototype.trigger=Backbone.Events.trigger;function fC(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function gC(a){return null===a.text||""===a.text}qj.prototype.Ek=function(){return this.text};
function hC(a,b){var c;if(c=b){var d=b.trim().replace(/\s+/g," ");c="";d=d.trim();"undefined"==typeof c&&(c="…");if(256>=d.length)c=d;else{var e=d.substr(0,256),d=d.substr(256).match(/^\S+/),g=e.match(/\S+$/);e.match(/\s$/)||null===d||(10>=d[0].length?e+=d[0]:10>=g[0].length&&(e=e.substr(0,256-g[0].length)));c=e=e.trim()+c}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function iC(a,b){var c=tb(a.B),d=vb(a.B);return-1!=[d.Yn(),d.format("documentSvgPlaceholderText"),lc(c),mc(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function Py(a,b){var c=a.text||vb(a.B).Oo(),d=b&&!!b.oC;a.Zp&&(gC(a)||d)&&(c=a.Zp+" – "+c);return c};var Ro="screen";function Hy(a,b){var c=va,d=Ba,e=new Lk(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},dk(b.extensions)),c=new Ck(c,d,e,new Tj);c.Ni=!0;u=c;Ca.Ia.get(gd)&&u.start();u.kt(jC);Ua=0;return u}
function Zm(){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",LB);$("#content").on("keydown",".element.text.focused",kC);$("#content").on("keydown",".element.text.focused",lC);$("#content").on("input",".element.text.focused",mC);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",nC);if(!Gx)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",oC);(new V("#canvaDocument")).on("mousedown",
".selectionBox, .element",Va).on("touchstart",".selectionBox, .element",Va);(new V("#canvaDocument")).on("click",".element.focused",jz).on("mousedown",".element.focused",jz).on("touchstart",".element.focused",jz).on("mousedown",".element:not(.focused, .multiSelected)",pC).on("touchstart",".element:not(.focused, .multiSelected)",pC);(new V("#content")).on("click",".selectionBox.multipleSelectionBox",MB).on("click",".element.multiSelected",MB).on("mousedown",".selectionBox.multipleSelectionBox",qC).on("touchstart",
".selectionBox.multipleSelectionBox",qC).on("mousedown",".element.multiSelected",qC).on("touchstart",".element.multiSelected",qC);(new V("#content")).on("click",".selectionBox",MB).on("mousedown",".selectionBox",rC).on("touchstart",".selectionBox",rC);(new V("#content")).on("click",".selectionBox .handle",MB).on("mousedown",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",sC).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",sC);(new V("#content")).on("click",
".selectionBox .handle",MB).on("mousedown",".selectionBox.text.freeResize .handle.br",tC).on("touchstart",".selectionBox.text.freeResize .handle.br",tC);(new V("#content")).on("mousedown",".multipleSelectionBox .handle",uC).on("touchstart",".multipleSelectionBox .handle",uC);(new V("#content")).on("click",".cropControls",MB).on("mousedown",".cropControls",vC).on("touchstart",".cropControls",vC);(new V("#content")).on("click",".cropControls .handle",MB).on("mousedown",".cropControls .handle",wC).on("touchstart",
".cropControls .handle",wC);(new V("#content")).on("click",".viewPort .frameHandle",MB).on("mousedown",".viewPort .frameHandle",xC).on("touchstart",".viewPort .frameHandle",xC);(new V("#content")).on("click",".selectionBox .rotate",MB).on("mousedown",".selectionBox .rotate",Qi).on("touchstart",".selectionBox .rotate",Qi);(new V("#objectPanel")).on("mousedown",yC).on("touchstart",yC).on("mousedown",".gallery a",yC).on("touchstart",".gallery a",yC);$("#canvaDocument").on("mouseenter",".unapproved, .failed",
zC);if(Gx)$("#content").on("click",AC);$("#null").keydown(function(){$(this).blur()});Ca.Ia.get(ld)||(window.addEventListener("dragenter",BC,!1),window.addEventListener("dragover",CC,!1),window.addEventListener("drop",DC,!1),$("#dropZone").on("mouseover",EC).on("dragleave",FC))}function GC(){var a=t;function b(a){a.Xl(ta)}nn||Hj(a).forEach(b)}
function HC(a,b,c,d,e,g){function h(){return new IC({ne:(new UAParser).getBrowser().name,document:a,oa:b,na:u,mh:Date.now(),lq:new Tk(Ba),Lq:new ll,ii:d,B:g})}if(nn)Ja=new JC({model:a,B:g});else{Wa=KC.TB({model:a,oa:b,na:u,fc:La,ag:c,Po:function(a){document.title=a},lp:e,Rp:h,B:g});Ja=new JC({model:a,B:g});Xa=new LC({model:a,ve:Ja,B:g});var k=new cA(a);Ka=function(){return k}}}
function Ym(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}t&&(Q(),t.off(),Ja.remove(),nn||(Wa.remove(),Xa.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(t&&t.ha){var a=10*t.ha().length;H.off("elementLoaded",h);H.off("elementLoadingError",h);window.setTimeout(function(){H.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(Af(g,"rendered"),g.done())},100+a)}});H.on("elementLoaded",
h);H.on("elementLoadingError",h);t=new pj(a,b,d);t.on("change",Iy);HC(t,Ca,c,Fa,e?e():[],d);t.S.forEach(function(a){a.ha().forEach(function(b){a.trigger("element:add",a,b)})});m();D=new Zx;GC()}function Ld(a){var b=a.U();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=gy(a.serialize());a.pageIndex=S(t,b);D.register(new U(cy,a))}
function MC(a){var b=a.U();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=gy(a);c.pageIndex=S(t,b);c.childRange=$y(a);D.register(new U(13,c))}function NC(a){var b=a.U();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=gy(a);c.pageIndex=S(t,b);c.childRange=$y(a);D.register(new U(14,c))}
function ox(a){var b=a.U();null!=b&&(a=gy(a.serialize()),a.pageIndex=S(t,b),D.register(new U(dy,a)))}function Kx(){return L(t).D()||$("#canvaDocument \x3e .inner \x3e .page").first()}
function OC(a){function b(a){a.ib()&&(c(a),ox(a),a.remove())}function c(a){Vp(a);D.register(new U(rx,{elementIndex:g,pageIndex:h}))}var d=a.U(),e=d.fa(),g=a.W(),h=S(t,d),e=ph(a.fa(),e);a.ib()&&e?d.ha().filter(function(b){return b!==a}).forEach(b):a.ib()&&!e?c(a):a.Cu()&&e&&(d.ha().forEach(b),Cj(a),PC(a),D.register(new U(tx,{elementIndex:a.W(),oldElementIndex:g,pageIndex:h})))}function Iy(){if(u){var a=t.serialize();pw(a);Oj(a)?(Ua=u.post(Ua,a),null==Ua&&Wx()):(Xx(),u.close())}}var QC=0;
function jC(a){window.clearTimeout(QC);Yx();1==a?QC=window.setTimeout(Xx,3E4):2==a?1===Ua&&2===u.Yb()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload():3==a&&(Wx(),u.close());H.trigger("session:sync",a)}function Xi(){he().write(function(){$(".elementToolbar, .textToolbar, .imageToolbar, .toolbarTooltip, .fxPanel").addClass("subdued")})}
function Vi(){he().write(function(){$(".elementToolbar, .textToolbar, .imageToolbar, .toolbarTooltip, .fxPanel").removeClass("subdued")})}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Va=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.selected?(dz(a),b.unshift(a)):
b.push(a))):h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return Q(),Md(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function RC(){return t.S.map(function(a){return{rect:a.D().get(0).getBoundingClientRect(),page:a}})}
function pC(a){function b(a){pb=!!a.shiftKey;N=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;ca=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;Na=p.D().get(0).getBoundingClientRect();wb.read(c);return!1}function c(){var a=!1;if(p.sg()){var b=p.Vb();b&&!Jj(ta,b)&&(a=!0)}if(!p.Mi||p.vb||a){a=N-y;b=ca-x;E&&p.Uk()&&p.af();if(E){var c=SC(Na,h);c&&c.page?(W&&(W=!1,p.D().removeClass("outsidePage")),p.bk()&&!p.Pi(p.U())?(Da&&c.page!=Da&&Da.D().removeClass("hotspotHover"),
Da=c.page,Da.D().addClass("hotspotHover")):Da&&Da.D().removeClass("hotspotHover")):(p.D().addClass("outsidePage"),W=!0)}if(E||4<Math.abs(a)||4<Math.abs(b)){E=!0;p.setPosition(B+a/O,C+b/O);pb||K.hasClass("placing")||Jo(p)?TC():me(p,J,ea);var b=A.get(0).getBoundingClientRect(),c=$(".page.selected.on").get(0).getBoundingClientRect(),d=$("#overlays").get(0).getBoundingClientRect(),a=b.left-d.left,d=b.top-d.top,g=Math.round((b.left-c.left)/O),b=Math.round((b.top-c.top)/O);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform",
"translate("+a+"px,"+d+"px)").text(g+", "+b);Xi();p.va()}E&&!sa&&(a=K.find("img"),a.attr("data-screen-width",p.A()).attr("data-screen-height",p.C()),p.Mi&&a.attr("data-media-approved",p.vb),K.addClass("clone"),!p.om()&&p instanceof Qo&&K.addClass("cutout"),b=Td({id:p.ja,version:p.ka,origin:p.origin?p.origin.zb():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),K.data("li",
c),p.om()||p.tf())&&(pe(K,null,nx(ab)),sa=!0)}}function d(a){ab.off("mousemove|touchmove",b).off("mouseup|touchend",d);T.read(function(){var b=p.D().get(0).getBoundingClientRect();T.write(function(){var c;e.remove();A.remove();Vi();p.Ec=!1;$("#hotspots").remove();Da&&Da.D().removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(E)p.U()&&(p.Pi(p.U())?(Qu(),OC(p),c={elementIndex:p.W(),pageIndex:S(t,p.U()),"new":{left:p.O(),top:p.K()},old:{left:B,top:C}},c=new U(Wi,c),D.register(c),Ru()):
(c=SC(b,h))&&p.bk()?(Qu(),c=UC(p,b,c,B,C),OC(c),Ru(),w&&Md(c)):(c=gy(p.serialize()),c.pageIndex=S(t,p.U()),c.left=B,c.top=C,c=new U(dy,c),D.register(c),p.remove()));else if(!n&&!m&&(Md(p),q)){c=k.closest(".text");var d=Ed(Ca);v?Bo(c):a.shiftKey||(p instanceof Ti?(Ly(c,Ab(g),d),Xu(c,!0),p.va()):p instanceof Vo?(p.af(),Xu(c),Ly(c,Ab(g),d,!1,!0)):Xu(c))}K.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");K.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}
if(3==a.which||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Ea,h=RC(),k=$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".elements"),q=k.is(".text")||0<k.parents(".text").length,r=q?k.closest(".element"):$(this);l&&(r=k.parents(".group").first());var p=r.data("canvaElement");if(!p.nm())return a.preventDefault(),a.stopImmediatePropagation(),!1;pp.$f();Vh();a.altKey&&
(r=p.U(),l=r.elements.indexOf(p),p=p.clone(),jp(r,p,l+1),r=p.D());var v=r.hasClass("focused"),w=p.selected,y=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(y,x)).is(".handle.on"))return!0;if(a.shiftKey&&0===t.wa().length||p.ib()&&!w)return Xa.Yk(a,!0);var A=$("\x3cdiv\x3e\x3c/div\x3e"),l=Zz(p.Ma());45<l&&135>=l?A.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?A.css({position:"absolute",
bottom:0,right:0}):225<l&&315>=l?A.css({position:"absolute",top:0,right:0}):A.css({position:"absolute",top:0,left:0});p.D().append(A);a.shiftKey||w||Q();p instanceof Ti?(a=$("#overlays .svg.text.focused"),0<a.length&&(Bo(a),Kq(p)),a=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&"https://static.canva.com/static/images/placeholder.jpg"!=this.getAttribute("xlink:href")}),k.is("image.placeholder")&&"https://static.canva.com/static/images/placeholder.jpg"!=k.attr("xlink:href")?p.Hh(k):k.is(".outline")&&1===a.length&&
p.Hh(a),$(".uploadAPhoto").each(function(a,b){var c=b.getBoundingClientRect();if(y>c.left&&y<c.right&&x<c.bottom&&x>c.top){var c=$(b).parent().find("image.placeholder"),c=p.D().find("image.placeholder").index(c),d=p;Lx();$("#fileUpload").data("upload-destination",d);$("#fileUpload").data("upload-placeholder-index",c);return!1}return!0})):p instanceof To&&k.is(".placeholder")&&p.md()!==k&&p.Hh(k);var B=p.O(),C=p.K(),E=!1,J={},ea=le(p),sa=!1,K=p.D();K.data("startLeft",B).data("startTop",C);var N=0,
ca=0,Na=r.get(0).getBoundingClientRect(),wb=he(),T=he(),W=!1,Da,pb=!1;p.Ec=!0;var ab=new V($(document));ab.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}function UC(a,b,c,d,e){var g=(b.left-c.rect.left)/O;b=(b.top-c.rect.top)/O;var h=gy(a.serialize());h.pageIndex=S(t,a.U());h.left=d;h.top=e;D.register(new U(dy,h));d=a.clone();a.remove();d.ib()&&Vp(d);d.appendTo(c.page);d.setPosition(g,b);Ld(d);return d}
function SC(a,b){for(var c=0;c!=b.length;c++){var d=b[c].rect;if(a.bottom>d.top&&a.top<d.bottom&&a.right>d.left&&a.left<d.right)return b[c]}return null}function VC(a,b){return t.wa().filter(function(c){c=c.D().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.W()-b.W()})}
function WC(a){var b=Ea;2>t.wa().length||(dz(a),$(".elementToolbar").remove(),a=t.wa(),1<a.length?(a.forEach(function(a){a.D().removeData("toolbar")}),Su(Ab(b))):1===a.length&&($(".multipleSelectionBox").remove(),Q(),a[0].D().removeClass("multiSelected"),Jx(a[0]),a[0].va()))}
function XC(a){function b(a,b){return a.W()-b.W()}if(2>a.length)return null;var c=ts(new Vo,a);c.insertBefore(a[0]);(function(a){a.sort(b);for(var c=a[0],g=1;g!==a.length;g++)a[g].insertAfter(c),c=a[g];return a})(a).forEach(function(a){c.addElement(a);var b=(new zh).translate(-1*c.O(),-1*c.K());a.transform(b);c.D().find(".elements").append(a.D())});return c}function bv(){function a(a){return Jo(a)}var b=t.wa();!(1>=b.length||0<b.filter(a).length)&&(Q(),b=XC(b))&&(Md(b),MC(b))}
function YC(a,b,c){var d=a.ha().slice(),e=b(a),g=a.activeElement;g&&(e=b(g));Qu();NC(a);hy(a);d.forEach(function(a){var b=a.O(),d=a.K();c(a,e);D.register(new U(Wi,{elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{left:a.O(),top:a.K()},old:{left:b,top:d}}))});if(a=XC(d))Jx(a),MC(a);Ru()}function lB(a){YC(a,function(a){return a.Ja()},function(a,c){$o(a,a.Ja()-c)})}function mB(a){YC(a,function(a){return a.tb()},function(a,c){bp(a,c-a.tb())})}
function nB(a){YC(a,function(a){return a.Ja()+a.Wb()/2},function(a,c){var d=a.Ja()+a.Wb()/2;$o(a,d-c)})}function oB(a){YC(a,function(a){return a.ta()},function(a,c){ap(a,a.ta()-c)})}function pB(a){YC(a,function(a){return a.cb()},function(a,c){cp(a,c-a.cb())})}function qB(a){YC(a,function(a){return a.ta()+a.Ub()/2},function(a,c){var d=a.ta()+a.Ub()/2;ap(a,d-c)})}
function rB(a){var b=a.ha().slice();Qu();NC(a);hy(a);a=b.slice().sort(function(a,b){return a.Ja()>b.Ja()});var c=a.shift().tb(),d=a.pop().Ja(),e=a.reduce(function(a,b){return b.Wb()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.O(),c=a.K();$o(a,a.Ja()-h-g);h=a.tb();D.register(new U(Wi,{elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{left:a.O(),top:a.K()},old:{left:b,top:c}}))});if(b=XC(b))Jx(b),MC(b);Ru()}
function sB(a){var b=a.ha().slice();Qu();NC(a);hy(a);a=b.slice().sort(function(a,b){return a.ta()>b.ta()});var c=a.shift().cb(),d=a.pop().ta(),e=a.reduce(function(a,b){return b.Ub()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.O(),c=a.K();ap(a,a.ta()-h-g);h=a.cb();D.register(new U(Wi,{elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{left:a.O(),top:a.K()},old:{left:b,top:c}}))});if(b=XC(b))Jx(b),MC(b);Ru()}
function hy(a){var b=[].concat(a.ha()).reverse(),c=dp(a);a.af();b.forEach(function(b){a.oj(b);var e=ss(c,dp(b));b.insertAfter(a);b.D().insertAfter(a.D());b.Kl(e.tc);b.setPosition(e.left,e.top);Si(b,e.rotation)});a.remove();Q();ev(b)}function av(){var a=t.wa();1===a.length&&Jo(a[0])&&(Q(),a=a[0],NC(a),hy(a))}
function qC(a){function b(a){y=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;B.read(c);return!1}function c(){var a=y-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=SC(c,A);if(w||4<Math.abs(a)||4<Math.abs(b))w=!0,h.setPosition(n+a/O,q+b/O),me(h,p,v),c&&c.page&&c.page!==h.U()&&!h.Pi(h.U())?c.page.D().addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),Su(Ab(e))}function d(){E.off("mousemove|touchmove",
b).off("mouseup|touchend",d);C.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect();C.write(function(){var b=SC(a,A);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");Vi();ZC(g,!1);if(w){Qu();if(h.Pi(h.U()))g.forEach(function(a,b){var c={elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{left:a.O(),top:a.K()},old:{left:r[b].left,top:r[b].top}};D.register(new U(Wi,c))});else if(b){var c=[];g.forEach(function(a,d){if(a.bk()){var e=UC(a,a.D().get(0).getBoundingClientRect(),
b,r[d].left,r[d].top);c.push(e)}});Q();ev(c)}else g.forEach(function(a,b){var c=gy(a.serialize());c.left=r[b].left;c.top=r[b].top;c.pageIndex=S(t,a.U());D.register(new U(dy,c));a.remove()}),$(".multipleSelectionBox").remove();Ru()}})})}var e=Ea;if(3==a.which||a.ctrlKey)return!0;var g=t.wa().sort(function(a,b){return b.W()-a.W()}),h=new Gf(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=VC(k,l)[0];if(a.shiftKey&&
m)return WC(m),!1;Xi();ZC(g,!0);var n=h.O(),q=h.K(),r=g.map(function(a){return{left:a.O(),top:a.K()}}),p={},v=le(g),w=!1,y=0,x=0,A=RC(),B=he(),C=he(),E=new V($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){Ya=new ez;Ya.on("nodeInserted",$C).on("nodeInserted",aD).on("nodeRemoved",aD).on("characterDataModified",aD)});
function Xu(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c){a.parents(".page").hasClass("dark")&&a.addClass("dark");if(a.is(".svg .text")){var d=a.parents(".element").first();a.data("precedingElement",d.prevAll(".element").first()).addClass("focused svg element");d.appendTo("#overlays");c.setPosition();Ui(c)}else a.is(".group .text")?(d=a.parents(".group").first(),a.data("precedingElement",d.prevAll(".element").first()).addClass("focused"),d.appendTo("#overlays"),d.data("canvaElement").setPosition()):
(a.data("precedingElement",a.prevAll(".element").first()).appendTo("#overlays").addClass("focused"),c.setPosition());d=c.eb();a.removeClass("focused");c=c.dc(d);a.data("oldTextData",c);a.addClass("focused");Un(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.on("paste",bD);gz(Ya);Ya.observe(a);cD.fH(a);d=vb(Ea);d=a.data("placeholderText")||d.Yn();d=c.text()==d;(b||d)&&mo(c)}}}
function mo(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function bD(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function $C(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var dD=!1;
function aD(a){if(dD)dD=!1;else{var b=$(this),c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&wq(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(dD=!0,b.html(c.replace(a,"�")))}}
var cD=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else{if(100<a-h){var b=jQuery.data(e,"textToolbar");b&&Mq(b,$(e));h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{fH:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},gH:a}}();
function Bo(a){var b=a.data("precedingElement"),c=a.data("canvaElement"),d=a.children(".inner"),e=c.Nb||Kx(),g=c.eb(),h=!1;cD.gH(a);a.removeClass("dark");if(a.is(".svg.text"))h=a.parents(".element").first(),0<b.length?h.insertAfter(b):h.prependTo($(".elements",e)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),Ui(c),En(c,g),h=!0;else if(a.is(".group .text")){var h=a.parents(".group").first(),k=h.data("canvaElement");b&&0<b.length?h.insertAfter(b):
h.prependTo($(".elements",e));k.setPosition();a.removeData("precedingElement").removeClass("focused");d.attr("contentEditable","false");En(c,g);h=!0}else 0<a.length&&(b&&0<b.length?a.insertAfter(b):a.prependTo($(".elements",e)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((b=a.data("oldTextData"))&&c.Kh(g,b),ox(c),c.remove()):(En(c,g),h=!0));d.off("paste",bD);gz(Ya);c.Ga();c.Ha();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(h){if(d=
a.data("oldTextData"))b=c.dc(g),g={elementIndex:c.W(),pageIndex:S(t,c.U()),textIndex:g,"new":b,old:d},D.register(new ey(1,g)),c.Ro=!0;c=t.Ka();g=a.text();gC(c)&&hC(c,iC(c,g)?"":g)}a.removeData("oldTextData")}
function rC(a){var b=Ea,c;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var d=$(this).data("element"),e=d.data("canvaElement");if(e)if(e instanceof Mj)c=d.get(0),a.target=c;else{$(this).css("visibility","hidden");var g=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),h=$(g).closest(".element").get(0);h?(a.target=g,c=h):(c=d.get(0),a.target=c);$(this).css("visibility","");
e.Uk()&&((d=e.activeElement)&&d.D().get(0)===c?e.af():e.D().get(0)===c?e.af():e.ha().forEach(function(a){a.D().get(0)===c&&(e.af(),a&&-1!==e.elements.indexOf(a)?(e.activeElement=a,e.activeElement.D().addClass("active")):e.activeElement=null,a=a.D(),a.hasClass("text")&&(Xu(a),Ly(a,Ab(b),Ed(Ca),!1,!0)))}))}else return;pC.call(c,a)}return!1}function oC(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(a.metaKey)return!1;b.hasClass("text")?Xu(b):c.Yf&&dB(c);return!1}
function Md(a,b){function c(a){var b=a.D();a.Od();b.is(".text.focused")&&Bo(b);b.addClass("multiSelected")}var d=Ea,e=a.D(),g=t.wa();!a.Sg()||a.selected||hp(a)||(a.Cg(!0),0===g.length?(eD(e),!b&&fD(a,Ab(d))):(g.forEach(c),e.addClass("multiSelected"),Su(Ab(d))))}function fD(a,b){var c=a.D();a instanceof Mj?aB(c,b):ZA(c,b);(a instanceof Ti||a instanceof To)&&-1<a.nb()?Qq(c,b):a instanceof To&&Qq(c,b)}function Jx(a){var b=t.wa();if(1!=b.length||-1==b.indexOf(a))Q(),Md(a)}function PC(a){Q();Md(a)}
function gv(a){var b=t.wa(),c=L(t),d=c.ha().length-1,e=-1,e=-1;0!==a&&1===b.length&&(e=c.elements.indexOf(b[0]),-1!==e&&(e+=a,0>e&&(e=d),e>d&&(e=0),b=c.elements[e]||null))&&(b.ib()&&(0<a?(e+=1,e>d&&(e=0)):(--e,0>e&&(e=d))),(a=c.elements[e]||null)&&Jx(a))}
function eD(a){var b=$("#overlays"),c=a.data("selectionBox"),d=a.data("canvaElement")||null;a.addClass("selected");c||(c=$('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"Rotate this element"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'),c.data("element",
a).appendTo(b),a.hasClass("text")&&c.addClass("text"),a.hasClass("svg")&&c.addClass("svg"),a.hasClass("graphic")&&c.addClass("graphic"),a.hasClass("unapproved")&&c.addClass("unapproved"),a.hasClass("group")&&c.addClass("group"),a.data("selectionBox",c));d&&d.va()}
function dz(a){a.Cg(!1);a.af();a.Od();var b=a.D();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?Bo(b):b.is(".group")&&1===b.find(".text.focused").length?Bo(b.find(".text.focused")):a instanceof Ti&&(b=a.wi(),0<b.length&&Bo(b));(b=a.U())&&!a.Pi(b)&&(ox(a),a.remove())}function gD(a){dz(a);Md(a)}function ev(a){for(var b=0;b!==a.length;b++)if(!a[b].Sg())return;if(1===a.length)Md(a[0]);else for(b=0;b!==a.length;b++)Md(a[b],!0)}
function Q(){Vh();pp&&pp.$f();t.wa().forEach(dz);$(".multipleSelectionBox").remove();window.getSelection().removeAllRanges()}function Zu(a){void 0===a&&(a=t.wa());if(0<a.length){var b=a.map(function(a){return a.clone()});oi(b,a[a.length-1])}}
function $u(){function a(a){if(a.sg()){var b=a.Vb();b&&!Jj(ta,b)&&vr(ya,b.F(),(new Wp).Sd(b.V())).then(function(b){$d(ta,b.F(),b.ia().V(),b.ia().Lb());a.Os()}).catch($.noop)}}function b(b){b.Uk()?(bp(b,30),cp(b,30),b.ha().forEach(a),b.appendTo(d)):(a(b),e?(bp(b,30),cp(b,30),b.insertAfter(e),e=b):b.appendTo(d));h++;h===g.length&&(Qu(),g.forEach(Ld),Q(),Ru(),ev(g),Zu(g))}var c=pi();if(c){var d=L(t),e=c.pl;!e||-1<d.elements.indexOf(e)||(e=null);var g=c.elements.filter(function(a){return!!a}),h=0;g.forEach(b)}}
function vC(a){function b(a){q=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;r=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=$z(e.Ma()),b=(q-g)*Math.cos(a)-(h-r)*Math.sin(a)+g-g,a=-1*(h-r)*Math.cos(a)-(q-g)*Math.sin(a)+h-h;if(m||4<Math.abs(b)||4<Math.abs(a))m=!0,b/=O,a/=O,e.dt(k+b,l+a),e.va()}function d(){p.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.Ec=!1}if(3==a.which||a.ctrlKey||$(a.target).is(".handle"))return!0;
var e=$(this).data("canvaElement"),g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.Uc();var k=a.O(),l=a.K(),m=!1,n=he(),q=0,r=0;e.Ec=!0;var p=new V($(document));p.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function wC(a){function b(a){K=a.shiftKey?!1:!0;ea=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;sa=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;N.read(c);return!1}function c(){p=ih(ee($(".cropControls").get(0).getBoundingClientRect()));N.write(function(){var a=0,b=0,c=0,d=0,b=a=0,k=aA({x:ea,y:sa},r),p=Sh(n,q,ea,sa),N=Math.cos($z(k-v))*p;K&&(k=v,p=N);k=Ho(k,g.Ma());N=0;switch(CB(e.get(0))){case 2:N=k-bA("TR");b=p*Math.cos($z(N));a=p*Math.sin($z(N));K&&(b=a/m);
c=w;d=y-b;a=x+a;b=A+b;break;case 7:N=k-bA("BR");b=p*Math.sin($z(N));a=p*Math.cos($z(N));K&&(b=a/m);c=w;d=y;a=x+a;b=A+b;break;case 5:N=k-bA("BL");b=p*Math.cos($z(N));a=p*Math.sin($z(N));K&&(b=a/m);c=w-a;d=y;a=x+a;b=A+b;break;case 0:N=k-bA("TL"),b=p*Math.sin($z(N)),a=p*Math.cos($z(N)),K&&(b=a/m),c=w-a,d=y-b,a=x+a,b=A+b}var p=l.O()+l.A(),N=l.K()+l.C(),k=Math.floor(d)>l.K(),ca=Math.floor(c)>l.O(),Na=Math.ceil(c+a)<p,ia=Math.ceil(d+b)<N;k&&(l.K(),E===l.K()?(d=E,b=J,K&&(c=B,a=C)):(d=l.K(),b=J+(E-d),K&&
(a=b*m,c=B,Math.ceil(c+a)<p&&(a=p,b=a/m))));ca&&(l.O(),B===l.O()?(c=B,a=C,K&&(b=J,d=E)):(c=l.O(),a=C+(B-c),K&&(b=a/m,d=E,Math.ceil(d+b)<N&&(b=N,a=b*m))));Na&&(B+C===p?(a=C,c=B,K&&(d=E,b=J)):(a=p-c,K&&(b=a/m,d=E)));ia&&(E+J===N?(b=J,d=E,K&&(c=B,a=C)):(b=N-d,K&&(a=b*m,c=B)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<N&&(d=E,c=B,b=N,K&&(a=b*m)),a<p&&(c=B,d=E,a=p,K&&(b=a/m)),k=Math.floor(d)>l.K(),ca=Math.floor(c)>l.O(),Na=Math.ceil(c+a)<p,ia=Math.ceil(d+b)<N,k||ca||Na||ia||(h.Ga(c/O).Ha(d/O).da(a/
O).ca(b/O),g.Ue(h),g.va(),B=c,E=d,C=a,J=b))})}function d(){Na.off("mousemove|touchmove",b).off("mouseup|touchend",d);ca.write(function(){e.removeClass("on");g.Ec=!1})}var e=$(this),g=t.wa()[0],h=g.Uc(),k=g.Uc().scale(O),l=g.Ua().scale(O);l.Ga(0).Ha(0);var m=jh(k),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,r={x:n,y:q};a=ih(ee(e.get(0).getBoundingClientRect()));var p=ih(ee($(".cropControls").get(0).getBoundingClientRect())),
v=aA(a,p),w=k.O(),y=k.K(),x=k.A(),A=k.C(),B=k.O(),C=k.A(),E=k.K(),J=k.C(),ea=0,sa=0,K=!0,N=he(),ca=he();g.Ec=!0;var Na=new V($(document));Na.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function xC(a){function b(a){A=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;B=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;C.read(c);return!1}function c(){var a,b,c,d,E=0,J=0,wb=h.clone(),T=Sh(l,m,A,B),E=Ho(aA({x:A,y:B},n),e.Ma()),W=0;switch(CB(g.get(0))){case 2:W=E-bA("TR");J=T*Math.cos($z(W));E=T*Math.sin($z(W));a=h.O();c=h.K()-J;b=h.A()+E;d=h.C()+J;break;case 7:W=E-bA("BR");J=T*Math.sin($z(W));E=T*Math.cos($z(W));a=h.O();c=h.K();b=h.A()+E;d=h.C()+J;break;case 5:W=
E-bA("BL");E=T*Math.sin($z(W));J=T*Math.cos($z(W));a=h.O()-E;c=h.K();b=h.A()+E;d=h.C()+J;break;case 0:W=E-bA("TL"),J=T*Math.sin($z(W)),E=T*Math.cos($z(W)),a=h.O()-E,c=h.K()-J,b=h.A()+E,d=h.C()+J}T=k.K();c<T&&(y===T?(c=y,d=x):(c=T,d=x+(y-c)));T=k.O();a<T&&(v===T?(a=v,b=w):(a=T,b=w+(v-a)));T=k.C()+k.K();c+d>T&&(y+x===T?(d=x,c=y):d=T-c);T=k.A()+k.O();a+b>T&&(v+w===T?(b=w,a=v):b=T-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(wb.Ga(a).Ha(c).da(b).ca(d),v=a,y=c,w=b,x=d,C.write(function(){Ff(e,
wb.scale(1/O));p&&me(p,q,r);e.va()}))}function d(){J.off("mousemove|touchmove",b).off("mouseup|touchend",d);E.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.Ec=!1})}var e=t.wa()[0],g=$(this);e.va();var h=e.Ua();h.scale(O);var k=e.Uc();k.scale(O).translate(h.O(),h.K());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},q={},r=le(e),p=e instanceof Qo?new Ef(e):null,v=h.O(),
w=h.A(),y=h.K(),x=h.C(),A=0,B=0,C=he(),E=he();e.Ec=!0;var J=new V($(document));J.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function uC(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-l;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-m;var c=Math.sqrt(Math.pow(n+b,2)+Math.pow(q+a,2));C=d(w);10>n+b||10>q+a||(y=c/r,x.css("top",C.top-B+"px").css("left",C.left-A+"px").css("width",C.width+"px").css("height",C.height+"px"),v.css("-webkit-transform","scale("+y+")").css("transform","scale("+y+")"))}function c(){ea.off("mousemove|touchmove",b).off("mouseup|touchend",
c);Vi();ZC(p,!1);g();v.remove();e();x.remove()}function d(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){var h=g.getBoundingClientRect();h.top<b&&(b=h.top);h.left<c&&(c=h.left);h.bottom>e&&(e=h.bottom);h.right>d&&(d=h.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function e(){$(".multipleSelectionBox").css("visibility","visible");$(".elementToolbar").css("visibility","visible");$(".multiSelected").each(function(){var a=$(this).data("canvaElement");$(this).css("opacity",
1-a.tc/100)})}function g(){var a=v.get(0).getBoundingClientRect(),b=a.left,c=a.top;Qu();w.each(function(){function a(){0==x&&g.setPosition(q/O,r/O)}var d=$(this).data("multi-id"),e=$(".multiSelected").filter(function(){return $(this).data("multi-id")==d}).first(),g=e.data("canvaElement"),k=e.get(0).getBoundingClientRect(),l=$(this).get(0).getBoundingClientRect(),m=g.fa(),n=g.Lk()?g.Fk():null,p=S(t,g.U()),e=(l.right-l.left)/(k.right-k.left),k=(l.bottom-l.top)/(k.bottom-k.top),q=l.left-b+J,r=l.top-
c+E,x=g.Ma();$(this).remove();g instanceof Mj?(l=g.nc(0),l=parseFloat(parseFloat(l*y)),k=g.A()*e,e=g.dc(0),g.Dc(0,l),g.da(k),g.ca(),g.ua(),a(),l=g.dc(0),e={elementIndex:g.W(),pageIndex:p,textIndex:0,"new":l,old:e},D.register(new ey(1,e))):(g.setSize(g.A()*e,g.C()*k),a());(function(){var a=g.fa();if(!hh(m,a)){var b=m.serialize(),a=a.serialize();g.Lk()&&(b.transformDependentData=n,a.transformDependentData=g.Fk());b={elementIndex:g.W(),pageIndex:p,old:b,"new":a};D.register(new U(Wi,b))}})();g.ua();Su(Ab(h))});
Ru()}var h=Ea,k=$(this),l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=$(".multipleSelectionBox").width(),q=$(".multipleSelectionBox").height(),r=Math.sqrt(Math.pow(n,2)+Math.pow(q,2)),p=t.wa();k.addClass("on");Xi();ZC(p,!0);Vh();var v,w,y=1,x=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');
(function(){w=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();w.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});w.removeClass(".multiSelected");v=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".elementToolbar").css("visibility","hidden");$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");w.appendTo(v);var a=t.wa()[0].D().parent(".elements");v.appendTo(a);k.hasClass("br")?
v.addClass("fixTopLeft"):k.hasClass("bl")?v.addClass("fixTopRight"):k.hasClass("tr")?v.addClass("fixBottomLeft"):k.hasClass("tl")&&v.addClass("fixBottomRight")})();var A=$("#canvaDocument").offset().left,B=$("#canvaDocument").offset().top,C=d(w),E=C.top-$(".page.selected").offset().top,J=C.left-$(".page.selected").offset().left;v.css("left",J+"px").css("top",E+"px");w.each(function(a,b){ie(b,{Fc:-J,Gc:-E},!0)});$("#overlays").append(x);x.css("top",C.top-B+"px").css("left",C.left-A+"px").css("width",
C.width+"px").css("height",C.height+"px");var ea=new V($(document));ea.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function tC(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?er(e,b/O):er(e);e.va();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.Ke&&e.Ke();e.Ec=!1;var a={elementIndex:e.W(),pageIndex:S(t,e.U()),"new":{padding:e.padding},old:{padding:g}};D.register(new U(Wi,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement"),g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.Ec=!0;var k=new V($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}
function sC(a){function b(a){Gk=h instanceof Ti||h instanceof So?x:a.shiftKey?!x:x;Fh=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Eh=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;hx.read(c);return!1}function c(){ob=Yi(h);var a=aA({x:Fh,y:Eh},y),b=Sh(v,w,Fh,Eh),c=Math.cos($z(a-Wd))*b,d=0,g=0,k=0;Gk&&(a=Wd,b=c);if(!(gx&&3>Math.abs(ex-Fh)||ix&&3>Math.abs(ia-Eh))){gx=ix=!1;var l=CB(e.get(0)),x,Ra,fe=!1,a=Ho(a,h.Ma());switch(l){case 4:d=c;x=W;Ra=ca;break;case 3:d=
c;x=ca;Ra=W;break;case 1:g=c;x=wb;Ra=K;break;case 6:g=c;x=K;Ra=wb;break;case 2:fe=!0;x=T;Ra=N;k=a-bA("TR");d=b*Math.sin($z(k));g=b*Math.cos($z(k));break;case 7:fe=!0;x=sa;Ra=Na;k=a-bA("BR");g=b*Math.sin($z(k));d=b*Math.cos($z(k));break;case 5:fe=!0;x=N;Ra=T;k=a-bA("BL");d=b*Math.sin($z(k));g=b*Math.cos($z(k));break;case 0:fe=!0,x=Na,Ra=sa,k=a-bA("TL"),g=b*Math.sin($z(k)),d=b*Math.cos($z(k))}h instanceof Mj&&(3===l?(x=N,Ra=W):4===l&&(x=sa,Ra=ca));var Wh=x.get(0).getBoundingClientRect(),wy=C.scrollLeft,
xy=C.scrollTop;Gk&&fe&&(0===d?d=g*p:g=d/p);var Pp;Pp=0===d?h.A():fe?Math.max(q+d,A)/O:Math.max(q+d,Math.max(3*O),Da)/O;var Qp;Qp=0===g?h.C():fe?Math.max(r+g,B)/O:Math.max(r+g,Math.max(3*O),pb)/O;Jo(h)||me(h,fG,gG,{d:!0,xn:!0,r:!0,JH:!0},Gk);c=$("#overlays").get(0).getBoundingClientRect();Ra=Ra.get(0).getBoundingClientRect();a=Ra.left-c.left;c=Ra.top-c.top;Ra.left<ob.x&&ea.addClass("positionIndicatorScalingFromLeft");Ra.top>ob.y&&ea.addClass("positionIndicatorScalingFromBottom");ea.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform",
"translate("+a+"px,"+c+"px)").html(Pp.toFixed(0)+" × "+Qp.toFixed(0));hx.write(function(){h.setSize(Pp,Qp);var a=x.get(0).getBoundingClientRect(),b=xy-J,c=wy-E;J=xy;E=wy;ab+=Wh.top-a.top-b;dd+=Wh.left-a.left-c;a=h;b=(n+ab)/O;Zo(a,(m+dd)/O);fp(a,b);h instanceof Mj&&0!==h.Ma()?(h.da(),h.kb()):h.ua()});ex=Fh;ia=Eh}}function d(){Wh.off("mousemove|touchmove",b).off("mouseup|touchend",d);nI.write(function(){ea.remove();$("#overlays .align").removeClass("on");e.removeClass("on");h instanceof Mj?window.setTimeout(function(){h.Ke();
Tn(g,!0);Vi();h.Ec=!1},0):(Vi(),h.Ec=!1);var a=h.fa();if(!hh(k,a)){Qu();OC(h);var b=k.serialize(),a=a.serialize();h.Lk()&&(b.transformDependentData=l,a.transformDependentData=h.Fk());b={elementIndex:h.W(),pageIndex:S(t,h.U()),old:b,"new":a};D.register(new U(Wi,b));Ru()}sa.remove();K.remove();N.remove();ca.remove();Na.remove();wb.remove();T.remove();W.remove()})}var e=$(this);e.addClass("on");var g=e.parents(".selectionBox").data("element"),h=g.data("canvaElement"),k=h.fa(),l=h.Lk()?h.Fk():null,m=
Math.round(h.left*O),n=Math.round(h.top*O),q=gp(h),r=Zi(h),p=q/r,v=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,w=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,y={x:v,y:w},x=!(h instanceof Mj||h instanceof To);a=(new M(0,0,3,3)).scale(O);a=oh(new M(0,0,p,1),a);var A=a.A(),B=a.C(),C=$("#canvaDocument").get(0),E=C.scrollLeft,J=C.scrollTop,ea=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(ea);Xi();Vh();pp.$f();var sa=$("\x3cdiv\x3e\x3c/div\x3e");
sa.css({position:"absolute",top:0,left:0});h.D().append(sa);var K=$("\x3cdiv\x3e\x3c/div\x3e");K.css({position:"absolute",top:0,left:"50%"});h.D().append(K);var N=$("\x3cdiv\x3e\x3c/div\x3e");N.css({position:"absolute",top:0,right:0});h.D().append(N);var ca=$("\x3cdiv\x3e\x3c/div\x3e");ca.css({position:"absolute",top:"50%",right:0});h.D().append(ca);var Na=$("\x3cdiv\x3e\x3c/div\x3e");Na.css({position:"absolute",bottom:0,right:0});h.D().append(Na);var wb=$("\x3cdiv\x3e\x3c/div\x3e");wb.css({position:"absolute",
bottom:0,left:"50%"});h.D().append(wb);var T=$("\x3cdiv\x3e\x3c/div\x3e");T.css({position:"absolute",bottom:0,left:0});h.D().append(T);var W=$("\x3cdiv\x3e\x3c/div\x3e");W.css({position:"absolute",top:"50%",left:0});h.D().append(W);var Da=0,pb=0;h instanceof Ti&&(a=h.ya?$.extend(!0,{},h.ya):null)&&(Da=(a.left+a.right)*Hq(h).scale*O,pb=(a.top+a.bottom)*Hq(h).scale*O);var ab=0,dd=0,ob=Yi(h);a=ih(ee(e.get(0).getBoundingClientRect()));var Wd=aA(a,ob),ia=w,ex=v,gx=!1,ix=!1,fG={},gG=le(h),Fh=0,Eh=0,Gk=
x,hx=he(),nI=he();h.Ec=!0;var Wh=new V($(document));Wh.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function Su(a){if(t&&t.wa){var b=t.wa();if(!(2>b.length)){var c=$("#overlays"),d=$(".selectionBox.multipleSelectionBox");0==d.length&&(d=$('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'),d.appendTo(c));
0===b.filter(function(a){return 0!==a.Ma()}).length&&d.addClass("cornerHandles");c=hD(b);d.css("left",c.O()).css("top",c.K()).css("width",c.A()).css("height",c.C());var e=$();b.map(function(a){e.push(a.D().get(0))});ZA(e,a);$(".elementToolbarPhotoFilters").remove();$(".elementToolbarMore").remove();$(".elementToolbarForward").remove();$(".elementToolbarBackward").remove()}}}
function hD(a){var b=a.map(function(a){return a.Ja()*O+(a.U().$a()||0)}),c=a.map(function(a){return a.ta()*O+(a.U().fb()||0)}),b=Array.min(b),c=Array.min(c),d=Array.max(a.map(function(a){return a.tb()*O+(a.U().$a()||0)}));a=Array.max(a.map(function(a){return a.cb()*O+(a.U().fb()||0)}));return new M(b,c,d-b,a-c)}
function iD(){var a=$(this),b=a.data("canvaElement");if(b&&b.Sg()&&!(0<a.parents(".group").length))if(je(a,$("#marquee")))if(b.ib()){var c=a.get(0).getBoundingClientRect(),d=$("#marquee").get(0).getBoundingClientRect();d.top+10<c.top&&d.left+10<c.left?(b.Cg(!0),a.addClass("multiSelected")):(b.Cg(!1),a.removeClass("multiSelected"))}else b.Cg(!0),a.addClass("multiSelected");else b.Cg(!1),a.removeClass("multiSelected")}
function nC(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function kC(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function lC(){if(jD)$("#content").off("keydown",".element.text.focused",lC);else{var a=$(this);kD(a)}}function mC(){jD=!0;var a=$(this);kD(a)}var jD=!1;function kD(a){function b(){a.data("handleTextElementInputTimerId",0);lD(a);Tn(a,!0)}if(!mD(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=jD?requestAnimationFrame(b):window.setTimeout(b,20),a.data("handleTextElementInputTimerId",c))}}
function lD(a){var b=a.data("canvaElement");if(b){var c=b.eb();0<Object.keys(b.zk(c)).length&&nD(function(){b.ai(c)})}}function mD(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function nD(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function Tn(a,b){function c(a,b){return a.Ja()+b>a.U().tb()}function d(a){return a.Ja()<=a.U().Ja()}if(!mD(a)){var e=a.data("canvaElement");if(e){var g=a.children(".inner");if(0!==g.length){var h=0<a.parents(".element.group").length;h&&e.Ke();100<g.text().length&&e.xl(e.eb());var k=b&&!e.Vk();k&&(g.css("width","0"),g.addClass("explicitLineBreaksLayoutMode"));var l=g.prop("scrollWidth"),m=Hf(g[0]).Te;m&&1<m&&(l/=m);var m=a.data("justification"),n=e.A(),q=e.O();if(k){var r=n;a.data("ephemeralStartWidth")?
r=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",e.A());l=Math.max(r,l+2);e.U()&&(m&&"left"!==m?"right"===m?(e.Ga(q+n-l),d(e)&&(l=n,e.Ga(0),e.Ke())):"center"===m&&(e.Ga(q+(n-l)/2),d(e)||c(e,l))&&(e.Ga(q),l=n,e.Ke()):c(e,l)&&(l=e.U().tb()-e.Ja(),e.Ke()))}else l=Math.max(n,l);n=m=0;if(m=0!==e.Ma()&&b){var p=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');e.D().find(".shim").remove();e.D().prepend(p);var v=p.get(0).getBoundingClientRect(),w=e.K(),y=e.O()}k&&g.removeClass("explicitLineBreaksLayoutMode");
e.da(l);g=e.C();e.ua();h&&b&&vs(a.parents(".group").first().data("canvaElement"),e,g);m&&g!==e.C()?(h=p.get(0).getBoundingClientRect(),p.remove(),m=h.top-v.top,n=h.left-v.left,0==m&&0==n||e.setPosition(y-n/O,w-m/O),window.setTimeout(function(){e.ua()},0)):p&&p.remove()}}}}
function fv(){var a=t.wa(),b,c,d,e,g;(c=L(t))&&1===a.length&&(b=a[0],a=b.fa(),b instanceof To?(d=c.fa(),d.Ha(d.K()-12),d.da(d.A()+24),d.ca(d.C()+24),d.Ga(d.O()-12)):d=oe(a.clone(),c.fa()),b instanceof Mj?(dz(b),Qu(),g=b.dc(0),e=b.nc(0)*(d.C()/a.C()),b.Dc(0,e),window.setTimeout(function(){b.da(d.A());b.ca();b.ua()},0),b.setPosition(d.O(),d.K()),e=b.dc(0),g={elementIndex:b.W(),pageIndex:S(t,c),textIndex:0,"new":e,old:g},g=new ey(1,g),D.register(g)):(b.xb(d),b.ua()),c={elementIndex:b.W(),pageIndex:S(t,
c),"new":d.serialize(),old:a.serialize()},c=new U(Wi,c),D.register(c),b instanceof Mj&&Ru(),Md(b))}function yC(){var a=$("#overlays .confirmationToolbarCancel a");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}
function zC(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=p,a.rk=!1,a.D().toggleClass("failed",a.rk),a.vo(0),a.ht(0),a.We(0,"Glegoo"),a.ul=!0,Un(a.D(),!0),a.ua(),Md(p),Xu(p.D(),!0),p.va(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=r.get(0)===n;if(a=r.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=ee(a.get(0).getBoundingClientRect()),b=ee(n.getBoundingClientRect()),a=ge(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=vb(Ea);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var q=n.classList.contains("failed"),
r=$("#cutoutMessage"),p=$(n).data("canvaElement");if(p){0>=r.length&&(r=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));q&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));r.data("canvaElement",p).html(k).toggleClass("unapproved",h).toggleClass("failed",q).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=ee(n.getBoundingClientRect()),h=ee($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=mh(UA().translate(10,10),-20,-20).translate(k.left,
k.top).translate(-h.O(),-h.K()),l=new M(0,0,l,m),qh(nh(l,a).translate(-h.O(),-h.K()),k),r.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function AC(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page \x3e .elements")&&($(a.target).is("input")||$(document.activeElement).blur(),Q())}
function pe(a,b,c){function d(a){Ix=!0;window.clearTimeout(E);E=window.setTimeout(function(){Ix=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);J.forEach(function(a){a!=b&&l.call(a)});a=$(b);var c=0<=J.indexOf(b);!c&&0<a.parents("#hotspots").length&&a.is(".element.hotspot")?(C=b,g.call(b),J=[b]):J=c?[b]:[]}function e(){$(document).off("touchmove",d).off("touchend",e);var a=$(C);0<a.parents("#hotspots").length&&a.is(".element.hotspot")&&
m.call(C);window.setTimeout(function(){Ix=!1},300)}function g(){if(a.hasClass("svg")||a.hasClass("cutout")){var b=$("#cutoutMessage");0>=b.length&&(b=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(q.format("documentCutoutInFrameWarning")),b.appendTo("#content"));b.off("transitionend").removeClass("disappear");v=!1}else{var c=r.clone(!0);c.css("width","").css("height","");var d=$(this).data("canvaElement"),e=$(this).data("placeholderIndex");a.data("placedInElement",d).addClass("placing").addClass("draggedMediaOverHotspot");
var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.F(),h=h.V(),l=d.qf(e),c=new M(0,0,p?gp(p):parseInt(c.data("screenWidth"),10),p?Zi(p):parseInt(c.data("screenHeight"),10));oh(c,l).translate(-l.O(),-l.K());c={type:"image",index:e,mediaId:g,mediaVersion:h,origin:p?p.Kd():null,imageBox:c.serialize(),flipOrientation:p?p.Ya:0,mediaApproved:void 0===k?!0:k};A=d.mg(e);B=Up(d.ig(e));v=!0;g===A.mediaId?v=!1:(d.Kf(e,c),p&&(c=p.D(),g=c.data("selectionBox"),c=c.data("toolbar"),g&&
g.hide(),c&&c.addClass("hidden"),p.ig&&(b=Up(p.Kb()))),d=d.ig(e),d.remove(),Ot(d,b||Up(d)))}}function h(){x.read(k)}function k(){var b=a.offset();x.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.ig(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");v&&(b.Kf(c,A),d.remove(),Ot(d,B),p&&(c=p.D(),b=c.data("selectionBox"),c=c.data("toolbar"),b&&b.show(),c&&c.removeClass("hidden")))}function m(){if(a.data("li")&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),!a.hasClass("svg")&&!a.hasClass("cutout"))){var b=a.data("li").data("result"),c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Dk(d);c.Lx();Jx(c);var g={elementIndex:c.W(),pageIndex:S(t,c.U()),
placeholderIndex:d,"new":c.mg(d),old:A},h={elementIndex:c.W(),pageIndex:S(t,c.U()),placeholderIndex:d,"new":{filter:Up(c.ig(d))},old:{filter:B}},g=new U(by,g),h=new U(11,h);Qu();D.register(g);D.register(h);c.Ro=!0;c.Hh(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");w.remove();e.removeData("oldPlacement");p&&(p.Ga(a.data("startLeft")),p.Ha(a.data("startTop")),ox(p),p.remove(),p instanceof Qo&&c instanceof Ti&&0!=p.Ya&&setTimeout(function(){function a(c){c.target!=
l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);x=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(x);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",
n).addClass("disappear")}var l=$("#cutoutMessage");0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));l.off("transitionend").addClass("closeable").removeClass("disappear").text(q.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e').appendTo(c.U().D());var m=c.fa(),p=c.qf(d),r=m.K()+p.K()+p.C()/2,r=r*O,r=r-l.outerHeight()/2,m=m.O()+p.O()+p.A()/2,m=m*O,m=m-l.outerWidth()/2;l.css("top",r).css("left",m);$(document).on("mousedown",
a).on("mousemove",e);var x=0,v=setTimeout(k,1E4)},200));Ru();e=b.Kd();e!==Ud&&"GOOGLE"!==e||Nd(Aa,b,c.Di(d));pv(Oa,Bv(b))}}function n(){$(this).remove()}b=b||L(t);var q=vb(Ea),r=$("img",a),p=a.data("canvaElement"),v=!0,w=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),y=kr(b);w.css(y.serialize());var x=he();b.ha().forEach(function(a){if((a instanceof Ti||a instanceof To)&&!hp(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.fa();b.css(d.scale(O).round().serialize()).css("transform",
"rotate("+a.Ma().toString()+"deg)");for(var d=a.Ge(),e=0;e<d;e++){var k=a.qf(e);k.scale(O).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(w)}});w.appendTo("#content");b=Ja.xa[b.W()].$el;w.css("left",b.offset().left).css("top",b.offset().top);var A=null,B=null,C=null,E=null;if(!0===c){var J=[];$(document).on("touchmove",d).on("touchend",
e)}}
function mx(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:m,top:n,width:0,height:0},c=0;c<l.length;c++){var d=l[c];AB(a,d)&&!AB(b,d)?e.call(d.element):AB(b,d)&&!AB(a,d)&&g.call(d.element)}m=a.left;n=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.changedTouches[0].clientX,top:b.changedTouches[0].clientY,width:0,height:0},g=0;g<l.length;g++){var m=l[g];if(AB(e,m)){var n=$(".page",
k).index(m.element);$(m.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(n));h.call(m.element,b,a)}}}function e(){$(this).addClass("hover");$(this).data("page").addClass("hotspotHover");a.addClass("placing")}function g(){$(this).removeClass("hover");$(this).data("page").removeClass("hotspotHover");a.removeClass("placing")}function h(b,c){function d(a){var b;b=new wh({type:Go,id:l.id,version:l.version});oD(a,b);var c=new sj(t,a);Zy({um:Yy(c),Dm:t.za(),page:c});a=vh(new th(a.layout),
c.serialize());c={"new":a,old:E,pageIndex:C.W()};jy(C,a,l.previewUrl,b);D.register(new iy(4,c))}function e(a){return a.hg().U(m.pageIndex)}Q();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page"),h=$("#canvaDocument \x3e .inner \x3e .page").index(h);tj(t,h);var l=g.find("a").data("documentProperties"),m=g.find("a").data("pageTemplateRequest"),h=g.find("a").data("pageTemplateRequest"),n=g.find("a").data("pageTemplate"),C=L(t),E=C.bi();if(m)C.clear(),Ty(C,l.previewUrl),va.hg(hk(l.id)).then(e).then(d);
else if(h)C.clear(),$.getJSON(h.url,function(a){d(a.content.pages[0])});else if(n)d(n);else if(0<g.parents(".backgroundGallery").length)qx(a.data("li")),h=g.data("result"),pv(Oa,Bv(h));else if(0<g.parents(".templateGallery").length){var n=g.data("layoutItem"),J=g.data("designItem"),h=g.data("searchResult"),g=g.parents(".results").data("view");J?pD(g,J):n?qD(n):h&&rD(h)}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e');
k.css("left",parseInt($("#canvaDocument").css("left"),10)).css("top",-$("#canvaDocument").get(0).scrollTop).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){$(this).clone().data("page",$(this)).empty().appendTo(k)});if(b){var l=[],m=0,n=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();l.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",
k).mouseover(e).mouseout(g).mouseup(h)}
function dB(a){function b(){$("#overlays \x3e .mask").addClass("on");h.addClass("cropping");a.va();$(".cropControls img.uncropped").css("opacity",.5);$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 1)");np($(".cropControls"),a.Ma());$(".imageToolbar").hide()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.O(),c=a.K();a.Wg();$(".imageToolbar").show();b={elementIndex:a.W(),pageIndex:S(t,a.U()),placeholderIndex:a.nb(),"new":{placeholderBox:a.Ua().serialize(),
imageBox:a.Uc().serialize(),cropped:!0,left:a.O(),top:a.K()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof Qo,left:b,top:c}};D.register(new U(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ua();a.va();g()}function e(){a instanceof Qo?(l&&Ff(a,l),a.Ue(k),a.No=!1,h.removeClass("cropping")):(a.Ue(k),a.Wg());$(".imageToolbar").show();$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color",
"rgba(255, 255, 255, 0)");a.ua();a.va();g()}function g(){$("#content").off("click",".crop .confirmationToolbarOk a",d).off("click",".crop .confirmationToolbarCancel a",e);$(document).off("keydown",c)}if(a.Yf&&a.ir()){var h=a.D(),k=a.Uc(),l=a.Ua(),m=!!a.re;$("#content").on("click",".crop .confirmationToolbarOk a",d).on("click",".crop .confirmationToolbarCancel a",e);$(document).on("keydown",c);a.bo(a.nb(),b)}}function TC(){he().write(function(){$("#overlays .align").removeClass("on")})}
function me(a,b,c,d,e){function g(a){return a instanceof Y||a instanceof Gf?a.Ja()*O+a.U().$a():a.$a()}function h(a){return a instanceof Y||a instanceof Gf?a.ta()*O+a.U().fb():a.fb()}function k(a,c,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];Wd.slice(0).sort(b).forEach(function(e){c&&0==b(c.Xb[0],e)?(c.Xb.push(e),c.Ne=Math.min(c.Ne,e.Ne),c.Oe=Math.min(c.Oe,e.Oe),c.xf=Math.max(c.xf,e.xf),c.yf=Math.max(c.yf,e.yf)):d.push(c={Xb:[e],pos:a(e),Ne:e.Ne,Oe:e.Oe,xf:e.xf,yf:e.yf,aq:NaN})});
return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.aq<b.aq?a:b}function l(a,b,c){var d=Array.lowerBound(b,{pos:c-e},h),g=Array.upperBound(b,{pos:c+e},h);b=b.slice(d,g);b.forEach(function(a){a.aq=Math.abs(c-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={xn:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},r=a.Wb(),v=a.Ub(),w,T,W,Da,pb,ab,dd,ob;w=a.Ja();T=a.ta();W=a.tb();Da=a.cb();pb=a.Wb();ab=a.Ub();dd=w+pb/2;ob=T+ab/2;var Wd=c.map(function(a){var b=a.Ja(),c=a.tb(),d=(b+c)/2,e=a.ta(),
g=a.cb();return{object:a,Ne:b,Oe:e,Cn:d,Dn:(e+g)/2,xf:c,yf:g}});b.sf||(b.sf=!0,b.Ye={Ne:g(function(a){return a.Ne}),Cn:g(function(a){return a.Cn}),xf:g(function(a){return a.xf}),Oe:g(function(a){return a.Oe}),Dn:g(function(a){return a.Dn}),yf:g(function(a){return a.yf})});c=0;var ia=null;c=[];if(void 0===d||d.xn)if(ia=null,c=[],l(c,b.Ye.Ne,w),l(c,b.Ye.xf,w),ia=c.length&&c.reduce(k))for(m=ia.pos,q.xn=!0,c=0;c<ia.Xb.length;++c)p.push(ia.Xb[c].object);if(void 0===d||d.r)if(ia=null,c=[],l(c,b.Ye.Ne,W),
l(c,b.Ye.xf,W),ia=c.length&&c.reduce(k))for(m=ia.pos-pb,q.r=!0,c=0;c<ia.Xb.length;++c)p.push(ia.Xb[c].object);if(void 0===d||d.d)if(ia=null,c=[],l(c,b.Ye.Oe,T),l(c,b.Ye.yf,T),ia=c.length&&c.reduce(k))for(n=ia.pos,q.t=!0,c=0;c<ia.Xb.length;++c)p.push(ia.Xb[c].object);if(void 0===d||d.JH)if(ia=null,c=[],l(c,b.Ye.Oe,Da),l(c,b.Ye.yf,Da),ia=c.length&&c.reduce(k))for(n=ia.pos-ab,q.b=!0,c=0;c<ia.Xb.length;++c)p.push(ia.Xb[c].object);(function(){var c=null,c=[];l(c,b.Ye.Cn,dd);if(c=c.length&&c.reduce(k)){m=
c.pos-pb/2;q.cy=!0;for(var e=0;e<c.Xb.length;++e)p.push(c.Xb[e].object);var g=(e=d&&d.Ne)?a.tb():a.Ja();r=2*Math.abs(c.Cn-g);e&&(m-=(r-pb)/2)}})();(function(){var a=null,a=[];l(a,b.Ye.Dn,ob);if(a=a.length&&a.reduce(k)){n=a.pos-ab/2;q.cx=!0;for(var c=0;c<a.Xb.length;++c)p.push(a.Xb[c].object);c=d&&d.Oe;v=2*Math.abs(a.Dn-(c?Da:T));c&&(n-=(v-ab)/2)}})();w=a.O()-a.Ja();W=a.K()-a.ta();null!==m&&m>a.O()?m+=w:null!==m&&m<a.O()&&(m+=w);null!==n&&n>a.K()?n+=W:null!==n&&n<a.K()&&(n+=W);null!==m&&0===Math.round(10*
m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{Mh:m,Nh:n,KI:r,JI:v,Of:p,$h:q}}void 0===e&&(e=!0);var l=a.Ja(),m=a.ta();e=k(a,c,5);void 0!==d&&null!=e.Mh&&null!=e.Nh&&(Math.abs(l-e.Mh)>Math.abs(m-e.Nh)?e.Nh=null:e.Mh=null);null!=e.Mh&&(!a.Ma()&&1===e.Of.length&&!e.Of[0].Ma()&&5>Math.abs(e.Of[0].O()-a.O())?!d&&a.Ga(e.Of[0].O()):!d&&a.Ga(e.Mh));null!=e.Nh&&(!a.Ma()&&1===e.Of.length&&!e.Of[0].Ma()&&5>Math.abs(e.Of[0].K()-a.K())?!d&&a.Ha(e.Of[0].K()):!d&&a.Ha(e.Nh));if(null!=e.Mh||null!=
e.Nh)e=k(a,c,1);TC();c=e.Of;if(null!=e.Mh){var l=Array.max(c.map(function(a){return a.cb()}).concat(a.cb())),m=Array.min(c.map(function(a){return a.ta()}).concat(a.ta())),n=Math.abs(l-m)*O,q=Array.min(c.map(function(a){return h(a)}).concat(h(a))),r=[];e.$h.xn&&r.push(g(a)-1);e.$h.r&&r.push(g(a)+a.Wb()*O);e.$h.cy&&r.push(g(a)+a.Wb()/2*O);he().write(function(){r.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(q)).css("left",Math.round(a)).css("height",
Math.round(n))})})}if(null!=e.Nh){var l=Array.max(c.map(function(a){return a.tb()}).concat(a.tb())),m=Array.min(c.map(function(a){return a.Ja()}).concat(a.Ja())),p=Math.abs(l-m)*O,v=Array.min(c.map(function(a){return g(a)}).concat(g(a))),w=[];e.$h.t&&w.push(h(a)-1);e.$h.b&&w.push(h(a)+a.Ub()*O);e.$h.cx&&w.push(h(a)+a.Ub()/2*O);he().write(function(){w.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",Math.round(a)).css("left",Math.round(v)).css("width",Math.round(p))})})}}
function le(a){var b=[];void 0!==a&&(a instanceof Y?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?L(t):b[0].U();a=c.ha();a=a.filter(function(a){return-1==b.indexOf(a)&&!a.ib()});a.push(c);var d=[];Ka&&Ka()&&(d=gA());c=iA(c)||[];return a.concat(d).concat(c)}
function BC(){var a=$("#objectPanel"),b=1===a.find(".uploads.on").length;$("#dropZone").addClass("on");$(".mask").last().addClass("on");b||(a.data("previousStage",$("menu \x3e li.on",a).index()),a.children("menu").find(".uploads a").click())}function CC(a){a.preventDefault();a.dataTransfer.dropEffect="copy"}function EC(){FC()}
function FC(){function a(){$(this).removeClass("on off")}$("#dropZone").addClass("off").delay(300,a);$(".mask").last().addClass("off").delay(300,a);var b=$("#objectPanel"),c=b.data("previousStage");null!=c&&c!=$("#objectPanel \x3e menu .uploads").index()&&b.children("menu").find("a").click();b.removeData("previousStage")}
function DC(a){function b(){$(this).removeClass("on off")}a.preventDefault();a.stopPropagation();$("#dropZone").addClass("off").delay(300,b);$(".mask").last().addClass("off").delay(300,b);$("#objectPanel").removeData("previousStage");void 0!==a&&Tw(a);return!1}function Vx(){$("body").addClass("blockDocument");Q();$("#search").blur()}function Vu(a,b){var c=a.Ce();c&&dr(a,c+105*b/2);c={elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{borderWidth:a.Ce()},old:{borderWidth:c}};D.register(new U(Wi,c))}
function Wu(a,b){var c=a.spacing,d=c+5*b;0<=d&&50>=d&&(lr(a,d),c={elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{spacing:a.spacing},old:{spacing:c}},D.register(new U(Wi,c)))}function Uu(a){var b=a.Ce();b?dr(a,0):dr(a,105);a={elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{borderWidth:a.Ce()},old:{borderWidth:b}};D.register(new U(Wi,a))}
function Yu(a,b){function c(){a.Uu&&a.Uu()}function d(){a.mw&&a.mw()}function e(){a.gy&&a.gy(0)}var g=a.Fa(a.eb());0===An(g)&&(1===b?nD(d):-1===b?nD(c):0===b&&nD(e),Tn(g,!0))}function ZC(a,b){a.forEach(function(a){a.Ec=b})};function sD(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function tD(a,b,c){return uD(sD(a,"view",Jk(u)),a,b,c)}function uD(a,b,c,d){return b&&d&&c?a+(-1!=a.indexOf("?")?"":"?")+"\x26utm_content\x3d"+encodeURIComponent(b)+"\x26utm_campaign\x3d"+encodeURIComponent("designshare")+"\x26utm_medium\x3d"+encodeURIComponent(d)+"\x26utm_source\x3d"+encodeURIComponent(c):a};function vD(){}vD=Backbone.View.extend({className:"switch"});f=vD.prototype;f.events=function(){return{"blur input":this.Tr,"change input":this.aD,dragstart:this.qh,"focus input":this.Vr,mousedown:this.rh}};f.initialize=function(a){a=_.defaults({},a,{Fn:null,on:!1,fl:null});this.Fn=a.Fn;this.ci=void 0===a.ci||!!a.ci;this.Gn=this.Gn.bind(this);this.Hn=this.Hn.bind(this);this.fl=a.fl;this.$r=a.on};function wD(a){return!!a.input.prop("checked")}f.Tr=function(){this.$el.removeClass("switchFocused")};
f.aD=function(){var a=wD(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.Gn=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=wD(this)&&a.pageX<b;a=!wD(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),xD(this),this.toggle()};f.Hn=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.ci&&this.toggle());this.handle.removeClass("switchHandlePressed");xD(this)};f.qh=function(a){a.preventDefault()};f.Vr=function(){this.$el.addClass("switchFocused")};
f.rh=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.Gn),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.Hn)};f.remove=function(){Backbone.View.prototype.remove.call(this);xD(this)};function xD(a){$(document).off({mousemove:a.Gn,mouseup:a.Hn})}
f.render=function(){var a;this.$r?(a=this.$r,delete this.$r):a=!(!this.input||!this.input.prop("checked"));this.$el.html(this.template(this.Ra()));this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};f.Ra=function(){return{offLabel:this.Fn,onLabel:this.fl}};f.template=_.template('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e\x3c%- onLabel %\x3e\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% if (offLabel) { %\x3e\x3cdiv class\x3d"switchLabelOffSpacer"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function yD(){}yD=Backbone.View.extend({className:"tabPointer"});yD.NI=function(a){var b=new yD({Ko:a.Ko,Nj:a.Nj,style:a.style});b.listenTo(a.Nf,{change:b.update,update:function(){b.update(zD(a.Nf),!1)}});b.update(zD(a.Nf));return b};yD.Zl=20;yD.prototype.initialize=function(a){this.sf=!1;this.Ko=a.Ko;this.Nj=!!a.Nj;this.style=a.style||"arrow";this.$el.toggleClass("tabPointerVertical",this.Nj);this.$el.addClass(this.style)};yD.prototype.Vh=function(a){this.$el.toggleClass("tabPointerHidden",a)};
yD.prototype.update=function(a,b,c){var d=this;(function(a){d.sf&&!1!==b||d.$el.addClass("doNotTransition");a();d.sf&&!1!==b||(d.$el.forceLayout(),d.$el.removeClass("doNotTransition"))})(function(){var b=d.Ko.children("li");c||(b=b.not(".noTab"));b=b.eq(a);if("arrow"===d.style){var g=b.offsetParent().offset(),h=b.position(),k=b.width(),l=b.height(),m=d.$el.offsetParent().offset(),n=g.top-m.top,g=g.left-m.left;b.length&&(d.Nj?(b=Math.round(h.top+n+(l-yD.Zl)/2),d.$el.css("transform","translateY("+b+
"px)")):(b=Math.round(h.left+g+(k-yD.Zl)/2),d.$el.css("transform","translateX("+b+"px)")))}else"rectangle"===d.style&&(k=b.children("a"),l=parseInt(k.css("marginLeft"),10)?0:yD.Zl/2,b.length&&(d.Nj?(h=Math.round(k.position().top),d.$el.css("transform","translate3d( -"+l+"px, "+h+"px, 0px)"),d.$el.css("height",k.height())):(h=Math.round(k.position().left-l),d.$el.css("transform","translateX("+h+"px)"),d.$el.css("height",k.height()-yD.Zl)),d.$el.css("width",b.width()+l)))});this.sf=!0};function AD(){}AD=Backbone.View.extend({className:"tabList",tagName:"menu"});AD.MI=function(a){var b=window.location.href,c=new AD({el:a.el});0>b.indexOf("#")?c.select(a.OI||0):c.select(Math.max(0,BD(c,b)));return c};AD.prototype.events=function(){return{"click li:not(.noTab):not(.on) a":this.cF}};AD.prototype.select=function(a){var b=CD(this);b.removeClass("on");-1<a&&a<b.length&&b.eq(a).addClass("on");this.trigger("change",a)};function zD(a){a=CD(a);var b=a.filter(".on");return a.index(b)}
function BD(a,b){var c=CD(a).find("a").toArray().map(function(a){return a.href}),d;c.some(function(a){var c=a.lastIndexOf(b);if(-1!==c&&c===a.length-b.length)return d=a,!0});return c.indexOf(d)}function CD(a){return a.$el.children("li:not(.noTab)")}AD.prototype.cF=function(a){var b=CD(this);a=$(a.target).closest("li");b=b.index(a);this.select(b)};function DD(a){this.Tp=-1;this.qe=a.qe;this.la=a.la;this.Bt=void 0===a.Bt?0:a.Bt;this.Nf=a.Nf}f=DD.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.init=function(){var a=this.qe.children(".tab"),b=this.Nf?Math.max(0,zD(this.Nf)):this.Bt;a.addClass("doNotTransition");this.ny(b);yf(function(){a.removeClass("doNotTransition")});this.Nf&&this.listenTo(this.Nf,"change",this.ny);return this};f.remove=function(){this.stopListening();this.trigger("remove")};
f.ny=function(a){var b=this,c=this.qe.children(".tab");a===this.Tp?this.trigger("refresh",ED(this)):0>a||a>=c.length||(this.qe.addClass("tabStageTransitioning"),this.qe.one("webkitTransitionEnd msTransitionEnd transitionend",function(){b.qe.removeClass("tabStageTransitioning")}),c.each(function(c){var e=c===a;b.qe.toggleClass("stage"+(c+1),e);e&&(b.Tp=c,FD(b))}),this.trigger("change",ED(this),a))};
function FD(a){var b=ED(a);b.css("height","");yf(function(){this.qe.css("height",b.outerHeight())}.bind(a))}function ED(a){return a.qe.children(".tab").eq(a.Tp)};function Zy(a){function b(a){a.translate(-g.O(),-g.K());kh(a,r,p,q);a.translate(y,x)}var c=a.page,d=c.fa(),e=a.Dm.fa(),g=a.um||d;a=g.A();var h=g.C(),k=e.A(),l=e.C(),m=k/a,n=l/h,q=Math.min(m,n),r=a/2,p=h/2,v=k/2,w=l/2,y=v-r,x=w-p;c.ha().forEach(function(a){if(!a.Qd&&!hp(a)){var c;if(a instanceof To&&1===a.Ge()){var g=a.spacing;c=a.fa();g=hr(d.A(),d.C(),g,!1);c=ph(c,g)}else c=a instanceof Qo?Rp(a)&&a.ib():!1;if(c)a instanceof To?a.xb(hr(k,l,a.spacing,!1)):a.xb(e.clone());else{if(a.ib()){c=a.fa();g=
1;b(c);if(m<n)var g=c.K(),h=l-c.qa(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.O(),h=k-c.Va(),g=k/(k-2*Math.max(0,g,h)));1<g&&kh(c,v,w,g)}else c=a.fa(),a instanceof Mj&&(g=q*a.nc(0),a.Vk()?a.Dc(0,g):(a.Ke(),a.Dc(0,g),a.St())),b(c);a.xb(c)}}});c.da(k);c.ca(l);return oe(g.clone(),e)};function GD(){}GD=Backbone.View.extend({className:"tileListBusyIndicator"});f=GD.prototype;f.initialize=function(){this.transitionDelay=-1;this.Mo=0};f.hide=function(){HD(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function HD(a,b){0!=a.Mo&&(window.clearTimeout(a.Mo),a.Mo=0);0<=a.transitionDelay?a.Mo=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){HD(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function ID(a){this.bf=a.bf||"";this.Nc=a.Nc;this.$el=$("\x3cdiv\x3e").addClass("masonryLayout")}f=ID.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.add=function(a,b){function c(){return _.min(_.range(d.length),function(a){return d[a]})}var d,e;this.Y||JD(this,this.De());d=this.Y.get().map(this.C,this);this.Y.eq(0).append(a);e=a.get().map(this.C,this);a.each(function(a,h){var k=c();d[k]+=e[a];b?this.Y.eq(k).prepend(h):this.Y.eq(k).append(h)}.bind(this))};
function KD(a,b){var c=a.De();if(void 0!==b.Y){if(b.Y.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.Y||JD(a,c);a.Y.each(function(a,c){b.Y.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.Y||!this.Y.children().filter(a).length)};function JD(a,b){var c="masonryLayoutColumn "+a.bf;a.Y=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.Y.appendTo(a.$el)}
f.Eq=function(a){var b=this.$el.width()/this.De();return Math.floor(a/b)*this.De()+this.De()};f.De=function(){var a;"function"===typeof this.Nc?(a=this.$el.width(),a=this.Nc(a)):a=this.Nc;return Math.max(a,1)};f.C=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};
f.nd=function(){var a;a=this.Y.children().get();a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};f.Ai=function(a){function b(a){return a.offsetHeight+a.offsetTop}var c;if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");c=b(a[0]);return $(this.Y.children().get().filter(function(a){return b(a)>c}))};f.He=function(){var a;return this.Y?(a=_.min(this.Y.get(),this.C,this),$(a)):null};
f.isEmpty=function(){return!(this.Y&&this.Y.children().length)};f.push=function(a){this.add(a)};f.ua=function(){var a=this.De();this.Y&&a!==this.Y.length&&(a=this.nd().detach(),this.Y&&this.Y.remove(),this.Y=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.Y&&this.Y.children().filter(a).remove()};
f.split=function(a){var b,c;if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");b=this.Ai(a);if(0===b.length)return null;c=new ID({bf:this.bf,Nc:this.Nc});JD(c,this.Y.length);this.Y.each(function(a,e){var g=$(e).children().filter(b);c.Y.eq(a).append(g)});return c};f.unshift=function(a){this.add(a,!0)};function LD(a){this.children=[];this.bf=a.bf;this.Nc=a.Nc;this.$el=$("\x3cdiv\x3e")}f=LD.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function MD(a){return new ID({bf:a.bf,Nc:a.Nc})}f.Eq=function(a){var b=this.$el.width()/this.De();return Math.ceil(a/b)*this.De()+this.De()};f.De=function(){var a;"function"===typeof this.Nc?(a=this.$el.width(),a=this.Nc(a)):a=this.Nc;return Math.max(a,1)};
f.nd=function(){var a=[];this.children.forEach(function(b){b instanceof ID?a=a.concat(b.nd().get()):a.push(b)});return $(a)};function ND(a,b){return OD(a).filter(function(a){return a.contains(b)})[0]||null}function OD(a){return a.children.filter(function(a){return a instanceof ID})}f.He=function(){var a=OD(this).slice(-1)[0];return a&&a.He()||null};
function PD(a,b,c){var d,e;d=ND(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.Ai(b).length&&(a.trigger("beforeSplit",d.Y),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.Y,b.Y))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof ID)){var b;b=MD(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.ua=function(){function a(){b=!0}var b=!1;OD(this).forEach(function(b){b.on("redraw",a);b.ua();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof ID?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function QD(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof ID&&e instanceof ID&&(a.trigger("beforeMerge",e.Y,d.Y),KD(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof ID)){var b;b=MD(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function RD(a){this.dg=a;this.BB=$.isWindow(this.dg[0]);this.Zv=_.throttle(this.dispatchEvent.bind(this),200)}f=RD.prototype;f.zn=function(){this.stopListening();this.dg.on("scroll",this.Zv)};f.stopListening=function(){this.dg.off("scroll",this.Zv)};
function SD(a,b,c){c=_.defaults({},c,{or:!1});var d=b.offset().top;c=c.or?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.BB?a.dg.scrollTop():a.dg.offset().top+parseInt(a.dg.css("border-top-width"),10);a=a.dg.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function Dx(){}
Dx=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),xG:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cp class\x3d"price" title\x3d"title"\x3e\x3c%- price %\x3e\x3c/p\x3e\x3cp class\x3d"id"\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3eID: \x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% if (hasKeywords) { %\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),ZA:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle"\x3e\x3c%- count %\x3e layouts\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
UC:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3c%- count %\x3e layouts \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),UH:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
Op:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),wC:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',void 0,{variable:"keyword"})});
f=Dx.prototype;f.initialize=function(a){this.B=a.B;this.R=tb(a.B);this.title=a.title||this.model.Ka&&this.model.Ka()||bc(this.R);this.document=null;this.yb=a.yb;this.Cr=a.Cr;this.Zd=a.Zd;this.Ar=a.Ar;this.sr=a.sr;this.Br=a.Br;this.bs=a.bs;this.bb=a.bb;this.nh=a.nh;this.Wf=new Map};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.kB,"click .componentLayouts .componentItem a":this.Mz,"click .brandInfo a":this.rG,"click .mediaKeyword":this.vG,"click .removeUpload":this.TF,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:$b(this.R)}));if(this.Cr)this.$el.html(this.UH({title:this.title||bc(this.R),id:this.model.F(),version:this.model.V(),isUnapproved:this.Br,close:$b(this.R),closeThisInfoPanel:ac(this.R),uploadError:this.R.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.R.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.R.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.R.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.R.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.R.format("objectPanelInfoDelete")}));else if(this.sr)this.$el.html(this.ZA({title:this.title,count:this.model.nf().pageCount,hasComponentDesignPages:this.bw(),close:$b(this.R),closeThisInfoPanel:ac(this.R)})),this.bw()&&TD(this);else if(this.Zd)this.$el.html(this.UC({title:this.title,count:this.model.pf(),close:$b(this.R),closeThisInfoPanel:ac(this.R)})),tv(this.model)&&0<this.model.pf()&&UD(this);else if(this.Ar){this.$el.html(this.xG({title:this.title,
id:this.model.F(),url:"/media/"+encodeURIComponent(this.model.F()),price:VD(this),hasComponentMedia:this.dr(),hasKeywords:this.cw(),close:$b(this.R)}));if(this.cw()){var a=this.model.ih().map(this.wC).join(", ");this.$(".keywords").html("Keywords: "+a)}this.dr()&&WD(this);this.model.ma&&this.model.ma()&&XD(this)}return this};
function WD(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;v.removeClass("fetchingComponentItem");v.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&YD(c)}if(200===a){var e=0,g=b.ia().Lb()[Np],p=Jr(b.ia());p&&(e=100*Jr(b.ia()).ONE_USE||0);var v=$(c.Op({url:"/media/"+b.F(),id:b.F(),hasPrice:p,price:ZD(c,e)}));c.$(".componentMedia").append(v);$("\x3cimg/\x3e").attr("src",g.aa()).one("load",d)}}var c=a,d=a.model.Sq(),e=Math.ceil(d.length/3),g=.21*
$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;$D(c);a.css("height",e*g+"px");d.forEach(function(a){ya.Qa(a.F(),(new Wp).Sd(a.V()),b)})}function aE(a,b){function c(a){e.resolve(a)}var d=$.Deferred(),e=$.Deferred();za.ma(a.model.ma()).then(d.resolve.bind(d)).catch(d.resolve.bind(d,null));"DESIGN"==a.model.type&&a.model.hb&&a.model.hb()?za.hb(a.model.hb()).then(c):e.resolve();$.when(d,e).done(b)}
function XD(a){aE(a,function(b,c){var d="DESIGN"==a.model.type?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.mc()||b.brandname||"Brand "+b.F();c?b.personal?d.text(b.mc()||b.brandname||c.mc()||c.ln()):d.text((c.mc()||c.ln())+" from "+e):d.text(e)}else d.text(this.R.format("objectPanelInfoUnknownBrand"));a.$(".brandInfo .brand").text("by ").append(d).addClass("on");a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function UD(a){function b(a){var b=d.model.getFile(Np,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.Op({url:"#",id:a,hasPrice:!1}));b&&(c=b.url);d.$(".componentLayouts").append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();l++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");l>=m&&YD(d)})}function c(a,b){var c=qq(b.media).filter(Boolean)||[];0<c.length&&(c=Tr(new Sr,c).iu(),wr(ya,c,function(b,
c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(Jr(b.ia()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')}))}var d=a,e=a.model.pf(),g=Math.ceil(e/2),h=.31*$(".infoPanelGallery").width()+20,k=a.$(".componentLayouts"),l=0,m=e;$D(a);XD(a);k.css("height",g*h+"px");sv(a.model).sort().forEach(function(a){b(a);bE(d,a,function(b){c(a,b)})})}
function TD(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var h=$(c.Op({url:"#",id:a,hasPrice:!1}));h.toggleClass("componentItemThumbnailUpdating",!b||g);c.$(".componentLayouts").append(h);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();m++;h.removeClass("fetchingComponentItem");h.find(".componentItemLink").css("background-image","url("+a+")");m>=n&&YD(c)})}var c=a,d=a.model.nf().imageSets.thumbnail,e=d.images,
g=a.model.V()>d.version,d=a.model.nf().pageCount,h=Math.ceil(d/2),k=.31*$(".infoPanelGallery").width()+20,l=a.$(".componentLayouts"),m=0,n=d;$D(a);l.css("height",h*k+"px");for(a=0;a<d;a++)b(a)}function $D(a){a.$el.addClass("infoPanelLoading")}function YD(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},300)}f.cw=function(){return this.model.ih&&0<(this.model.ih()||[]).length};f.bw=function(){return this.model.nf&&1<this.model.nf().pageCount};
f.dr=function(){return this.model.Sq&&0<(this.model.Sq()||[]).length};function ZD(a,b){return null===b?a.R.format("objectPanelInfoPriceUnavailable"):0===b?a.R.format("objectPanelInfoFree"):a.R.format("objectPanelInfoPrice",(b/100).toFixed(0))}function VD(a){var b=rv(a.model);a.dr()&&(b=a.model.oneTimeUseAggregatePriceCents);return ZD(a,b)}f.close=function(){Fx.call(this.$(".close").get(0))};f.rG=function(){$("#search").val("brand:"+this.model.ma());Z=null;Qw(this.B)};
f.vG=function(a){$("#search").val(a.currentTarget.textContent);Z=null;Qw(this.B)};f.TF=function(a){this.close(a);a=(new Ar).ke(this.model.F()).Sd(this.model.V()).Qf(!0);yr(ya,a,this.bs)};f.Yq=function(a){var b;if(!(this.model instanceof yk))throw Error("attempted to get a page from a non-design");b=this.model.U(a);!b&&this.document&&(b=this.document.U(a));b?this.bb&&this.nh&&(a={},a[this.nh.kf()]="#"+this.bb,b=cE(null,b,a)):b=null;return b};
function bE(a,b,c){var d=a.model.getFile("ORIGINAL",b).aa();$.getJSON(d,function(d){a.Wf.set(b,d);c&&c(d)})}function dE(a,b){var c=a.Wf.get(b);if(c)return c.content.pages[0]}function eE(a){return a.yb.hg(hk(a.model.F())).then(function(a){return this.document=a.hg()}.bind(a))}
f.Mz=function(a){function b(a){var b;c.model instanceof yk&&(b=new wh({type:Go,id:c.model.F(),version:c.model.V()}),oD(a,b));var d=new sj(t,a);Zy({um:Yy(d),Dm:t.za(),page:d});a=vh(new th(a.layout),d.serialize());d={"new":a,old:h,pageIndex:e.W()};jy(e,a,g,b);D.register(new iy(4,d))}var c=this;a=parseInt(a.currentTarget.textContent,10);var d=this.Zd?dE(this,a):this.Yq(a),e=L(t),g=this.model instanceof yk?Ak(this.model,a):this.model.ng(),h=e.bi();d?b(d):(e.clear(),g&&Ty(e,g),this.Zd?bE(this,a,b):eE(this).then(this.Yq.bind(this,
a)).then(b.bind(this)))};
f.kB=function(a){var b,c,d,e,g=parseInt($(a.currentTarget).text(),10),h={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.Zd?(b=dE(this,g),e={url:this.model.getFile(Np,g).aa()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[e||h]}}}}):(b=this.Yq(g),c=$.extend(!0,{},this.model),e=c.draft.imageSets.thumbnail.images[g],c.draft.imageSets.thumbnail.images[0]=e||h,d=this.model instanceof yk?Ak(this.model,g):this.model.ng());b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},
b),b={pageTemplate:b}):b=this.Zd?{cdfRequest:{url:this.model.getFile("ORIGINAL",g).aa()}}:{pageTemplateRequest:{pageIndex:g}};b.documentProperties={id:this.model.F(),version:this.model.V(),previewUrl:d};c=fE.Gv(fk(c),tb(this.B));c.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));$(a.currentTarget).parents("li").data("view",c);return Lw.call(a.currentTarget,a)};function fE(){}fE=Backbone.View.extend({});fE.qH=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();
fE.Gv=function(a,b){if(a instanceof qv)return"DESIGN"===a.type&&fE.qH(function(){a.lg()}),new mz({model:a,R:b});if(a instanceof qt)return new gE({model:a});if(a instanceof yk)return new hE({model:a});if("string"===typeof a&&-1<_.keys(sh).indexOf(a))return new iE({model:a});throw new TypeError("Unknown galleryObject type: "+typeof a);};f=fE.prototype;f.ta=function(){return this.$el.offset().top};f.cb=function(){return this.ta()+this.$el.height()};
f.yi=function(){return parseInt(this.$el.css("left"),10)+this.$el.width()/2};f.dd=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};function jE(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
f.hk=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function iE(){}iE=fE.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});iE.prototype.initialize=function(a){this.Xv=this.model;this.ZB=sh[this.Xv];!a.el&&this.render();this.$el.data("view",this)};iE.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.Xv);this.$("a").append(gr(this.ZB.items));return this};function gE(){}gE=fE.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),$B:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});gE.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
gE.prototype.render=function(){var a=this,b=this.model.mf();rt(this.model)?(this.$el.addClass("grid").html(this.$B(this.model)),this.$("a").append(gr(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
gE.prototype.hk=function(){var a=fE.prototype.hk.call(this),b=a.children().first();a.addClass("template");rt(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function hE(){}hE=gE.extend({className:"designGalleryItem newSearch loading",tagName:"li"});hE.prototype.initialize=function(){this.render()};hE.prototype.render=function(){var a=this.model.draft,b=this;this.$el.data({designItem:this.model,view:this});this.$el.html(this.template({pageCount:a.pageCount,name:a.content.title,thumbnail:zk(b.model)}));this.$el.toggleClass("designItemThumbnailUpdating",kE(this));this.$("img").on("load",function(){b.$el.removeClass("loading")});return this};
function kE(a){var b;try{b=a.model.nf().imageSets.thumbnail.version}catch(c){b=-1}return a.model.V()>b}hE.prototype.hk=function(){var a,b,c;a=fE.prototype.hk.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};hE.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function mz(){}mz=fE.extend();f=mz.prototype;f.initialize=function(a){this.ag=new qe(window.viewConfig);this.query=a.query;this.R=a.R;this.render()};f.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};f.Zd=function(){return tv(this.model)};
f.createElement=function(){function a(){var a="";if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase(),a=c.model.ar(),e=!1;if(a)for(var h=0;h<a.length;h++)if(a[h].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";g.data("superKeywordAdd",!e);g.data("query",b);d.append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),d=c.model.getFile(Np,0);a.css("background-image","url("+d+")");b.text(String(c.model.pf()));g.find("a \x3e *").wrapAll(a);g.find(".multiPageLayoutItem").append(b)}var c=this,d,e,g=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),h=this.model.getFile(Np),k=this.model.getFile(Vd),l=this.R.format("objectPanelSearchResultItemViewShowMoreInfo");(function(){var a=$("img",g);zp(Ap,a,h.aa()).then(function(){g.removeClass("loading")}).catch(function(){var a=
c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});a.data("screen-url",k.aa()).data("screen-width",k.A()).data("screen-height",k.C()).attr("width",h.A()).attr("height",h.C());c.model.type===Rd&&(c.model.$q()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=rv(c.model),b=(a/100).toFixed(0)+" USD",h=c.model.oneTimeUseAggregatePriceCents,
a=null===a?"":0===a?c.R.format("objectPanelMediaItemCostFree"):"$"+b;(h=!!h)&&(a='\x3cspan class\x3d"inner"\x3e$\x3c/span\x3e');d=$(c.qC({priceHtml:a,priceCategory:h?"poa":"",showMoreInfo:l}));e=$('\x3cspan class\x3d"price '+(h?"poa":"free")+'"\x3e'+a+"\x3c/span\x3e");$("a",g).append(e).append(d)})();c.Zd()&&(b(),$(".info",g).remove());"CANVA"!==c.model.Kd()&&$(".info",g).remove();c.model.restricted||c.model.status==Cr||($(".info",g).remove(),$(".price",g).remove(),$("img",g).addClass("inMarketplaceReview"));
this.ag.Jg.get("quickKeywordEditEnabled",void 0)&&a();return g};f.qC=_.template('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"price \x3c%\x3d priceCategory %\x3e"\x3e\x3c%\x3d priceHtml %\x3e\x3c/span\x3e\x3cspan class\x3d"moreInfo" title\x3d"\x3c%- showMoreInfo %\x3e"\x3ei\x3c/span\x3e\x3c/span\x3e');function lE(){}lE=Backbone.View.extend({className:"searchGroup"});f=lE.prototype;f.initialize=function(a){this.wk=a.wk;this.Hv=[];this.qj=a.model;this.listenTo(this.qj,{"results:willFetch":this.Xh,"results:didFetch":this.ff,"results:clear":this.gA});this.B=a.B;this.Ps=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.qj.Ka()}));this.$(".gallery").addClass(this.wk);""===this.qj.Ka()&&this.$("h2").remove();return this};f.Xh=function(){};
f.ff=function(a,b,c){function d(a){return fE.Gv(a,n)}function e(a){a.$el.appendTo(m)}function g(a){return a instanceof qv&&"DESIGN"===a.type}function h(a){return a instanceof iE}function k(a){return a instanceof gE}function l(){m.addClass("templateGallery").removeClass("photoGallery")}var m,n=tb(this.B);c||(m=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(a=b.map(d),a.forEach(e),a.some(h)&&m.addClass("gridGallery").removeClass("photoGallery"),a.some(k)&&l(),b.some(g)&&l(),this.Hv=
this.Hv.concat(a),this.ba(),this.trigger("results:render")):0===this.qj.ce.length&&(m.remove(),this.$(".noResults").remove(),this.$el.append(this.mi({noResultsMessage:cc(n),noDesignsMessage:n.format("objectPanelSearchNoDesigns")}))))};f.gA=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ba=function(){qn(this.$(".gallery"),!1)};f.compact=function(){rn(this.$el,!0)};
f.ca=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function mE(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.Ai=function(a){var b=a.cb();return a.$el.nextAll().toArray().filter(function(a){return $(a).offset().top>=b}).map(function(a){return $(a).data("view")})};
function nE(a,b){var c=a.Ai(b);if(0===c.length)return 0;var d=c.slice(0).sort(function(a,b){return a.ta()-b.ta()}),c=c.slice(0).sort(function(a,b){return b.cb()-a.cb()}),d=d[0];return c[0].cb()-d.ta()}function oE(a){return a.$el.outerHeight(!0)-a.$el.height()}f.qk=function(){};f.Lu=function(){};f.mi=_.template('\x3cp class\x3d"noResults"\x3e\x3c%- noResultsMessage %\x3e\x3c/p\x3e');f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function pE(){}pE=lE.extend();pE.prototype.initialize=function(a){this.B=a.B;lE.prototype.initialize.call(this,a)};pE.prototype.mi=_.template('\x3cp class\x3d"noResults noDesignResults"\x3e\x3c%\x3d noDesignsMessage %\x3e\x3c/p\x3e');function qE(){}qE=lE.extend({});qE.prototype.initialize=function(a){this.zj=null;this.sv=0;lE.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new fE({el:this});$(this).data("view",a)})};
qE.prototype.qk=function(a,b){var c=a.$el,d=this.Ai(a),e=c.height(),e=c.data("originalTop")+e,g=rE(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){jE(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){jE(a,b,!1)})},300);this.ca(e,!0);this.sv=b;null===this.zj&&(c=nE(this,a),e=this.$el.next(),this.zj=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.zj.css("height",c).insertAfter(e))};
qE.prototype.Lu=function(a){var b=this.Ai(a),c=this.sv-rE(this);0<c&&b.forEach(function(a){a.dd(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){jE(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.zj&&d.zj.remove();d.zj=null},360)};function rE(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0),d=a.$el.position().top;return c-(d+b)};function sE(){}sE=lE.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});sE.Vj=150;f=sE.prototype;f.initialize=function(a){this.model=a.model;this.Je=null;lE.prototype.initialize.apply(this,arguments);this.render();this.ca(0,!1)};
f.remove=function(){function a(){lE.prototype.remove.apply(b,arguments);b.Ps=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.Ps=!0;d&&c.trigger("click");if(this.Je)this.Je.css("opacity",0).one("transitionend",function(){$(this).remove();b.Je=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){mE(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.Xh=function(){0===this.qj.ce.length&&cx(this.$el);lE.prototype.Xh.apply(this,arguments)};f.ff=function(a,b,c){lx(this.$el);lE.prototype.ff.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},300)};f.compact=function(){if(0!==this.model.ce.length){var a=this;lE.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<sE.Vj&&a.ca(sE.Vj,!0)},300)}};
function tE(a){if(null===a.Je){var b=a.$el.parents(".layer");a.Je=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.qj.Ka())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.Je.css("opacity",0).insertAfter(b).delay(20,function(){$(this).css("opacity","")});a.Je.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function uE(a){if(null!==a.Je){var b=a.Je;a.Je=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function vE(){}vE=Backbone.View.extend({tagName:"section",className:"layer"});vE.Vg=function(a,b){return new lE({model:a,wk:"infoPanelGallery photoGallery",B:b})};f=vE.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.B=a.B;this.El=this.model=a.model;this.wb=[];this.qo=[];this.Vg=a.Vg||vE.Vg;this.qr=!1;this.listenTo(this.El,"searchGroup:add",this.zd);this.listenTo(this.El,"searchGroup:remove",this.zl);this.listenTo(this.El,"results:willFetch",this.Xh);this.listenTo(this.El,"results:didFetch",this.ff);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.wb.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.wb.filter(function(a){return a.Ps}).length||this.qn()};
f.qn=function(){var a=this.$el.parent(),b=this.wb[this.wb.length-1],c=pz(this.El);if(0!==a.length&&b&&c&&!this.qr){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};he(this).read(function(){if(c.Wi&&d()<=.33*a.outerHeight()){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;500<b&&he(this).write(function(){Px(this.$el,b-500)});this.qr=!0;c.Sc(wE(this))}c.Wi||he(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.zd=function(a,b,c){(a=this.wb[c-1])&&a.compact();b=this.Vg(b,this.B);this.wb.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.zl=function(a,b,c){a=this.wb[c];this.wb.splice(c,1);a.remove()};f.Xh=function(a){this.qo.push(a);cx(this.$el)};f.ff=function(a,b){var c=this.qo.indexOf(a);-1<c&&this.qo.splice(c,1);0===this.qo.length&&lx(this.$el);this.qr=!1;if(a.Wi){var d=this;setTimeout(function(){a===pz(d.model)&&d.qn()},20*b.length+300)}};
function wE(a){a=a.$el.parent();return jx(a,a.height())};function xE(){}xE=vE.extend({});f=xE.prototype;f.events=function(){var a=vE.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.lA;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.Iu;a.mousedown=this.sA;return a};f.initialize=function(a){vE.prototype.initialize.call(this,a);this.ek=!1;this.Qm=0;this.Qk=$();this.listenTo(H,"infoPanelToggle",this.pC)};
function yE(a){a=a.wb.filter(function(a){return a instanceof sE});return 0<a.length?a[0]:null}f.scroll=function(a){vE.prototype.scroll.apply(this,arguments);var b=yE(this);b&&he().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?uE(b):tE(b)})})};f.qn=function(){this.$el.data("userPreparedSearch")?Uw.call(this.el,this.B):vE.prototype.qn.apply(this,arguments)};
f.sA=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.wb[0].$("li.folderExpanded").data("view"))&&AE(this,a),!1};f.lA=function(a){var b=this.wb[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?AE(this,a):c?(b=b.$("li.folderExpanded").data("view"),AE(this,b)):this.ek||BE(this,a);return!1};
f.Iu=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.ek&&AE(this,a)};
function BE(a,b){var c=tb(a.B),d=a.wb[0],e=a.model,g=b.$el.children("a"),h=g.attr("title"),g=g.data("query");"marketplace"===g?($(".fileUploadButton").addClass("buttonMarketplace").text(ec(c)),$("#fileUpload").data("marketplace","marketplace")):($(".fileUploadButton").removeClass("buttonMarketplace").text(dc(c)),$("#fileUpload").removeData("marketplace"));var c=rz(g),k=new qz(c,h);oz(e,k,1);e=a.wb[1];e.$el.attr("data-query",g);CE(a,sE.Vj);d.qk(b,a.Qm);0===nE(d,b)&&e.$el.addClass("end");a.listenTo(e,
"headerClose:click",function(){a.Iu()});a.Qk.remove();a.Qk=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.Qk.css("left",b.yi()+parseInt(a.$el.css("padding-left"),10)).insertBefore(e.$el);cx(e.$el);setTimeout(function(){k.Sc(wE(a))},360);a.$el.removeData("userPreparedSearch")}
function AE(a,b){var c=tb(a.B),d=a.wb[0],e=a.model;$(".fileUploadButton").removeClass("buttonMarketplace").text(dc(c));$("#fileUpload").removeData("marketplace");if(1<e.kg()){a.ek=!0;var c=pz(e),g=yE(a);a.stopListening(g);e.zl(c);a.Qk&&setTimeout(function(){a.Qk.remove();a.ek=!1},300)}d.Lu(b);CE(a,0);a.$el.data("userPreparedSearch",!0)}function DE(a,b){var c=a.$(".gallery .folderExpanded").data("view");b===c&&(!a.ek&&AE(a,b),window.setTimeout(function(){BE(a,b)},360))}
f.zd=function(a,b,c){(a=this.wb[c-1])&&a.compact();var d=new sE({model:b,wk:"infoPanelGallery photoGallery",B:this.B});this.wb.splice(c,0,d);d.$el.insertAfter(a.$el).delay(20,function(){d.ca(sE.Vj-72,!0)})};f.ff=function(a,b,c){vE.prototype.ff.apply(this,arguments);kz(this,!0)};
function kz(a,b){var c=a.wb[0],d=yE(a),e=c.$("li.folderExpanded").data("view");if(e){var g=oE(d),h=d.$el.data("contentHeight")||0,g=g+h,k=Cx(d.$el),l=Math.max(g,sE.Vj),d=c.$el.find("li");b?c.qk(e,l+k):d.addClass("doNotTransition").delay(20,function(){c.qk(e,l+k);$(this).delay(20,function(){$(this).removeClass("doNotTransition")})});CE(a,l)}}f.pC=function(a,b){var c=yE(this);if(c&&c.el===a.get(0)){var c=this.wb[0],d=c.$("li.folderExpanded").data("view");c.qk(d,this.Qm+b)}};
function CE(a,b){var c=b-a.Qm;a.Qm=b;a.wb[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer").one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop").delay(20,function(){$(this).css("top","+\x3d"+c)})};function Aw(){}Aw=Backbone.View.extend({className:"textControls"});Aw.mu=1.02;f=Aw.prototype;f.events=function(){return{"mousedown a.add":this.KC,"click a.add":this.iA}};f.initialize=function(a){this.lb=a.lb;this.B=a.B;this.qm=!1;this.listenTo(this.model,"change:defaultFont",this.QH);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.CC=_.template('\x3cli style\x3d"color: \x3c%\x3d color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%\x3d style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%\x3d fontFamily %\x3e\'; font-size: \x3c%\x3d fontSizePercentage %\x3e%; font-style: \x3c%\x3d italic ? "italic" : "normal"%\x3e; font-weight: \x3c%\x3d bold ? "bold" : "normal"%\x3e;"\x3e\x3c%\x3d placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=tb(b.B);return{hasBrandKit:!!b.lb,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in nb)a.append(EE(this,nb[c]));FE(this,this.bG.bind(this));return this};
f.bG=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function FE(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(nb).forEach(function(a){a=this.Ee(nb[a]).fontFamily;su(a,c)},a)}function EE(a,b){var c=a.Ee(b);return $(a.CC(c))}
f.Ee=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.Wl[a]),d=$.extend(!0,{},this.model.rm[a]),e=GE(this,a),g=tb(this.B);switch(a){case "title":g=lc(g);break;case "subtitle":g=mc(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown Canva.TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=Yn(z,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},
g,d);void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*gb;return c};function GE(a,b){var c;try{c=am(Yl(a.lb)[0])||[]}catch(d){c=[]}return c.filter(function(a){return!!dm(a)&&a.getName()===b}).map(function(a){a=dm(a);return{bold:a.vi(),italic:a.zi(),fontFamily:fm(a),fontSize:a.Ei()}})[0]}f.QH=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=EE(this,b);su(c.fontFamily,function(){d.replaceWith(e)})};
f.iA=function(a){var b=this.model,c=$(a.currentTarget),d=c.data("style");a=this.Ee(d);a.fontSize*=Ja.Ae;var e=HE(this,c);e.find("a").css("font-size",a.fontSize*gb+"%");e.css("font-size","100%").css("opacity",0).appendTo("#content");var g=e.width();e.remove();c={style:d,lockedWidth:!1,width:g*Aw.mu,html:c.text(),placeholderText:c.text()};_.extend(c,a);Q();var h=L(b);new Mj(c,function(a){h.addElement(a,!0);Ld(a)});this.qm=!0;return!1};
function HE(a,b){var c=L(a.model).un(),d=a.Ee(b.data("style")),e=b.clone(),g=IE(a),h=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",g*h*100+"%");g=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');g.css("font-size",100*O+"%").css("color",c?"white":"black").append(e);return g}
f.KC=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.qm)return x.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("picked"),d.qm=!1,e.css("opacity",1),!1;if(null==l)if(nx(x)){var K=Rh(v,w,h,a);if(300<K||60>K)l=HE(d,e),e.css("opacity",0),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(4<Math.abs(h-v)||4<Math.abs(a-w))l=HE(d,e),
e.css("opacity",0),$("#content").append(l),g.addClass("pickedUp");null!=l&&(K=k.top+a-w,l.css("left",k.left+h-v).css("top",K),K=Math.min(1,Math.sqrt(Math.pow(h-v,2)+Math.pow(a-w,2))/y),l.css("font-size",100*(1+(q-1)*K)+"%").css("color",Nh(E,J,K).Z()),(h<n.left||h>n.left+m.outerWidth()||a<n.top||a>n.top+m.outerHeight())&&l&&!l.hasClass("disappeared")&&!l.hasClass("placing")&&je(r,l)?(null==A&&(A=new ke(l,p)),me(A,C,B)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){$(this).remove();
e.css("visibility","visible").css("opacity","");g.removeClass("pickedUp")}function k(){setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","");g.removeClass("pickedUp")},20)}function p(a){B===a&&(H.off("elementLoaded",q),H.off("elementLoadingError",p))}function q(a){B===a&&(H.off("elementLoaded",q),H.off("elementLoadingError",p),B.appendTo(L(d.model)),Ld(B),Md(B),Xu(B.D()),l.remove(),k())}x.off("mousemove|touchmove",
b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");Q();var C=void 0!==a.clientX?a.clientX:a.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;if(null==l&&4>Math.abs(C-v)&&4>Math.abs(a-w))return!1;if(null!=l)if((C<n.left||C>n.left+m.outerWidth()||a<n.top||a>n.top+m.outerHeight())&&l&&!l.hasClass("disappeared")&&je(r,l)){C=e.data("style");a={type:"text",style:C,left:A.O(),top:A.K(),width:A.A()*Aw.mu,html:e.text(),
placeholderText:e.text()};_.extend(a,d.Ee(C));a.fontSize*=Ja.Ae;var B=Jd(a);H.on("elementLoaded",q);H.on("elementLoadingError",p)}else null==l||l.hasClass("disappeared")?null!=l&&l.hasClass("disappeared")&&k():(C=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",C.left).css("top",C.top).css("font-size","100%").css("color","white"))}if(3!==a.which){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),
h=this.Ee(h);h.fontSize*=Ja.Ae;var q=1/(parseFloat(e.get(0).style.fontSize)/gb*IE(this)/h.fontSize)*O,r=Kx(),p=r.offset(),v=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,w=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,y=Math.abs(v-(n.left+m.outerWidth())),x=new V($(document));x.on("mousemove|touchmove",b).on("mouseup|touchend",c);var A=null,B=le(),C={};a=L(this.model).un();var E=Gh(new Ch,255,255,255),J=new Ch;h.color&&"auto"!==h.color?J=R(h.color)||J:a?Gh(J,255,
255,255):Gh(J,0,0,0);d.qm=!1;return Gx}};function IE(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function JE(){}JE=vE.extend();JE.prototype.initialize=function(a){this.qg=this.Gq=this.$p=!1;this.Bc=0;this.R=tb(a.B);a.model=new nz;vE.prototype.initialize.call(this,a);this.model.zd(KE());this.listenTo(this.model,"results:didFetch",this.LE)};function KE(){var a=Hm(Em()).ma(),a=new Az({fd:a.F(),yb:va,cq:t.za().F(),cu:new gt});return new qz(a)}function LE(a){var b=new wz(new kv(Ba),t.za());return new qz(b,a.R.format("objectPanelLayoutsPanelLayoutsTabTitle"))}
JE.prototype.Sc=function(a){this.qg=!0;this.Bc=a;pz(this.model).Sc(a)};JE.prototype.LE=function(a){pz(this.model).Wi||this.Gq?this.$p=!0:(this.Gq=!0,this.model.zd(LE(this)),(this.$p=0<a.ce.length)||this.wb[0].remove(),pz(this.model).Sc(this.Bc))};JE.prototype.reset=function(){this.Gq=this.qg=!1;for(var a=this.model;pz(a);)a.zl(pz(a));this.model.zd(KE())};function ME(){}ME=vE.extend();ME.Vg=function(a,b){return new pE({model:a,wk:"infoPanelGallery photoGallery",B:b})};ME.prototype.initialize=function(a){this.qg=!1;a.model=new nz;a.Vg=ME.Vg;vE.prototype.initialize.call(this,a);this.model.zd(new qz(new zz({yb:va,Sa:a.Sa,fd:a.fd})))};ME.prototype.Sc=function(a){this.qg=!0;pz(this.model).Sc(a)};function NE(){}NE=vE.extend();NE.prototype.initialize=function(a){this.qg=!1;a.model=new nz;this.bg=a.bg;vE.prototype.initialize.call(this,a);this.model.zd(OE(this.bg))};function OE(a){a=new wz(new kv(Ba),t.za(),a);return new qz(a)}NE.prototype.Sc=function(a){this.qg=!0;pz(this.model).Sc(a)};NE.prototype.reset=function(){var a=pz(this.model);this.qg=!1;this.model.zl(a);this.model.zd(OE(this.bg))};function Bw(){}Bw=Backbone.View.extend();f=Bw.prototype;f.initialize=function(a){this.bb=a.bb;this.fd=a.fd;this.yb=a.yb;this.Ti=void 0;this.nh=a.FC.reduce(function(a,c){a[c.template]=Ax(c);return a},{});this.ro=[];this.ot=!!a.ot;this.Ll=!!a.Ll;this.bg=!!a.bg;this.Sa=a.Sa;this.B=a.B;this.R=tb(this.B);this.render();this.ot?PE(this):QE(this,this.bg);this.Ll&&RE(this);SE(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.Sx)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.yA,"click .templateGallery a":this.DA}};f.ls=_.template('\x3csection class\x3d"tab"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3c% if (showTabs) { %\x3e\x3cul class\x3d"layoutsTabs"\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelLayoutsTab"\x3e\x3c%- layoutsLabelText %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelDesignsTab"\x3e\x3c%- yourDesignsLabelText %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsTabContainer tabContainer"\x3e\x3c/section\x3e');
f.us=function(a){var b=this.$(".layoutsControls");a=a.currentTarget.scrollTop;var c=2*(50-a)/100;200>=a?b.css("transform","translateY(-"+a+"px)").css("opacity",c):b.css("transform","translateY(-200px)").css("opacity","0")};function PE(a){var b;b=$(a.ls());b.addClass("layoutsPanel");b.find(".scrollPane").on("scroll",a.us.bind(a));a.$(".tabContainer").append(b);a.Ti=new JE({el:b.find(".layer"),B:a.B});a.ro.push(a.Ti)}
function RE(a){var b;b=$(a.ls());b.addClass("designsPanel");b.find(".scrollPane").on("scroll",a.us.bind(a));a.$(".tabContainer").append(b);a.ro.push(new ME({el:b.find(".layer"),Sa:a.Sa,fd:a.fd,B:a.B}))}function QE(a,b){var c;c=$(a.ls());c.find(".scrollPane").on("scroll",a.us.bind(a));a.$(".tabContainer").append(c);a.Ti=new NE({el:c.find(".layer"),B:a.B,bg:b});a.ro.push(a.Ti)}
function SE(a){var b=a.$(".layoutsTabs"),c=a.$(".tabContainer"),b=new AD({el:b.get(0)}),c=new DD({qe:c,la:xf,Nf:b});b.select(0);c.on("change",a.bF,a);c.init()}f.Sc=function(a){TE(this).Sc(a)};function TE(a){var b=Math.max(0,a.$(".layoutsTabs \x3e .on").index());return a.ro[b]}
f.DA=function(a){function b(){if(d.hasClass("infoOpen"))pn();else{var a=document.createElement("span");$(a).css("visibility","hidden").css("width",0).css("height",0);d.append(a);Ow.call(a,c)}}Q();if($(a.target).is(".moreInfo"))return!1;var c=this.B,d=$(a.currentTarget);a=d.parents("li").data("view");var e=a.model;this.$(".gallery li.on").removeClass("on");a.Zd&&a.Zd()?b():e.mf?(qD(e),a.$el.addClass("on")):e.Lb?(rD(e),a.$el.addClass("on")):e.nf&&(1===e.nf().pageCount?(pD(this,e),a.$el.addClass("on")):
b());return!1};f.yA=function(a){return Ow.call(a.currentTarget,this.B)};function pD(a,b){function c(a){return a.hg()}function d(a){g=a.U(0);h=new wh({type:Go,id:a.F(),version:a.V()});oD(g,h);if(null!==e.bb&&e.nh.hasOwnProperty(b.F())){var c={};c[e.nh[b.F()].kf()]="#"+e.bb;cE(null,g,c)}c=new sj(t,g);Zy({um:Yy(c),Dm:t.za(),page:c});UE(L(t),uh(c.serialize()),l,Ak(a,0),h)}var e=a,g,h,k=L(t),l=k.bi(),m=Ak(b,0);b.U(0)?d(b):(k.clear(),m&&Ty(k,m),a.yb.hg(hk(b.F())).then(c).then(d))}
function qD(a){var b=L(t),c=vh(new th,a.mf());if(rt(a)){a=b.A();var d=b.C(),e=0<Bj(b).length,g=c.elements&&c.elements[0];if(g){var h=g.spacing;void 0===h&&(h=10);_.extend(g,hr(a,d,h,e).serialize())}}UE(b,c)}function rD(a){var b=L(t);a.lg(function(c){if(c&&c.content&&c.content.pages){var d=new th({id:a.F(),version:a.V(),price:rv(a),title:a.Ka(),keywords:a.ih()});$.extend(!0,d,_.omit(c.content.pages[0],"layout"));UE(b,d,null,a.ng())}});pv(Oa,Bv(a))}
function UE(a,b,c,d,e){c={"new":b,old:c||a.bi(),pageIndex:a.W()};jy(a,b,d,e);D.register(new iy(4,c))}f.render=function(){this.$el.html(this.template({showControls:this.Ll,showTabs:this.Ll,layoutsLabelText:this.R.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:this.R.format("objectPanelLayoutsPanelYourDesignsTabLabel")}));return this};f.Sx=function(){this.Ti.reset();TE(this)===this.Ti&&this.Sc(jx(this.$el,this.$el.height()))};f.bF=function(){TE(this).qg||this.Sc(jx(this.$el,this.$el.height()))};function Fw(a){this.bl=this.bl.bind(this);this.Ur=this.Ur.bind(this);this.Af=this.Af.bind(this);this.element=a;this.element.on({dragenter:this.bl,dragover:this.Ur,drop:this.Af})}_.extend(Fw.prototype,Backbone.Events);Fw.prototype.trigger=Backbone.Events.trigger;Fw.prototype.bl=function(){1===$("#objectPanel \x3e menu \x3e .uploads.on").length||$("#objectPanel \x3e menu \x3e .uploads \x3e a").click();this.trigger("dragenter")};
Fw.prototype.Ur=function(a){a.originalEvent.dataTransfer.dropEffect="copy";a.preventDefault()};Fw.prototype.Af=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function VE(){}VE=Backbone.View.extend({className:"uploadsFolderItem"});f=VE.prototype;f.events=function(){return{click:this.zf,dragstart:this.qh,mousedown:this.rh}};f.initialize=function(a){this.Ca=a.Ca;this.model=a.model;this.root=a.root};f.zf=function(){this.Ca.ou(this.model)};f.qh=function(a){a.preventDefault();return!1};f.rh=function(a){return 3===a.which||this.At(a)};f.Zr=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.zf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.Bl();return this};f.Bl=function(){var a,b,c=this;a=this.model.Mb().C()/this.model.Mb().A();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});zp(Ap,a,this.model.Mb().aa())};
f.At=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new M(c,d,c,d),b=ee(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Ca,g=this.model;de(d,Od(g),b,e,c,d.ou.bind(d,g));this.du(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.du=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.Zr(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function WE(a){this.Ca=a.Ca;this.Hd=a.Hd;this.kd=!1;this.hr=!0;this.ba=new XE;this.offset=0;this.view=new YE({R:a.R});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=WE.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){Ys(this.Hd).then(this.view.Fy.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.cA=function(){return Zs(this.Hd).catch(function(){throw new ZE;})};f.fetch=function(){function a(){b.kd=!1}var b=this;!b.kd&&b.hr&&(this.kd=!0,this.view.xd(!0),this.view.Uh(!1),this.aI().bind(this).then(this.cA).then(this.Wm).finally(a).then(this.EE).catch(ZE,this.CE).catch($E,this.RE).catch(this.FE))};f.sk=function(){this.fetch()};f.Wm=function(){return this.Hd.jn(this.offset,25)};f.Hc=function(){return this.view.$el};f.He=function(){return this.ba.He()};f.dw=function(){return this.hr};
f.CE=function(){this.view.xd(!1);this.view.Fy(!0)};f.EE=function(a){var b,c=this;b=$(a.map(function(a){return(new VE({Ca:c.Ca,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Xd(this.Ca,a);this.hr=0<a.length;this.Zn("uploadsItemAppearing",b,2200);this.ba.push(b);this.offset+=a.length;this.view.xd(!1);this.view.Th(1>this.ba.nd().length&&1>a.length);this.trigger("fetch")};f.FE=function(){this.view.xd(!1);this.view.Uh(!0)};f.RE=function(){this.view.xd(!1);this.view.Uh(!0)};
f.Zn=function(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};f.remove=function(){this.stopListening()};f.render=function(){this.view.render();this.view.$el.prepend(this.ba.$el);return this};
f.aI=P.method(function(){function a(){return P.try(function(){return"INITIALIZED"===b.Hd.ub()||P.delay(500).then(a).cancellable()})}var b=this;return a().timeout(2500).catch(P.TimeoutError,function(){throw new $E;})});function ZE(){}ZE.prototype=Object.create(Error.prototype);function $E(){}$E.prototype=Object.create(Error.prototype);function YE(){}YE=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=YE.prototype;f.mi=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.ni=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.PD,"click .facebookPhotosRetry":this.NE}};
f.initialize=function(a){this.Bd=new GD;this.R=a.R};f.PD=function(){this.trigger("signIn")};f.NE=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Bd.render().$el);return this};f.VG=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.xd=function(a){a?this.Bd.show():this.Bd.hide()};
f.Th=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.mi({message:this.R.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};f.Uh=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.ni({buttonLabel:this.R.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.R.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.Fy=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.VG({buttonLabel:this.R.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.R.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function aF(){}aF=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=aF.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Aa=a.Aa;this.B=a.B;this.Sa=a.Sa};f.render=function(){this.$el.html(this.template(this.Ra()));return this};
f.Ra=function(){var a=tb(this.B),b=new wt(this.Aa.getName(),this.Aa.cc(),a),c=this.Aa.hb()===this.Sa,d=this.Aa.shared,b=b.mc(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Aa.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel")}};
f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function bF(){}bF=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=bF.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.FH}};f.initialize=function(a){this.nq=a.nq;this.Aa=a.Aa;this.Za=a.Za;this.item=a.item;this.R=a.R};function cF(a){var b=a.$("select").val();return a.Za.filter(function(a){return a.F()===b})[0]}
f.render=function(){this.$el.html(this.template(this.Ra()));this.$("select").val(this.Aa.F());return this};f.Ra=function(){var a=this;return{downloadLink:this.nq,downloadOriginalTitle:this.R.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),item:this.item,options:this.Za.map(function(b){var c=new wt(b.getName(),b.cc(),a.R);return _.extend({},b,{name:c.mc()})}).map(this.lF),trashLabel:this.R.format("objectPanelUploadsPanelItemInfoTrash")}};f.FH=function(){this.trigger("move",cF(this))};
f.lF=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');f.template=_.template('\x3c% if (item.name) { %\x3e\x3ch3\x3e\x3c%- item.name %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function dF(){}dF=Backbone.View.extend({className:"uploadsFolderItem"});f=dF.prototype;f.initialize=function(a){this.Ca=a.Ca;this.disabled=!1;this.model=a.model;this.Yi=a.Yi;this.R=a.R;this.be=void 0;this.root=a.root;(this.Pb=a.Pb)&&this.listenTo(this.Pb,{complete:this.gF,fail:this.hF,update:this.Ny})};f.events=function(){return{click:this.zf,dragstart:this.qh,mousedown:this.rh}};
f.zf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Qa();a.target&&$(a.target).is("img")?b=ne(a.target):1===$(a.target).find("img").length&&(b=ne($(a.target).find("img").get(0)));c?this.Ca.qu(c,void 0,void 0,b):this.Pb&&this.Pb.Qa()&&this.Ca.ru(this.Pb,void 0,void 0,b)}};f.gF=function(){this.be.remove();this.be=void 0;this.stopListening(this.Pb)};
f.hF=function(){this.ie(!0);this.be.$el.addClass("uploadProgressBarFail");this.stopListening(this.Pb);setTimeout(this.ky.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.qh=function(a){a.preventDefault();return!1};f.rh=function(a){var b=a.target.classList.contains("uploadsInfoButton"),c=3==a.which;return this.disabled||c||b||a.ctrlKey||this.At(a)};
f.Zr=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(ce(this.Ca,ee(e)),setTimeout(c,600)):(this.zf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template(this.model));this.$el.toggleClass("uploadsFolderItemMovable",this.Yi);this.Bl();if(this.Pb&&!this.Pb.wc){var a=this.$(".uploadsControls");this.be||(this.be=new eF);this.be.render().$el.insertBefore(a)}if(a=this.Pb)a=this.Pb,a=a.wc&&!a.media;a&&this.ky();return this};
f.Bl=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.Mb().C()/this.model.Mb().A();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.Mb().aa();zp(Ap,d,b)};f.show=function(){this.be&&this.Ny()};
f.At=function(a){var b,c,d=this.model.Qa();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new M(b,c,b,c);c=ee(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");if(d){var g=this.Ca,h;h=d.ia().Lb()[Vd];h=Td({id:d.F(),version:d.ia().V(),files_:[{page:0,quality:"THUMBNAIL",url:e.find("img").attr("src")},{page:0,quality:"SCREEN",
url:h.aa(),width:h.A(),height:h.C()}]});de(g,h,c,e,b,g.qu.bind(g,d))}else this.Pb&&(d=this.Ca,g=this.Pb,h=e.find("img").attr("src"),h=Td({id:g.Qa().F(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.sb().width,height:g.sb().height}]}),de(d,h,c,e,b,d.ru.bind(d,g)));this.du(a)}return!0};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e');
f.ie=function(a){this.disabled=a};function fF(a,b){a.Yi=b;a.$el.toggleClass("uploadsFolderItemMovable",a.Yi)}f.ky=function(){this.be&&this.be.remove();this.be=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.R.format("objectPanelUploadsPanelUploadFailed"));fF(this,!1);this.ie(!0)};
f.Vh=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(20).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.Ny=function(){gF(this.be,this.Pb.Qe)};
f.du=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.Zr(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function hF(a){this.kx=this.Na=void 0;this.kh=a.Sa===a.Aa.hb();this.Ca=a.Ca;this.lc=null;this.oa=a.oa;this.kd=!1;this.Aa=a.Aa;this.Za=a.Za;this.Tb=a.Tb;this.Pk=!1;this.pd=[];this.ba=new XE;this.Fb=a.Fb;this.R=a.R;this.En=!0;this.rd=a.rd;this.Wh=a.Wh;this.uc=a.uc;this.listenTo(this.uc,"create",this.LH);this.Sa=a.Sa;this.Ed=a.Ed;this.view=new iF({disabled:a.disabled,model:this.Aa,R:this.R});this.listenTo(this.view,{upload:this.Ul,share:this.KG})}f=hF.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.hd=function(){this.ow=void 0;this.Ac&&(QD(this.ba,this.Ac.$el),this.Ac=void 0)};f.fetch=function(a){if(!this.kd&&!this.Pk&&this.En){var b=(new Ze).Qj(this.lc).Rf(be(this.Aa));b.includeMetadata=!0;a&&b.Rj(a);this.kd=!0;this.view.xd(!0);this.Tb.EC(b).bind(this).then(this.nE).catch(this.oE)}};f.sk=function(a){a=this.ba.Eq(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.Hc=function(){return this.view.$el};function jF(a,b){for(var c=0;c<a.pd.length;c++){var d=a.pd[c];if(d.model===b||d.Pb===b)return d}return null}f.He=function(){return this.ba.He()};function kF(a){return a.uc.hn(a.Aa.F()).filter(function(b){return!jF(a,b)}).filter(function(b){return b.wc&&!b.media?!1:b.wc&&b.Qa()?-1===a.Wh.indexOf(b.Qa().F()):!0})}f.dw=function(){return this.En};
f.Uw=function(a,b,c){var d=jF(this,a);d&&(this.hd(),this.view.Th(1===this.pd.length),b=Fe(Ge(new Ee,be(this.Aa)).az([a.F()]),be(b)),P.settle([this.Tb.NC(b),d.Vh(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):lF(this,a)}.bind(this)))};
f.ax=function(a){function b(){var b;b=(new bF({nq:!!e.oa.Ia.get(xd),Aa:e.Aa,Za:e.Za,item:a,R:e.R})).render();b.on({move:e.Uw.bind(e,a),trash:e.EH.bind(e,a),download:e.jB.bind(e,a)});return b}function c(){var a;a=(new mF({Ad:!1,Xf:!0,content:d.$el,R:e.R,target:g.$el})).render();a.on("close",e.hd,e);return a}var d,e=this,g;a===this.ow?this.hd():(d=b(),g=jF(this,a),this.hd(),this.Ac=c(),PD(e.ba,g.$el,e.Ac.$el),e.Ac.show(),this.ow=a,this.Ed(this.Ac.mf(),!0))};
f.nE=function(a){var b=this;Zd(this.Ca,function(){return(a.nd()||[]).map(function(a){return a.Qa()})}());this.lc=a.bc();this.kd=!1;this.En=!!this.lc;nF(this,kF(this).map(this.Rx,this));nF(this,a.nd().filter(function(a){return b.pd.every(function(b){return b.Pb&&b.Pb.Qa()?b.Pb.Qa().F()!==a.F():!0})}).filter(function(a){return-1===b.Wh.indexOf(a.F())}).filter(function(a){return"MEDIA"===a.zb()&&"FONT"!==a.Qa().zb()}).map(this.VF,this));this.view.xd(!1);this.view.Th(1>this.pd.length);oF(this.view);this.trigger("fetch")};
function pF(a){function b(){if(!e.kh)return e.rd.hb(e.Aa.hb())}function c(){qF(e.view,!1)}function d(a,b){a&&(e.kh||b)&&(e.kx=b?b:void 0,e.Na=a,qF(e.view,!0),rF(e.view,!1,sF(e)))}var e=a,g;g=(new af).Rf(be(a.Aa));a.Tb.gb(g).then(function(a){var g=a.gb();a=a.gh();g&&(e.Aa=g);g="ADMIN"===a;a="OWNER"===a;var l=e.Aa.cc(),m=e.Aa===tF;!g&&!a||l||m?c():P.all([e.rd.ma(e.Aa.ma()),b()]).spread(d).catch(c)}).catch(c)}f.oE=function(){this.kd=!1;this.Pk=!0;this.view.xd(!1);this.view.Uh(!0)};
f.Yr=function(a){this.removeItem(a);this.trigger("trash",a.F())};f.jF=function(a){var b=jF(this,a);b&&(b.model=b.model.Lp({id:a.Qa().F()}),b.ie(!1),fF(b,!0))};f.Zn=function(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function nF(a,b){var c=$(b.map(function(a){return a.el}));a.pd=a.pd.concat(b);a.Zn("uploadsItemAppearing",c,2200);a.ba.push(c);b.forEach(function(a){a.show()})}
f.remove=function(){this.pd.forEach(function(a){a.remove()});this.Eg&&this.Eg.remove();this.stopListening()};f.removeItem=function(a){a=jF(this,a);a.remove();this.pd.splice(this.pd.indexOf(a),1);this.view.Th(1>this.pd.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ba.$el);return this};f.VF=function(a){a=(new dF({Ca:this.Ca,model:a,Yi:!0,R:this.R,root:$(window)})).render();this.listenTo(a,{infoClick:this.ax,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.Rx=function(a){this.listenTo(a,"start",this.jF);a=(new dF({Ca:this.Ca,model:We({id:"",thumbnail:{height:a.sb().height,url:a.ng(),width:a.sb().width},type:"MEDIA"}),Yi:!1,R:this.R,root:$(window),Pb:a})).render();this.listenTo(a,{infoClick:this.ax,pickedUp:this.trigger.bind(this,"pickedUp")});return a};function lF(a,b){var c=jF(a,b);c&&(c.Vh(!1),a.view.Th(!1))}f.LH=function(){function a(a){a.ie(!0)}var b=kF(this);!this.lc&&this.En||1>b.length||(b=b.map(this.Rx,this),b.forEach(a),uF(this,b),this.view.Th(!1))};
function uF(a,b){var c=$(b.map(function(a){return a.el}));a.pd=b.concat(a.pd);a.Zn("uploadsItemUploading",c,600);a.ba.unshift(c);b.forEach(function(a){a.show()})}f.Ul=function(a){this.Ca.Ul(this.Aa,a,"button")};
f.KG=function(a,b){function c(a,b){"UNSHARED"===a?sF(d)&&(d.kh||window.confirm(d.R.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(vF(d,d.Na.F(),!1),d.view.ie(!d.kh),d.trigger("disabled",!d.kh)):(vF(d,a,b),d.view.ie(!1),d.trigger("disabled",!1))}var d=this,e;this.Na&&(e=d.kh?this.R.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):kc(this.R,this.kx.mc()),e=[{id:"UNSHARED",Lt:!sF(this),title:e},{id:this.Na.F(),Lt:sF(this),title:this.Na.mc()||this.R.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.Eg&&(d.stopListening(this.Eg),this.Eg.remove()),this.Eg=new wF({Mr:!0,title:this.R.format("objectPanelUploadsPanelSharePopOverTitle")}),xF(this.Eg,e),this.Eg.nt(a,b),this.listenTo(this.Eg,"change",c))};function vF(a,b,c){function d(){rF(e.view,!1,sF(e))}var e=a;c=c?"EDITOR":void 0;rF(e.view,!0);b=Ue(a.Aa,b,c);a.Tb.Tt(b).then(function(a){a&&a.gb()&&a.gb().F()===e.Aa.F()?(e.Aa=a.gb(),rF(e.view,!1,sF(e))):d()}).catch(d)}
function sF(a){return 0<(a.Aa.ti()&&a.Aa.ti().getEntries()||[]).filter(function(b){return a.Na&&b.ma()===a.Na.F()&&"EDITOR"===b.gh()}).length}f.EH=function(a){function b(){return c().then(function(a){return Br(g.Fb,a.F(),a.ia().V())})}function c(){return P.try(function(){return a.Qa()||vr(g.Fb,a.F(),Rr(new Wp))})}function d(b){b.isFulfilled()?g.Yr(a):lF(g,a)}var e=jF(this,a),g=this;e&&(this.hd(),P.settle([b(),e.Vh(!0)]).get(0).then(d))};
f.jB=function(a){var b=this;(function(){var c=a.F(),d=new Wp;d.includeImportFileUrl=!0;d=Rr(d);return vr(b.Fb,c,d)})().then(function(a){a=a.ia().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function iF(){}iF=Backbone.View.extend({className:"uploadsFolderContent"});f=iF.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.QD,"click .uploadsFolderContentUploadButton":this.fF,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.SE}};f.initialize=function(a){this.Bd=new GD;this.disabled=a.disabled;this.R=a.R;this.model=a.model};
f.render=function(){this.$el.html(this.template());this.$el.toggleClass("uploadsFolderContentChristmas",-1<["christmas","xmas","x-mas"].indexOf(this.model.getName()?this.model.getName().toLowerCase():""));this.$el.append(this.Bd.render().$el);this.ie(this.disabled);return this};f.QD=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};f.SE=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};
f.fF=function(){this.$(".uploadsFolderContentFileInput").click()};f.xd=function(a){a?this.Bd.show():this.Bd.hide()};f.ie=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.Th=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.mi({emptyPrompt:this.R.format("objectPanelUploadsPanelEmptyFolderPrompt")})):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.Uh=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.ni({message:this.R.format("objectPanelUploadsPanelFolderContentLoadingError")})):b.remove()};
function qF(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(a.JG()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function oF(a){if(1>a.$(".uploadsFolderContentUploadButton").length){var b=$(a.TH({label:a.R.format("objectPanelUploadsPanelFolderUploadButtonLabel")}));b.prop("disabled",a.disabled);a.$el.prepend(b)}}
function rF(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)}f.mi=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- emptyPrompt %\x3e\x3c/p\x3e');f.ni=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.template=_.template('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf" multiple\x3e');
f.JG=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e');f.TH=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton"\x3e\x3c%- label %\x3e\x3c/button\x3e');function yF(){}yF=Backbone.View.extend({className:"uploadsFolder"});f=yF.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.xE,"click .uploadsFolderName \x3e span":this.wE,"click .uploadsFolderThumbnail":this.ex,dragenter:this.bl,dragleave:this.MD,dragstart:this.qh,drop:this.Af,"mouseover .uploadsFolderThumbnail":this.eF,"mouseout .uploadsFolderThumbnail":this.dF,"focus .uploadsFolderName \x3e input":this.yE,"keypress .uploadsFolderName \x3e input":this.AE}};
f.initialize=function(a){this.Ad=a.Ad;this.Xj=a.Xj;this.bb=a.bb;this.disabled=!1;this.model=a.model;this.$i=!1;this.R=a.R;this.Sn=-1;this.Px=!1;this.zo=a.zo;this.la=a.la};function zF(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function AF(a){function b(){return k.model.F().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.F(),e=!!a.model.Mb(),g=!!a.model.cc(),h="LOGOS"===a.model.cc(),k=a;return e?"":h&&a.bb?"#"+a.bb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function BF(a,b,c){return a.Ad&&zF(a,b,c)&&!a.Ni()}f.Ni=function(){return this.$el.hasClass("uploadsFolderOpen")};f.bl=function(a){this.Ad&&(this.$el.addClass("uploadsFolderDropping"),this.Ni()||(this.la.clearTimeout(this.Sn),this.Sn=this.la.setTimeout(this.ex.bind(this,a),1E3)))};f.MD=function(a){zF(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.la.clearTimeout(this.Sn),this.Sn=-1,this.$el.removeClass("uploadsFolderDropping"))};f.qh=function(a){a.preventDefault();return!1};
f.Af=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Ad&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.wE=function(){this.disabled||(this.Xj?CF(this,!0):this.trigger("click",this.model))};f.xE=function(){this.$i&&(this.$i=!1,DF(this))};f.yE=function(){this.$i=!0};f.AE=function(a){13===a.which&&DF(this)};
f.ex=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.eF=function(){this.$el.addClass("uploadsFolderHover")};f.dF=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.Xj||this.disabled,b=new wt(this.model.getName(),this.model.cc(),this.R);this.$i=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Ad);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.mc());this.$el.html(this.template(this.Ra()));this.Bl();CF(this,this.Px);return this};
f.Bl=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.Mb();return a&&a.C()>a.A()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",AF(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.Mb());d="LOGOS"===this.model.cc();c=b.children("img");c.on("load",a);zp(Ap,c,function(){var a=e.model.Mb();return a?a.aa():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.Ra=function(){var a=new wt(this.model.getName(),this.model.cc(),this.R);return _.extend({},this.model,{name:a.mc(),shared:this.model.shared,showControls:this.zo})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.vu=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.la.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.ie=function(a){this.disabled=a};f.Vh=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(20).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function CF(a,b){var c;a.$i=!1;a.Px=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(c=a.$(".uploadsFolderName \x3e input"),c.val(a.model.getName()),c.select(),a.$i=!0)}function EF(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.la.setTimeout(function(){b.css("background-color",AF(a))},20)}function DF(a){var b=jc(a.R),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function FF(a){this.bb=a.bb;this.Ca=a.Ca;this.lc=null;this.rq=this.Gm=void 0;this.Hd=a.Hd;this.pk=a.pk;this.oa=a.oa;this.kd=!1;this.Tb=a.Tb;this.Jd=[];this.Pk=!1;this.ba=new XE;this.listenTo(this.ba,"redraw",this.rE);this.Fb=a.Fb;this.B=a.B;this.Qr=!0;var b;b=new GF({B:this.B});this.listenTo(b,"click",this.BE);this.Zk=b;this.Rn=this.Rn.bind(this);this.rd=a.rd;this.Wh=[];this.uc=a.uc;this.Sa=a.Sa;this.Cm=[];this.la=a.la;this.Ed=a.Ed;this.view=new HF({R:tb(this.B),root:a.root});this.listenTo(this.view,
{close:this.GD,drop:this.Af,drag:this.LD,dragScroll:this.ND})}function IF(a,b,c){return a.Jd.filter(function(a){return!JF(this,a.model)&&BF(a,b,c)}.bind(a))[0]}FF.prototype.GD=function(){this.hd()};
FF.prototype.LD=function(a,b){function c(){d&&e.view.Yg.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d,e=this;KF(this,a,b);d=IF(this,a,b);d!==this.Gm&&(this.Gm&&this.view.Yg.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.Gm=d,this.rq&&clearTimeout(this.rq),this.rq=setTimeout(c,300))};FF.prototype.ND=function(a){this.qs&&this.trigger("dragScroll",a)};
FF.prototype.Af=function(a,b){function c(){LF(g.view,"uploadsFolderItemCloneDropping");e.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){e.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e,g=this,h=this.qs,k=this.wx,l=this.vx;KF(this,-1,-1);this.qs=this.vx=this.wx=this.Gm=void 0;d=(e=IF(this,a,b))&&e.model;h&&d&&d!==l&&!JF(g,d)?(c(),k.Uw(h,d,!0)):g.ug||LF(this.view,"uploadsFolderItemCloneHidden")};
var tF=Le({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});f=FF.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.hd=function(){var a;this.nw=void 0;this.Ac&&(QD(this.ba,this.Ac.$el),this.rC=this.Ac.Re,this.Ac=void 0,MF(this)||this.yj());this.ug&&(a=this.gb(this.ug),this.ri.remove(),this.ri=void 0,NF(this,a).close(),this.ug=void 0,OF(this.view,!1))};f.Ou=function(a){var b=yF,c=a.hb()===this.Sa,d=!!a.cc();a=new b({Ad:!0,Xj:c&&!d,bb:this.bb,model:a,R:tb(this.B),zo:!a.cc(),la:this.la});this.listenTo(a,{click:this.Wr,drop:this.Ry,infoClick:this.VD,rename:this.UF});a.render().show();return a};
f.wm=function(a){var b;b=(new ef).Lg(a.getName()).Tj("MEDIA").Uj(this.Sa);this.Tb.wm(b).then(this.SD.bind(this,a)).catch(this.TD.bind(this,a))};
function PF(a,b){function c(){var a;a=new WE({Ca:e.Ca,Hd:e.Hd,R:tb(e.B)});a.fetch();a.render();return a}function d(a){return!(!a.F()&&!a.cc())}var e=a;switch(b){case tF:return c();default:return function(){var a;a=new hF({Ca:e.Ca,oa:e.oa,Aa:b,Za:e.jg().filter(d),Tb:e.Tb,Fb:e.Fb,R:tb(e.B),rd:e.rd,Wh:e.Wh,uc:e.uc,Sa:e.Sa,disabled:JF(e,b),Ed:e.Ed});e.pk&&pF(a);a.fetch(25);e.listenTo(a,{trash:e.Yr,pickedUp:e.mE.bind(e,a,b),disabled:e.UD.bind(e,b)});a.render();return a}()}}
f.fetch=function(a){var b;this.kd||this.Pk||!this.Qr||(b=(new cf).Qj(this.lc),b.folderTypes=["MEDIA"],b.includeSystemFolders=!0,b.includeThumbnails=!0,b=b.Uj(this.Sa),a&&b.Rj(a),this.kd=!0,this.view.xd(!0),this.Tb.OB(b).bind(this).then(this.ZD).catch(this.$D))};f.sk=function(a){a=this.ba.Eq(a);isFinite(a)?this.fetch(a):this.fetch(25)};f.gb=function(a){return this.jg().filter(function(b){return b.F()===a})[0]};f.jg=function(){return this.Jd.map(function(a){return a.model})};f.He=function(){return this.ba.He()};
function QF(a){return a.jg().filter(function(a){return(a=a.cc())&&"LOGOS"===a})[0]}function RF(a){return a.jg().filter(function(a){return(a=a.cc())&&"UNFOLDERED"===a})[0]}
function MF(a){function b(){var a=NF(h,tF);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=RF(h),a=a&&NF(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=QF(h),a=a&&NF(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ba.nd(),h=a;return function(){var a=h.ba.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&b()&&g.first().is(h.Zk.$el)&&
d()&&e()}f.Hc=function(){return this.view.$el};function NF(a,b){return a.Jd.filter(function(a){return a.model===b})[0]}function SF(a){return a.ug?a.gb(a.ug):void 0}function JF(a,b){return _.contains(a.Cm,b.F())}f.Wr=function(a){a.F()===this.ug?this.hd():(this.hd(),NF(this,a).open(),OF(this.view,!0),this.ri=PF(this,a),this.ug=a.F(),TF(this,{Xf:!1,content:this.ri.Hc(),Aa:a}),this.trigger("open"),this.Ed(NF(this,a).$el))};
f.SD=function(a,b){var c,d;c=b.gb();d=NF(this,a);d.model=c;d.ie(!1);d.render();EF(d)};f.TD=function(a){a=NF(this,a);this.stopListening(a);this.Jd.splice(this.Jd.indexOf(a),1);this.ba.remove(a.$el);this.yj()};f.VD=function(a){var b=a.F()===this.nw;this.hd();b||(this.nw=a.F(),b=(new aF({Aa:a,B:this.B,Sa:this.Sa})).render(),b.on("trash",this.DH.bind(this,a)),TF(this,{Xf:!0,content:b.$el,Aa:a}),this.Ed(this.Ac.mf(),!0))};f.XD=function(a){var b;b=this.gb(a.F());b=NF(this,b);b.model=a;b.render()};
f.ZD=function(a){var b;b=a.jg();b.length&&UF(this,b);this.gb(tF.F())||VF(this);this.ba.push(this.Zk.$el);this.lc=a.bc();this.kd=!1;this.Qr=!!this.lc;this.yj();this.view.xd(!1);this.trigger("fetch")};f.$D=function(){this.kd=!1;this.Pk=!0;this.view.xd(!1);this.view.Uh(!0)};f.UD=function(a,b){b?this.Cm.push(a.F()):this.Cm=_.without(this.Cm,a.F())};f.Yr=function(a){this.Wh.push(a)};f.mE=function(a,b,c,d){this.wx=a;this.vx=b;this.qs=c;this.view.Yg=d};f.rE=function(){this.hd();this.yj()};
f.BE=function(){var a=this,b;b=function(){var b;b=Le({name:jc(tb(a.B)),user:a.Sa});b=a.Ou(b);b.$el.addClass("uploadsFolderTransparent");a.Jd.push(b);a.ba.push(b.$el);b.ie(!0);CF(b,!0);return b}();this.Ed(b.$el).then(function(){b.vu()});null!=I&&I.track("new_upload_folder")};f.Rn=function(){this.ba.ua()};f.gx=function(){var a=RF(this),b=a&&a.F()===this.ug;a&&!b&&this.Wr(a)};
function VF(a){var b;b=function(){var b;b=new yF({Ad:!1,Xj:!1,bb:a.bb,model:tF,R:tb(a.B),zo:!1,la:this.la});a.listenTo(b,"click",a.Wr);b.render().show();return b}();a.Jd.push(b);a.ba.push(b.$el)}function UF(a,b){var c;c=b.map(a.Ou,a);a.Jd=a.Jd.concat(c);c=$(c.map(function(a){return a.el}));a.ba.push(c)}f.remove=function(){$(window).off("resize",this.Rn);this.stopListening();this.view.remove()};
f.UF=function(a,b){var c,d;c=a.Lp({name:b});d=NF(this,a);d.model=c;d.render();CF(d,!1);a.F()?(c=(new Re).Rf(be(a)).Lg(b),this.Tb.Tt(c).catch(this.XD.bind(this,a))):this.wm(c)};f.render=function(){this.Zk.render();this.view.render();this.view.$el.prepend(this.ba.$el);return this};function KF(a,b,c){a.Jd.forEach(function(a){JF(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",BF(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.Rn)};
function TF(a,b){var c=b.Aa===tF,d=NF(a,b.Aa).$el;a.Ac=(new mF({Ad:!c,Xf:b.Xf,content:b.content,R:tb(a.B),Re:a.rC,target:d})).render();a.Ac.on({close:a.hd,drop:a.Ry.bind(a,b.Aa)},a);PD(a.ba,d,a.Ac.$el);a.Ac.show()}
f.yj=function(){function a(){var a=QF(e);if(a=a&&NF(e,a))d.splice(d.indexOf(a.el),1),d.unshift(a.el)}function b(){var a=NF(e,tF);a&&(d.splice(d.indexOf(a.el),1),d.unshift(a.el))}function c(){var a=RF(e);if(a=a&&NF(e,a))d.splice(d.indexOf(a.el),1),d.unshift(a.el)}var d,e=this;this.Ac||(d=this.ba.nd().detach().toArray(),b(),c(),a(),d.splice(d.indexOf(e.Zk.el),1),d.unshift(e.Zk.el),this.ba.push($(d)))};
f.DH=function(a){function b(){var b=a.itemCount,d=tb(c.B);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.hd(),d=Te((new Re).Rf(be(a))),P.settle([this.Tb.Tt(d),NF(c,a).Vh(!0).bind(c).then(c.yj)]).then(function(b){b[0].isFulfilled()?(b=NF(this,a),b.remove(),this.stopListening(b),this.Jd.splice(this.Jd.indexOf(b),1)):(NF(this,a).Vh(!1),this.yj())}.bind(this)))};f.Ry=function(a,b){JF(this,a)||this.Ca.Ul(a,b,"drop")};function HF(){}HF=Backbone.View.extend({className:"uploadsFolders"});HF.prototype.initialize=function(a){this.Bd=new GD;this.Yg=$();this.R=a.R;this.root=a.root||$(window)};HF.prototype.events=function(){return{mousedown:this.rh}};HF.jz=50;HF.sz=100;HF.uz=5;f=HF.prototype;
f.rh=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<HF.jz?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>HF.uz?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c=0,e=0,
c=HF.sz,g=new M(a,b,0,0),e=d.$el.parent(".scrollPane").get(0).getBoundingClientRect(),q=ee(e),e=g.K()-(q.K()+c),c=g.qa()-(q.qa()-c);return 0>e?Math.max(Math.floor(e/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return 3==a.which||!(c||b)}()||b()};f.render=function(){this.Bd.render();this.$el.append(this.Bd.$el);return this};
function LF(a,b){var c,d;c=a.Yg.clone();c.removeClass().addClass(b);d=a.Yg.get(0).getBoundingClientRect();c.css("top",d.top+"px").css("left",d.left+"px").css("width",d.width+"px").css("height",d.height+"px");$("body").append(c);a.Yg.remove();a.Yg=$();setTimeout(function(){c.remove()},500)}f.xd=function(a){a?this.Bd.show():this.Bd.hide()};
f.Uh=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.ni({message:this.R.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};function OF(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.ni=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');function mF(){}mF=Backbone.View.extend({className:"inlineContent"});mF.lz=14.14;f=mF.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Af}};f.initialize=function(a){this.Ad=a.Ad;this.wu=!1;this.Xf=!!a.Xf;this.content=a.content;this.R=a.R;this.Re=a.Re;this.target=a.target};f.mf=function(){return this.content};
f.Af=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Ad&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function WF(a){function b(){var a=mF.lz/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Re=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Re?c(a.Re):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},20)}
f.render=function(){this.$el.html(this.template(this.Ra()));this.$el.toggleClass("inlineContentAppearing",!this.wu);this.$(".inlineContentContent").append(this.content);return this};f.Ra=function(){return{closeButton:this.Xf,closeTitle:this.R.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.wu=!0;WF(this);XF(this)};
function XF(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(20).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(20).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function XE(){LD.call(this,{Nc:function(a){return Math.floor(a/90)},bf:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.Hz,beforeMerge:this.Qz,beforeSplit:this.Rz})}XE.prototype=Object.create(LD.prototype);XE.prototype.Hz=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",YF(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},20)};
XE.prototype.Rz=function(a){ZF(a.children())};function YF(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function ZF(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
XE.prototype.Qz=function(a,b){var c;c=b.children();c.addClass("doNotTransition");ZF(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-YF(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},20)};function GF(){}GF=Backbone.View.extend({className:"newUploadsFolder"});f=GF.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.B=a.B};f.vu=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=tb(this.B);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function Ew(a){this.Ca=a.Ca;this.li=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Za=new FF({bb:a.bb,Ca:a.Ca,pk:a.pk,Hd:a.Hd,oa:a.oa,Tb:a.Tb,Fb:a.Fb,B:a.B,rd:a.rd,uc:a.uc,Sa:a.Sa,la:a.la,Ed:this.Ed.bind(this)});this.Za.on({fetch:this.Hp,open:this.WD,dragScroll:this.YD},this);this.Za.once("fetch",this.Za.gx,this.Za);this.Fw=-1;this.listenTo(a.nB,{dragenter:this.OD,drop:this.VH})}f=Ew.prototype;f.listenTo=Backbone.Events.listenTo;
f.YD=function(a){a!==this.li?(this.li=a,this.oo&&clearInterval(this.oo),0!==this.li&&(this.oo=setInterval(this.xF.bind(this),10))):0===a&&this.oo&&clearInterval(this.oo)};
f.Ed=function(a,b){var c=this.element.height(),d=SD(this.Eh,a,{or:!0}),e=c+d-a.outerHeight(!0),c=c/3,g=null;this.element.find(".closing-transition").each(function(a,b){var c=parseInt(b.style.marginTop,10)-10;if(SD(this.Eh,$(b),{or:!0})<d&&0<c)return e-=c,d-=c,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>c||0>e)g=this.element.scrollTop()+e-c;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.Hp=function(){var a=this.Za.ri,b=a&&a.He();a&&a.dw()&&b&&800>SD(this.Eh,b)&&0===this.li?this.Za.ri.sk(800):(a=this.Za.He())&&800>SD(this.Eh,a)&&this.Za.sk(800)};f.Hc=function(){return this.element};f.OD=function(){var a=SF(this.Za);a&&a!==tF||this.Za.gx()};f.WD=function(){this.Za.ri.on("fetch",this.Hp,this)};f.PE=function(){var a=this.Eh.dg.scrollTop();a>this.Fw&&this.Hp();this.Fw=a};
f.xF=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.li})()||this.element.scrollTop(a+this.li)};f.render=function(){this.Za.Hc().appendTo(this.element);this.Za.render();return this};f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new RD(a),c.zn(),a.data("CANVA_SCROLL_TARGET",c));this.Eh=c;this.Eh.on("scroll",this.PE,this);this.Eh.zn();this.Za.show();this.Za.sk(b)};
f.VH=function(a){var b=SF(this.Za);b&&!JF(this.Za,b)&&this.Ca.Ul(b,a,"drop")};function eF(){}eF=Backbone.View.extend({className:"uploadProgressBar"});eF.prototype.initialize=function(){this.ux=0};eF.prototype.render=function(){this.$el.html(this.template());gF(this,this.ux);return this};function gF(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.ux=b}eF.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function Gw(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.ss=this.Qe=0;this.Cj=Date.now();this.By=0;this.uc=a.uc}f=Gw.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.Cj=Date.now()-100;this.stopListening(this.uc);this.listenTo(this.uc,{create:this.dH,fail:this.OG})};f.dH=function(){this.ss=setTimeout(this.zw.bind(this),50)};
f.zw=function(){function a(){.025>Math.random()&&(c.$el.addClass("showRubberDucky"),setTimeout(function(){c.$el.removeClass("showRubberDucky")},9E3))}var b=Rv(this.uc,this.Cj),c=this;clearTimeout(this.By);clearTimeout(this.ss);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.Qe=Math.round(.7*b+.05),$F(this),a(),this.ss=setTimeout(this.zw.bind(this),1E3))};
f.finish=function(){var a=this;this.By=setTimeout(function(){a.Cj=Date.now()-2E3-100;a.Qe=100;$F(a);setTimeout(a.reset.bind(a),1100)},2E3)};f.OG=function(a){var b=this.$el.find(".uploadProgressPortholeFill");b.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){b.removeClass("uploadProgressPortholeFillFailure")},650);a&&Lv.show(a)};
function $F(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.Qe)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.Qe=0;this.Cj=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");$F(this)};f.remove=function(){this.reset();this.stopListening(this.uc);this.$el.remove()};function Cw(){}Cw=Backbone.View.extend({});Cw.prototype.initialize=function(a){var b=this,c=new nz;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new qz(new vz);c.zd(d);this.wf=new xE({model:c,el:this.$(".layer"),B:a.B});c=new qE({model:d,el:this.$(".browseCategories"),B:a.B});this.wf.wb.push(c);!a.el&&this.render()};function Dw(){}Dw=Backbone.View.extend({});Dw.prototype.initialize=function(a){var b=this,c=new nz;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new qz(new vz);c.zd(d);this.wf=new xE({model:c,el:this.$(".layer"),B:a.B});c=new qE({model:d,el:this.$(".browseCategories"),B:a.B});this.wf.wb.push(c);!a.el&&this.render()};function Hw(){}Hw=Backbone.View.extend();f=Hw.prototype;f.events=function(){return{"click .buttonFacebook":this.XH,"click .buttonGoogleDrive":this.YH,"click .fileUploadButton":this.tA,"click .folderUpgradeCta .buttonLearnMore":this.uA}};
f.initialize=function(a){this.Vd=a.Vd;this.B=a.B;this.sn=this.jh=this.Sk=this.tn=this.gw=!1;a=tb(this.B);a=$(this.Wz({googleDrive:!!Ca.Ia.get(sd),marketplace:!!Ca.Ia.get(fd),showUpgradeCta:Ed(Ca),folderUpgradePrompt:a.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.format("objectPanelUploadsPanelLearnMoreButtonLabel"),uploadButtonLabel:dc(a),dragIn:a.format("objectPanelUploadsPanelDragIn"),uploadsFolder:a.format("objectPanelUploadsPanelUploadsFolderLabel"),uploadsFolderTitle:a.format("objectPanelUploadsPanelUploadsFolderTitle"),
uploadsFolderImageAlt:ic(a,"Upload"),marketplaceFolder:a.format("objectPanelUploadsPanelMarketplaceFolderLabel"),marketplaceFolderTitle:a.format("objectPanelUploadsPanelMarketplaceFolderTitle"),marketplaceFolderImageAlt:ic(a,"Marketplace"),facebookFolderImageAlt:ic(a,"Facebook"),googleFolderImageAlt:ic(a,"Google Drive")}));var b=$(this.uG());this.$(".layer").children(".inner").append(a).append(b);a=new nz;this.listenTo(a,"results:willFetch",this.Xh);this.listenTo(a,"results:didFetch",this.ff);b=new qz(new vz);
a.zd(b);this.wf=new xE({model:a,el:this.$(".layer"),B:this.B});a=new qE({model:b,el:this.$(".browseCategories"),B:this.B});this.wf.wb.push(a);aG(this);bG(this)};f.Xh=function(){this.$(".inlineFolderGroup").addClass("fetching").removeClass("fetched")};
f.ff=function(a,b,c){var d=tb(this.B),e=this.$(".inlineFolderGroup"),g=a.Ka()===this.$("a.google").attr("title"),h=a.Ka()===this.$("a.facebook").attr("title");!h||this.jh||c?h&&this.jh&&!c&&0===a.ce.length?this.$(".noResults").text(hc(d,"Facebook")):!g||this.sn||c?g&&this.sn&&!c&&0===a.ce.length?this.$(".noResults").text(hc(d,"Google")):a.ce.length!==b.length||c||(g=a.Ka()===this.$("a.uploads").attr("title"),h=a.Ka()===this.$("a.marketplace").attr("title"),g&&0===b.length&&this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForDesigns")),
h&&0===b.length&&this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForMarketplace"))):(g=$('\x3cbutton class\x3d"button buttonGoogle buttonGoogleDrive"\x3e').text(fc(d,"Google")),this.$(".noResults").text(gc(d,"Google")).after(g)):(g=$('\x3cbutton class\x3d"button buttonFacebook"\x3e').text(fc(d,"Facebook")),this.$(".noResults").text(gc(d,"Facebook")).after(g));e.removeClass("fetching").addClass("fetched");this.trigger("results:didFetch",a,b,c)};
function bG(a){var b=a.$("li a.uploads").parents("li").data("view"),c=a.$("li a.marketplace").parents("li").data("view"),d=Nr(Or((new Mr).Mg(!0).Qf(!1),[Pd,Rd]).Kg(),!1).Yl(0,1);sr(ya,d,function(d,g){a.gw=200===d&&!!g.media&&0<g.media.length;Vv()?BE(a.wf,c):a.gw&&BE(a.wf,b)})}
function aG(a){function b(){Fd.hb()?c.jh=!0:Us(Fd).then(function(){c.jh=!0}).catch(function(){c.jh=!1})}var c=a,d=0,e=window.setInterval(function(){"INITIALIZED"===Fd.ub()&&(window.clearInterval(e),b());d++;5<d&&(window.clearInterval(e),c.jh=!1)},500)}f.uA=function(){var a=this.Vd;a.analytics.track("learn_more_folders");Fi(a,cG)};
f.tA=function(a){function b(a){$("#fileUpload").data("marketplacePaidMedia",1===a);Lx()}$("#fileUpload").removeData("marketplacePaidMedia");$(a.target).hasClass("buttonMarketplace")?($("#fileUpload").data("marketplace","marketplace"),(new dG({lo:b})).ee($(a.target))):($("#fileUpload").removeData("marketplace"),Lx());return!1};
f.YH=function(){function a(){eG(d);c.Sk=!1;DE(c.wf,g)}function b(){eG(d);c.Sk=!1}var c=this,d=this.$("button.buttonGoogleDrive"),e=0<this.$("li.folderExpanded .google").length,g=this.$("li a.google").parents("li").data("view");e&&this.sn||this.Sk||(this.Sk=!0,I&&I.track("google_links"),hG(d),Gd.yu(!0).then(a).fail(b))};
f.XH=function(){function a(){bt();eG(d);c.tn=!1;DE(c.wf,h)}function b(){eG(d);c.tn=!1}var c=this,d=this.$("button.buttonFacebook"),e=0<this.$("li.folderExpanded .facebook").length,g=0<this.$("li.folderExpanded .google").length,h=this.$("li a.facebook").parents("li").data("view");e&&this.jh||this.tn||g&&this.sn||this.Sk||(this.tn=!0,I&&I.track("facebook_links"),hG(d),Ys(Fd).then(a).catch(b))};function hG(a){a.addClass("buttonSpinner");a.append('\x3cspan class\x3d"spinner"/\x3e')}
function eG(a){$(".spinner",a).remove();a.removeClass("buttonSpinner")}f.Wz=_.template('\x3csection class\x3d"uploadButtonAndMessage"\x3e\x3cbutton class\x3d"button buttonBlock fileUploadButton"\x3e\x3c%- uploadButtonLabel %\x3e\x3c/button\x3e\x3cp\x3e\x3c%- dragIn %\x3e\x3c/p\x3e\x3c% if (showUpgradeCta) { %\x3e\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/section\x3e\x3cdiv class\x3d"browseCategories"\x3e\x3cul class\x3d"gallery photoGallery albumGallery categories"\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"uploads" title\x3d"\x3c%- uploadsFolderTitle %\x3e" class\x3d"uploads"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- uploadsFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- uploadsFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (marketplace) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"marketplace" title\x3d"marketplaceFolderTitle" class\x3d"marketplace"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/marketplace_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- marketplaceFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- marketplaceFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"facebook" title\x3d"Facebook" class\x3d"facebook"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_facebook.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- facebookFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (googleDrive) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"google" title\x3d"Google Drive" class\x3d"google"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_google_drive.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- googleFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eGoogle Drive\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c/div\x3e');
f.uG=_.template('\x3cdiv class\x3d"searchGroup"\x3e\x3cul class\x3d"gallery infoPanelGallery photoGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');function wF(a){this.cr=a.cr||$(document);this.items=[];this.pg=void 0;this.Mr=!!a.Mr;this.bu=a.bu||$("body");this.title=a.title;this.view=this.xm()}f=wF.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function iG(a){function b(){d.cr.off("keydown",b);c.off("click",b);c.remove();d.view.hide();d.pg=void 0;return!1}var c=$('\x3cdiv class\x3d"contextMenuMask" /\x3e'),d=a;a.pg=b;c.on("click",b);a.cr.on("keydown",b);a.bu.append(c)}
f.xm=function(){var a=new jG;a.on("toggle",this.zH.bind(this));return a};f.remove=function(){this.pg&&this.pg();this.view.remove()};function xF(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.nt=function(a,b){this.pg&&this.pg();this.bu.append(this.view.Hc());this.Mr&&iG(this);this.view.nt(a,b)};f.zH=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.pg&&this.pg();b&&this.trigger("change",b.id,!b.Lt)};function jG(){}jG=Backbone.View.extend({className:"contextMenu"});f=jG.prototype;f.events=function(){return{"click .contextMenuItem":this.jE}};f.Hc=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.jE=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.Lt&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.nt=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function kG(a){this.items=[];this.Lw=a.Lw||Infinity;this.Pr=a.Pr||0;this.placeholder=a.placeholder;this.sd=a.sd;this.root=a.root;this.view=new lG({lm:!!a.lm,Cd:a.Cd,ak:a.ak,Mk:a.Mk||"",placeholder:a.placeholder});this.view.render(this.items);this.view.Hc().appendTo(this.root);this.listenTo(this.view,{add:this.add,submit:this.submit});for(a=0;a<this.Pr;a++)this.add()}f=kG.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;_.extend(kG.prototype,Backbone.Events);f=kG.prototype;f.add=function(a,b){var c=new mG({changed:void 0!==a,focus:!!b,placeholder:this.placeholder,sd:this.sd,title:a||""});this.items.push(c);this.view.render(this.items);this.items.length>=this.Lw&&this.view.Qi.remove();this.listenTo(c,{empty:this.kE.bind(this,c)})};
f.accept=function(a){this.items.forEach(function(b){if(b.toString()===a){b.stopListening(b.view);var c=b.view,d=!b.ip;c.$el.removeClass("dynamicListItemRejected");nG(c,"dynamicListItemAccepted",d);b.ip=!0}});oG(this)};function oG(a){0===a.od().length&&a.view.Et.toggleClass("buttonSpinner",!1)}f.od=function(){return this.items.filter(function(a){return!a.ip&&!a.isRejected()&&!a.Dt}).filter(function(a){return a.hasChanged()})};
f.reject=function(a){this.items.forEach(function(b){if(b.toString()===a){b.stopListening(b.view);var c=b.view,d=!b.Ns;c.$el.removeClass("dynamicListItemAccepted");nG(c,"dynamicListItemRejected",d);b.Ns=!0}});oG(this)};f.remove=function(a){var b=this.items.indexOf(a);a.remove();this.stopListening(a);0<=b&&this.items.splice(b,1)};f.kE=function(a){this.items.length>this.Pr&&this.remove(a)};
f.submit=function(){function a(a){return a.hasChanged()}function b(a){a.stopListening(a.view);nG(a.view,"dynamicListItemSubmitted",!a.Dt);a.Dt=!0}function c(a){this.trigger("item",a.Ka(),a.getSelection())}setTimeout(function(){oG(this);this.od().forEach(c,this);this.items.filter(a).forEach(b);this.trigger("submit")}.bind(this),500)};function lG(){}lG=Backbone.View.extend({className:"dynamicList"});f=lG.prototype;f.initialize=function(a){this.lm=a.lm;this.Cd=a.Cd;this.ak=a.ak;this.Mk=a.Mk||"";this.Er=!1;this.Aw=0;this.As=!1;this.placeholder=a.placeholder};f.events=function(){return{"click .dynamicListItemAdder button":this.gE,"input .dynamicListItemAdder input":this.hE,"keydown .dynamicListItem input":this.lE,"keydown .dynamicListItemAdder input":this.iE,"keydown .buttonSubmit:not(:disabled)":this.ZC,"mousedown .buttonSubmit:not(:disabled)":this.$C}};
f.Hc=function(){return this.$el};function pG(a){function b(){this.Qi.addClass("dynamicListItemAdded");setTimeout(c.bind(this),300);this.trigger("add",d.val(),!0);d.val("");this.As=this.Er=!1}function c(){this.Qi.removeClass("dynamicListItemAdded")}var d=a.Qi.find("input"),e=Date.now();500<e-a.Aw&&(a.Aw=e,a.As?setTimeout(b.bind(a),300):b.call(a))}f.submit=function(){this.Qi.find("input").blur();this.Et.toggleClass("buttonSpinner",!0);this.As=!0;this.trigger("submit")};f.gE=function(){pG(this)};
f.hE=function(){this.Er=!0;pG(this)};f.ZC=function(a){13===a.which&&this.submit()};f.$C=function(){this.submit()};f.iE=function(a){if(13===a.which||9===a.which)this.Er?pG(this):a.shiftKey||this.$el.find(".buttonSubmit").focus()};f.lE=function(a){if(13===a.which||9===a.which)return a.shiftKey?$(a.target).parent().prev().find("input").focus():$(a.target).parent().next().find("input").focus(),!1};
f.render=function(a){var b=qG(this);this.Mk&&this.$el.append(this.fC||(this.fC=$('\x3ch3 class\x3d"dynamicListHeading"\x3e\x3c/h3\x3e').text(this.Mk)));this.ak&&this.$el.append(this.Vz||(this.Vz=$('\x3cp class\x3d"dynamicListBlurb"\x3e\x3c/p\x3e').text(this.ak)));this.$el.append(b);a.forEach(function(a){rG(a);b.append(a.view.Hc())});b.append(this.Qi||(this.Qi=sG(this)));this.$el.append(this.Et||(this.Et=tG(this)));return this};
function qG(a){a=a.$el.find("ul");0===a.length&&(a=$('\x3cul class\x3d"dynamicListItems"\x3e'));return a}function sG(a){var b,c=$('\x3cli class\x3d"dynamicListItem dynamicListItemAdder"\x3e\x3c/li\x3e');a.lm?b=$('\x3cbutton class\x3d"dynamicListItemAdderButton textInput"\x3e+ Add another\x3c/button\x3e'):(b=$('\x3cinput class\x3d"dynamicListItemValue textInput" value\x3d"" autocomplete\x3d"off" /\x3e'),b.attr("placeholder",a.placeholder));c.append(b);return c}
function tG(a){var b=$('\x3cbutton class\x3d"button buttonBlock buttonSubmit"\x3e\x3c/button\x3e');b.text(a.Cd);b.append('\x3cdiv class\x3d"spinner" /\x3e');return b};function mG(a){function b(a){return!0===a.selected}this.ip=!1;this.changed=a.changed;this.focus=a.focus;this.placeholder=a.placeholder;this.Dt=this.Ns=!1;this.selection=void 0;this.sd=a.sd;this.title=a.title;this.view=new uG;this.listenTo(this.view,{change:this.change,commit:this.JA,select:this.select});this.sd&&(this.selection=(this.sd.filter(b)[0]||{}).value,this.changed&&this.sd&&vG(this.view,this.sd))}mG.prototype.listenTo=Backbone.Events.listenTo;mG.prototype.stopListening=Backbone.Events.stopListening;
mG.prototype.trigger=Backbone.Events.trigger;_.extend(mG.prototype,Backbone.Events);f=mG.prototype;f.change=function(a){this.title=a;!this.changed&&this.sd&&this.sd&&vG(this.view,this.sd);this.changed=!0};f.JA=function(){this.hasChanged()&&(this.isEmpty()?this.trigger("empty"):this.trigger("commit"))};f.Ka=function(){return this.title};f.getSelection=function(){return this.selection};f.hasChanged=function(){return this.changed};f.isEmpty=function(){return""===this.title};f.isRejected=function(){return!!this.Ns};
f.select=function(a){a!==this.selection&&(wG(this,a),this.changed=!0)};function wG(a,b){a.sd.forEach(function(a){a.value===b&&(this.selection=b)},a)}f.remove=function(){xG(this.view);this.stopListening(this.view)};function rG(a){function b(){c.view.focus()}var c=a;a.view.render(a.title,a.placeholder);a.focus&&setTimeout(b,0)}f.toString=function(){return this.title};function uG(){}uG=Backbone.View.extend({tagName:"li",className:"dynamicListItem"});f=uG.prototype;f.events=function(){return{"blur input":this.aE,"focus input":this.cE,"input input":this.dE,"keypress input":this.eE,"click input":this.bE,"change select":this.QE}};f.focus=function(){var a,b;b=this.$el.find("input").get(0);a=b.value.length;b.createTextRange?b.focus():b.setSelectionRange&&(b.selectionStart||0===b.selectionStart)?(b.focus(),b.setSelectionRange(a,a)):b.focus()};f.Hc=function(){return this.$el};
function xG(a){a.$el.addClass("dynamicListItemRemoved");window.setTimeout(function(){this.remove();this.off()}.bind(a),300)}f.aE=function(){this.trigger("commit")};f.cE=function(a){$(a.target).select();a.preventDefault();return!1};f.dE=function(a){a=$(a.target).val();this.trigger("change",a)};f.eE=function(a){13!==a.which&&9!==a.which||this.trigger("commit")};f.bE=function(a){$(a.target).select();a.preventDefault();return!1};f.QE=function(a){a=$(a.target).val();this.trigger("select",a)};
f.render=function(a,b){var c="dyn"+Date.now();this.input||(this.input=$('\x3cinput autocomplete\x3d"off" class\x3d"dynamicListItemValue textInput" /\x3e').attr("name",c).attr("placeholder",b),this.$el.empty(),this.$el.append(this.input));this.input.val(a);this.Gh&&this.$el.append(this.Gh);return this};
function vG(a,b){function c(a){var b=$("\x3coption\x3e");b.val(a.value).text(a.text).prop("selected",a.selected);this.select.append(b)}function d(){this.Gh.removeClass("dynamicListItemCategoryAppear")}a.Gh||(a.Gh=$('\x3cspan class\x3d"select dynamicListItemCategory"\x3e\x3c/span\x3e'),a.Gh.addClass("dynamicListItemCategoryAppear"),setTimeout(d.bind(a),350),a.select=$("\x3cselect\x3e\x3c/select\x3e"),a.Gh.append(a.select),b.forEach(c,a));a.$el.append(a.Gh)}
function nG(a,b,c){c&&(a.$el.addClass("dynamicListItemMarked"),setTimeout(function(){a.$el.removeClass("dynamicListItemMarked")},350));a.$el.find("input").prop("disabled",!0);a.$el.find("select").prop("disabled",!0);a.$el.addClass(b)};function yG(){}yG=Backbone.View.extend({className:"dropdownPane"});yG.prototype.initialize=function(){this.once("show",this.render)};yG.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function zG(){}zG=X.extend({className:"dropdownMenuPopoverContainer"});f=zG.prototype;f.initialize=function(a){X.prototype.initialize.call(this,a);this.gj=[];this.Tf=null;this.on("show",this.PG);this.on("remove",this.RF)};f.render=function(){X.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.gj.forEach(function(b){b.$el.appendTo(a)});return this};function AG(a,b){a.listenTo(b,"show",a.CG);a.listenTo(b,"show",a.Dh);a.gj.push(b)}
f.Dh=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.Kj=function(){X.prototype.Kj.call(this);this.Tf&&this.Dh(this.Tf);return this};f.CG=function(a){this.Tf=a};f.PG=function(){0<this.gj.length&&this.gj[0].show()};f.RF=function(){this.Tf=null;this.gj.forEach(function(a){a.remove()});this.gj.length=0};function IC(){}IC=zG.extend();f=IC.prototype;
f.initialize=function(a){zG.prototype.initialize.call(this,a);this.ne=a.ne;this.document=a.document;this.oa=a.oa;this.na=a.na;this.Pc=this.document.za();this.jl=null;this.rr=this.ur=!1;this.lq=a.lq;this.Lq=a.Lq;this.ii=a.ii;this.B=a.B;this.fq=null;var b=BG,c=this.Pc.getName(),d=this.Pc.sb(),e=!!this.oa.Ia.get(kd),g=!!this.oa.Ia.get(wd),h=Ed(this.oa);a=a.mh;var k=this.B;k.jd||(k.jd=new wc(k.Da));this.Bv=new b({Ir:c,gq:d,Aq:e,Bq:g,Cq:h,mh:a,jd:k.jd});b=CG;c=this.Pc.F();d=this.B;d.xe||(d.xe=new yc(d.Da));
this.we=new b({se:c,xe:d.xe});b=DG;c=xj(this.document);d=wj(this.document);e=this.B;e.ef||(e.ef=new xc(e.Da));this.Qu=new b({Xp:c,Vp:d,ef:e.ef});b=EG;c=this.Pc.F();d=this.B;d.Wc||(d.Wc=new zc(d.Da));this.qd=new b({se:c,Wc:d.Wc});AG(this,this.Bv);AG(this,this.we);AG(this,this.Qu);AG(this,this.qd);this.listenTo(this.Bv,"show",this.MH);this.Av()};
f.events=function(){var a=zG.prototype.events.call(this);a["click .documentSaveButton"]=this.ED;a["click .documentCopyButton"]=this.gD;a["click .documentResizePaneButton"]=this.lD;a["click .documentResizeButton"]=this.jD;a["click .customDimensionsPaneButton"]=this.hD;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.pE;a["blur .customDimensionsWidth, .customDimensionsHeight"]=this.YC;a["click .customDimensionsResizeButton"]=this.iD;a["click .magicResizePaneButton"]=this.yD;a["change .magicResizePane input"]=
this.cD;a["click .magicResizeButton:enabled"]=this.xD;a["click .button.retry"]=this.Av;a["click .resizeUpgradeCta .buttonLearnMore"]=this.kD;return a};f.ko=function(a){this.trigger("documentResizeRequested",a)};function FG(a){var b=GG(a.$(".customDimensionsWidth")),c=GG(a.$(".customDimensionsHeight")),d=xj(a.document),e=wj(a.document);b===d&&c===e?a.cancel():(b=cl(b,c),a.ko(b),a.ok())}function HG(a){a.jl||(a.jl=tn(3E4),a.jl.finally(function(){a.jl=null}));return a.jl}
f.Av=function(){this.Ky({});Vk(this.lq,this.Lq).bind(this).then(function(a){return this.fq=nl(a)}).then(IC.GF).then(this.Ky).catch(this.cC)};f.kD=function(){var a=this.ii;a.analytics.track("learn_more_magic_design");Fi(a,IG)};f.Ky=function(a){this.we.ft(a);this.Tf===this.we&&(this.we.render(),this.Dh(this.we));this.qd.ft(a);this.Tf===this.qd&&(this.qd.render(),this.Dh(this.qd),JG(this))};
f.cC=function(){this.we.gt();this.Tf===this.we&&(this.we.render(),this.Dh(this.we));this.qd.gt();this.Tf===this.qd&&(this.qd.render(),this.Dh(this.qd))};f.MH=function(){if(!this.rr){var a=this;this.rr=!0;HG(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.rr=!1})}};function GG(a){var b=parseFloat(a.prop("value")),c=0,c=40>b?40:5E3<b?5E3:Math.round(b);a.val(String(c));return c}
function JG(a){a.ur||(a.ur=!0,HG(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.ur=!1}))}f.ED=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.gD=function(){var a=this.na.Ea();window.open(sD(a,"remix",Jk(this.na)),"");this.ok()};f.lD=function(){this.we.show()};
f.jD=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.za().F())b.cancel();else{var a=_.find(b.fq,function(a){return a.F()==c});b.ko(a);b.ok()}})};f.hD=function(){this.Qu.show()};f.pE=function(a){13===a.keyCode&&FG(this)};f.YC=function(a){GG($(a.currentTarget))};f.iD=function(){FG(this)};f.yD=function(){this.qd.show();JG(this)};f.cD=function(){JG(this)};
f.xD=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled");a=$(a.currentTarget);a.blur();a.prop("disabled",!0);c.toArray().forEach(function(a){var c=this.na.Ea();(a=window.open(sD(c,"remix",Jk(this.na))+"?resizeTo\x3d"+encodeURIComponent(a.value),""))&&b.push(a)},this);this.qd.$(".errorMessage").remove();b.length===c.length?this.ok():(b.forEach(function(a){a.close()}),a.prop("disabled",!1),this.rt());null!=I&&I.track("magic_resize")};
f.rt=function(){KG.mH(this.ne)?(new KG({ne:this.ne})).show():(this.qd.rt(),this.Dh(this.qd))};IC.GF=function(a){var b={PIXELS:"px",INCHES:"in",CENTIMETERS:"cm",MILLIMETERS:"mm"};a=a.map(function(a){var d=a.sb(),e=b[d.units];return{id:a.F(),displayName:a.getName(),displayDimensions:d.A()+e+" × "+d.C()+e,category:a.categoryName||a.category}});return a=_.groupBy(a,"category")};function BG(){}
BG=yG.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle"\x3e\x3c%- data.layoutName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',null,
{variable:"data"})});BG.prototype.initialize=function(a){yG.prototype.initialize.call(this);this.Ir=a.Ir;this.gq=a.gq;this.Aq=a.Aq;this.Bq=a.Bq;this.Cq=a.Cq;this.mh=a.mh;this.jd=a.jd};
BG.prototype.render=function(){var a=moment(this.mh).fromNow();this.$el.html(this.template({documentDimensions:this.gq.print(),enableDocumentResize:this.Aq,enableMagicResize:this.Bq,layoutName:this.Ir,magicResizeLabel:this.jd.format("editorFileMenuPaneMagicResize"),changeDimensionsLabel:this.jd.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.jd.save(),makeACopyLabel:this.jd.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.jd.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.Cq,
resizeUpgradePrompt:this.jd.cG(),learnMoreButtonLabel:this.jd.Jr(),lastSavedLabel:this.jd.xC(a)}));return this};function CG(){}
CG=yG.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',null,
{variable:"data"})});CG.prototype.initialize=function(a){yG.prototype.initialize.call(this);this.jk={};this.se=a.se;this.eh=!1;this.xe=a.xe};
CG.prototype.render=function(){this.$el.html(this.template({documentTypes:this.jk,fetchFailed:this.eh,useCustomDimensions:this.xe.Ty(),couldNotBeLoaded:this.xe.Pp(),tryLoadingAgain:this.xe.Pt(),fetchingDesignTypes:this.xe.Kq()}));if("custom"!==this.se)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.se){a.eq(b).addClass("selected");break}return this};CG.prototype.ft=function(a){this.eh=!1;this.jk=a};CG.prototype.gt=function(){this.eh=!0};function DG(){}DG=yG.extend({className:"dropdownPane customDimensionsPane"});DG.prototype.initialize=function(a){yG.prototype.initialize.call(this);this.Xp=a.Xp;this.Vp=a.Vp;this.ef=a.ef;this.on("show",this.RB)};DG.prototype.render=function(){this.$el.html(this.template({defaultWidth:Math.ceil(this.Xp),defaultHeight:Math.ceil(this.Vp),actionResize:this.ef.Cz(),times:this.ef.times(),pixelsUnit:this.ef.yx()}));return this};DG.prototype.RB=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
DG.prototype.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e" min\x3d"40" max\x3d"5000" step\x3d"10"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e" min\x3d"40" max\x3d"5000" step\x3d"10"\x3e \x3c%- pixelsUnit %\x3e\x3c/fieldset\x3e\x3cfooter\x3e\x3cbutton class\x3d"button customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/footer\x3e');function EG(){}
EG=yG.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',null,
{variable:"data"}),CF:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',null,{variable:"data"})});f=EG.prototype;f.initialize=function(a){yG.prototype.initialize.call(this);this.se=a.se;this.jk={};this.eh=!1;this.Wc=a.Wc};
f.render=function(){this.$el.html(this.template({documentTypes:this.jk,currentDocumentTypeId:this.se,fetchFailed:this.eh,copyAndResize:this.Wc.QA(),couldNotBeLoaded:this.Wc.Pp(),tryLoadingAgain:this.Wc.Pt(),fetchingDesignTypes:this.Wc.Kq(),currentDesignSize:this.Wc.XA(),abracadabraResize:this.Wc.vz(),ohSnap:this.Wc.XC(),multipleTabs:this.Wc.VC()}));this.$('input:not([value\x3d"'+this.se+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.se+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");
return this};f.ft=function(a){this.eh=!1;this.jk=a};f.gt=function(){this.eh=!0};f.rt=function(){this.$("footer").prepend(this.CF())};function dG(){}dG=X.extend();f=dG.prototype;f.events=function(){var a=X.prototype.events.call(this);a["click .buttonPaid"]=this.BD;a["click .buttonFree"]=this.vD;return a};f.initialize=function(a){this.lo=a.lo;var b={title:"Please select a price",content:$(dG.Og()),Db:""};X.prototype.initialize.call(this,_.extend({},b,a))};f.render=function(){X.prototype.render.call(this);this.$(".buttonContainer").remove();return this};f.BD=function(){$("#fileUpload").data("marketplacePaidMedia",!0);this.lo(1);this.remove()};
f.vD=function(){this.lo(0);this.remove()};dG.Og=_.template('\x3cp\x3eWhat price would you like to charge for these images?\x3c/p\x3e\x3cdiv class\x3d"priceButtons"\x3e\x3cbutton class\x3d"button buttonBlock buttonPaid"\x3e$1.00\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonFree"\x3eFREE\x3c/button\x3e\x3c/div\x3e');function LG(){}LG=X.extend();f=LG.prototype;f.events=function(){var a=X.prototype.events.call(this);a["click .downloadPng"]=this.nD;a["click .downloadStandardPdf"]=this.pD;a["click .downloadPrintPdf"]=this.oD;a["click .downloadJpg"]=this.mD;a["click .optionsToggle \x3e a"]=this.AD;a["change .pageRangeOption \x3e input"]=this.dD;a["input .pageRange"]=this.fE;a["click .exportTransparentUpgradeCta.buttonLearnMore"]=this.sD;return a};
f.initialize=function(a){this.oa=a.oa;this.model=a.model;this.Fg=a.Fg;this.Vd=a.Vd;var b=this.B=a.B;b.$b||(b.$b=new Ic(b.Da));this.$b=b.$b;a=_.defaults(a,{Db:"",content:$(LG.Og({displayRemoveCanvasOption:!!this.oa.Ia.get(yd),showUpgradeCta:!this.oa.Ia.get(yd)&&Ed(this.oa),learnMoreLabel:this.$b.format("exportPopOverLearnMoreButton"),jpgLabel:this.$b.format("exportPopOverJpgButton"),pngLabel:this.$b.format("exportPopOverPngButton"),pdfStandardLabel:this.$b.format("exportPopOverPdfStandardButton"),
pdfPrintLabel:this.$b.format("exportPopOverPdfPrintButton"),allPagesLabel:this.$b.Iz(),pagesInRangeLabel:this.$b.format("exportPopOverInRangePagesLabel"),invalidPageRange:this.$b.sC("\x3cbr\x3e"),pagesInRangePlaceholder:this.$b.format("exportPopOverInRangePagesPlaceholder"),publishWithCropMarks:this.$b.PF(),makeBackgroundTransparent:this.$b.GC(),options:this.$b.format("exportPopOverOptions")})),title:this.$b.title()});X.prototype.initialize.call(this,a)};
f.render=function(){function a(){Kj(this.model)||($("\x3cb\x3e").text("OK, all done!").appendTo(this.$(".error")),this.$(".exportButtons \x3e button").removeClass("disabled").prop("disabled",!1),this.stopListening(this.model,"change",a))}X.prototype.render.call(this);this.$(".dialog").addClass("exportDialog");this.$(".buttonContainer").remove();var b="";this.model.isEmpty()?b=this.$b.format("exportPopOverEmptyDesignError"):Kj(this.model)&&(b=this.$b.format("exportPopOverDownloadsInProgressError"),
this.listenTo(this.model,"change",a));b&&($("\x3cp\x3e").addClass("error").text(b).insertBefore(this.$(".exportButtons")),this.$(".exportButtons \x3e button").addClass("disabled").prop("disabled",!0));return this};
function MG(a,b,c){var d=[],e=a.$(".pageRange").val(),g=yj(a.model).length;if(LG.hp.test(e))for(var e=e.split(","),h=0;h<e.length;h++){var k=e[h].split("-"),l=parseInt(k[0],10);if(!isNaN(l)){var m=l=Math.max(1,Math.min(l,g));1<k.length&&(m=parseInt(k[1],10),m=isNaN(m)?g:Math.max(1,Math.min(m,g)));var k=l,n=m;n<k&&(k=m,n=l);for(l=0;d[l]<k;)l++;for(;k<=n;)d[l]!==k&&d.splice(l,0,k),l++,k++}}g=!!a.$(".cropsAndBleed \x3e input").prop("checked");e="JPG"!=b?!!a.$(".removeCanvas \x3e input").prop("checked"):
!1;switch(a.model.za().F()){case "facebookCover":a="JPG"==b?100:null;break;default:a=null}return{outputType:b,pageRange:d,includeCrops:g,includeBleed:g,removeCanvas:e,targetImageSizeKb:a,mediaDpi:c}}function NG(a,b){var c=ae(a.model.za().sb()),c=new OG({bv:c.A(),Zu:c.C(),js:yj(a.model).length,Fg:a.Fg,B:a.B});PG(c,b);QG(c,c.S.Um);c.show();RG(c);a.ok()}
function SG(a){var b=a.$(".pageRange"),c=a.$(".pageRangeError");a=b.val().trim();""===a||LG.hp.test(a)?(b.removeClass("hasError"),c.removeClass("on")):(b.addClass("hasError"),c.addClass("on"),b.one("blur",function(){c.removeClass("on")}))}f.nD=function(a){a.preventDefault();NG(this,MG(this,"PNG",96))};f.pD=function(a){a.preventDefault();NG(this,MG(this,"PDF",96))};f.oD=function(a){a.preventDefault();NG(this,MG(this,"PDF",300))};f.mD=function(a){a.preventDefault();NG(this,MG(this,"JPG",96))};
f.AD=function(a){a.preventDefault();a=this.$(".exportOptions");var b=this.$(".optionsToggle");b.hasClass("on")?(a.css("height","0"),a.addClass("hidden"),b.removeClass("on")):(a.css("height",a.find(".inner").prop("clientHeight")+"px"),a.removeClass("hidden"),b.addClass("on"),a=this.$(".pageRange"),""===a.val().trim()&&a.val(""),a=a.val(),LG.hp.test(a)||this.$(".pageRangeOption \x3e input").eq(0).prop("checked",!0))};
f.dD=function(){var a=this.$(".pageRange");this.$(".pageRangeOption \x3e input").eq(1).prop("checked")?(a.focus().select(),SG(this)):a.removeClass("hasError")};f.fE=function(){this.$(".pageRangeOption \x3e input").eq(1).prop("checked",!0);SG(this)};f.sD=function(){var a=this.Vd;a.analytics.track("learn_more_transparent_bg");Fi(a,TG)};LG.hp=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;LG.Og=_.template('\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock downloadJpg"\x3e\x3c%- jpgLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPng"\x3e\x3c%- pngLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadStandardPdf"\x3e\x3c%- pdfStandardLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPrintPdf"\x3e\x3c%- pdfPrintLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"exportOptions hidden"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"all" checked\x3e \x3c%- allPagesLabel %\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption pageRangeOptionEnter"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"custom"\x3e \x3c%- pagesInRangeLabel %\x3e\x3c/label\x3e\x3cinput type\x3d"text" class\x3d"pageRange textInput" placeholder\x3d"\x3c%- pagesInRangePlaceholder %\x3e"\x3e\x3cspan class\x3d"pageRangeError"\x3e\x3c%- invalidPageRange %\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"cropsAndBleed"\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed"\x3e \x3c%- publishWithCropMarks %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% if (displayRemoveCanvasOption || showUpgradeCta) { %\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"removeCanvas \x3c%- showUpgradeCta ? "disabled" : "" %\x3e"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" \x3c%- showUpgradeCta ? "disabled": "" %\x3e\x3e \x3c%- makeBackgroundTransparent %\x3e \x3c/label\x3e\x3c% if (showUpgradeCta) { %\x3e\x3cbutton class\x3d"exportTransparentUpgradeCta button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"optionsToggle"\x3e\x3ca href\x3d"#"\x3e\x3c%- options %\x3e \x3cspan class\x3d"icon arrow"\x3e\x26#xe003;\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e');function UG(){}UG=X.extend();UG.prototype.events=function(){var a=X.prototype.events.call(this);a["click .resubmitLayout"]=this.DD;return a};UG.prototype.initialize=function(a){this.fG=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(UG.Og({status:b})),Db:""};X.prototype.initialize.call(this,_.extend({},b,a))};
UG.prototype.render=function(){X.prototype.render.call(this);this.$(".buttonContainer").remove();return this};UG.prototype.DD=function(){this.fG();this.remove()};UG.Og=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function VG(){}VG=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});VG.prototype.events=function(){return{"click button":this.send,submit:this.send}};VG.prototype.initialize=function(a){this.mode=a.mode;this.Gd=a.Gd;this.rb=a.rb};VG.prototype.render=function(){this.$el.html(VG.template({sendLabel:this.rb.send(),placeholder:this.rb.mv()}));return this};
VG.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(Ms).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{cg:a,mode:this.mode,Gd:this.Gd}))};VG.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function WG(){}WG=X.extend({className:"descriptionPopOver"});f=WG.prototype;f.initialize=function(a){var b={title:Cb(a.B).format("editorControlsPopoverHeadingDesignTitle"),content:$("\x3ctextarea\x3e").addClass("textInput")};a=_.extend({},b,a);X.prototype.initialize.call(this,a);this.on("hide",this.JD)};f.events=function(){var a=X.prototype.events.apply(this,arguments);a["keydown textarea"]=this.qE;return a};
f.render=function(){X.prototype.render.call(this);var a=this.model.Ka();gC(a)?this.$("textarea").val(""):this.$("textarea").val(a.Ek());return this};f.ee=function(a){X.prototype.ee.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};f.JD=function(a){var b=this.$("textarea"),c=this.model.Ka(),b=b.val().trim();2!==a&&0!==a||b===c.Ek()||(I&&(a=I,a.track("design",{title:b,source:"typed",template:a.te})),hC(c,b))};
f.qE=function(a){var b=a.altKey||a.shiftKey;13!=a.which||b||(a.preventDefault(),this.ok())};function XG(){}XG=Jm.extend({id:"exportDialog"});f=XG.prototype;f.events=function(){var a=Jm.prototype.events.call(this);a["click .startExport"]=this.Ph;return a};f.initialize=function(a){a=_.defaults({},a,{cj:$.noop,dj:$.noop});Jm.prototype.initialize.call(this,_.extend(a,{la:xf}));this.ah=new YG(xa);this.listenTo(this.ah,"change:state",this.gl);this.cj=this.cj||a.cj;this.dj=this.dj||a.dj;this.yc=a.yc};f.Uq=function(){return Jl(Il(Hl(new Gl,u.Ea()),u.Yb()),Fl(Dl(Cl(new Al,96))).Tj("PREVIEW"))};
f.gl=function(a,b){"complete"===b?this.dj():"error"===b?(Mm(this,this.yc.format("exportDialogTitlePublishingError")),this.$(".content").append(this.ei({buttonClass:"startExport",buttonText:this.yc.format("exportDialogButtonTryAgain")})),this.$(".exporting").html(this.uv({messagePleaseRetry:this.yc.Dq(),htmlReportError:ZG(this)}))):"exporting"===b&&$G(this)};f.remove=function(){Jm.prototype.remove.call(this);this.ah.cancel()};
f.render=function(){Jm.prototype.render.call(this);this.$(".content").append('\x3cdiv class\x3d"exporting"\x3e');return this};f.show=function(){Jm.prototype.show.call(this);this.Ph();return this};
function $G(a){var b=a.$(".exporting"),c=0,d=$('\x3cdiv class\x3d"progress"\x3e\x3c/div\x3e'),e=$('\x3cdiv class\x3d"progressValue"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3c/div\x3e');e.css("width","2%");d.append(e);b.empty();a.cj();b.prepend(d);a.$(".buttonContainer").remove();var g=window.setInterval(function(){c++;50<Math.floor(100*Math.random())&&e.css("width",10*c+"%");10===c&&(e.css("width","100%"),window.clearInterval(g))},400)}
function ZG(a){var b=u.Ea();return a.yc.format("exportDialogErrorReport","mailto:support@canva.com?subject\x3dPublishing%20Error\x26body\x3d"+encodeURIComponent("I ran into trouble emailing the following design: "+sD(b,"view",void 0)))}f.Ph=function(){this.ah.io(this.Uq())};f.ei=_.template('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button \x3c%- buttonClass %\x3e"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c/p\x3e');f.uv=_.template("\x3cp\x3e\x3c%- messagePleaseRetry %\x3e\x3c/p\x3e\x3cp\x3e\x3c%\x3d htmlReportError %\x3e\x3c/p\x3e");
function aH(){}aH=XG.extend({className:"shareExport"});f=aH.prototype;f.events=function(){var a;a=XG.prototype.events.call(this);a["click .share"]=this.kF;return a};f.initialize=function(a){this.type=a.type;this.name=a.name;this.url=a.url;this.width=a.width;this.height=a.height;this.Xe=a.Xe;XG.prototype.initialize.call(this,{title:this.Xe.title(this.name),yc:a.yc})};f.cj=function(){var a=$("\x3cp\x3e").text(this.Xe.xs(this.name));this.$(".exporting").empty().append(a)};
f.dj=function(){var a=$("\x3cp\x3e").text(this.Xe.Yp());this.$(".content").append(this.ei({buttonClass:"share",buttonText:this.Xe.format("shareDialogActionText")}));this.$(".exporting").empty().append(a)};f.kF=function(a){a.preventDefault();bH.openWindow(this.url,this.width,this.height);this.ok()};function bH(){}bH=Backbone.View.extend({className:"shareView"});f=bH.prototype;f.events=function(){return{"click .buttonFacebook":this.tD,"click .buttonTwitter":this.FD,"click .shareButtonEmail":this.rD,"click .shareButtonPinterest":this.CD,"click .shareButtonLinkedIn":this.wD,"change .shareOptions input":this.eD,"focus .shareLink input":this.RD,"mousedown .shareLink input":this.vE}};
f.initialize=function(a){this.location=a.location;this.sw=null;var b=u.context.yk().view;if(b){var c=u.Ea();this.sw=uD(sD(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(b),c,this.location,"link")}this.rw=null;if(b=Kk())c=u.Ea(),this.rw=uD(sD(c,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(b),c,this.location,"link");this.LG=tD(u.Ea(),this.location,"link");b=u.Ea();this.mG=sD(b,"screen",Jk(u));this.Nm=a.Nm;this.Ao=a.Ao;this.nk=new VG({mode:"default",Gd:Jk(u),rb:a.rb});this.oa=
a.oa;this.rb=a.rb;this.Iy=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=bH.Og;this.$el.append(a({emailButton:this.Nm,showSharingOptions:this.Ao,showFacebook:!!this.oa.Ia.get(md),showTwitter:!!this.oa.Ia.get(nd),showEmail:!!this.oa.Ia.get(od),showLinkedIn:!!this.oa.Ia.get(qd),showPinterest:!!this.oa.Ia.get(pd),shareOnFacebookTitle:this.rb.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.rb.format("shareViewShareOnTwitter"),shareOnPinterestTitle:this.rb.format("shareViewShareOnPinterest"),postLabel:this.rb.post(),
tweetLabel:this.rb.format("shareViewTweet"),pinItLabel:this.rb.format("shareViewPinIt"),shareLabel:this.rb.lt(),emailLabel:this.rb.email(),linkLabel:this.rb.link(),shareAsEditableDesign:this.rb.IG()}));this.$(".shareEmail").append(this.nk.render().el);this.listenTo(this.nk,"sendClicked",this.qD);this.listenTo(this,"emailSendingError",this.dB);this.$("#shareLinkDefault").val(this.LG);this.$("#shareLinkViewer").val(this.sw||"");this.$("#shareLinkEditor").val(this.rw||"");return this};
f.Dg=function(a,b,c,d){this.trigger("shareClicked",{type:a,url:b,height:c,width:d})};f.tD=function(a){a.preventDefault();a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(tD(u.Ea(),this.location,"facebook"));this.Dg("facebook",a,550,420)};
f.FD=function(a){a.preventDefault();a=this.Iy[Math.floor(Math.random()*this.Iy.length)];a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(tD(u.Ea(),this.location,"twitter"))+"\x26text\x3d"+encodeURIComponent(a);this.Dg("twitter",a,550,420)};f.CD=function(a){a.preventDefault();a="http://pinterest.com/pin/create/button/?url\x3d"+encodeURIComponent(tD(u.Ea(),this.location,"pinterest"))+"\x26media\x3d"+encodeURIComponent(this.mG);this.Dg("pinterest",a,316,744)};
f.wD=function(a){a.preventDefault();a="https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(tD(u.Ea(),this.location,"linkedin"));this.Dg("linkedin",a,606,445)};f.rD=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.qD=function(a){this.trigger("emailSend",a)};
f.eD=function(a){this.$(".shareLink").removeClass("default editor");if(a.currentTarget.checked){a=this.nk;var b=Kk()||null;a.mode="editor";a.Gd=b;this.$(".shareLink").addClass("editor");this.$(".shareLink label").attr("for","shareLinkEditor")}else a=this.nk,b=Jk(u)||null,a.mode="default",a.Gd=b,this.$(".shareLink").addClass("default"),this.$(".shareLink label").attr("for","shareLinkDefault")};f.RD=function(a){$(a.currentTarget).select()};f.vE=function(a){$(a.currentTarget).focus();a.preventDefault()};
f.dB=function(a){var b=this.nk.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};bH.Og=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3c% if (showFacebook) { %\x3e\x3cbutton class\x3d"button buttonFacebook" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showTwitter) { %\x3e\x3cbutton class\x3d"button buttonTwitter" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showPinterest) { %\x3e\x3cbutton class\x3d"button shareButtonPinterest" title\x3d"\x3c%- shareOnPinterestTitle %\x3e"\x3e\x3c%- pinItLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showLinkedIn) { %\x3e\x3cbutton class\x3d"button shareButtonLinkedIn" title\x3d"\x3c%- shareOnLinkedInTitle %\x3e"\x3e\x3c%- shareLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (emailButton \x26\x26 showEmail) { %\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail" style\x3d"\x3c% if (!emailButton) { %\x3e display: block; \x3c% } %\x3e"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e\x3c% if (showSharingOptions) { %\x3e\x3cdiv class\x3d"shareOptions toggle"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e \x3c%- shareAsEditableDesign %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"shareLink default"\x3e\x3clabel for\x3d"shareLinkDefault"\x3e\x3c%- linkLabel %\x3e\x3c/label\x3e\x3cdiv\x3e\x3cinput id\x3d"shareLinkDefault" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkEditor" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkViewer" readonly type\x3d"hidden"\x3e\x3c/div\x3e\x3c/div\x3e');
bH.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function cH(){}cH=XG.extend({className:"shareExport shareViaEmail"});f=cH.prototype;f.events=function(){var a=XG.prototype.events.call(this);a["click .retryEmail"]=this.gG;return a};f.initialize=function(a){XG.prototype.initialize.call(this,{title:"Emailing...",yc:a.yc});this.Rc=a.Rc;this.hq=a.hq;this.mode=a.mode;this.Gd=a.Gd;this.cg=a.cg;this.vt=new sm(a.mC)};f.Uq=function(){var a;a=XG.prototype.Uq.call(this);a.Zq().pages=[1];return a};
f.cj=function(){var a=$("\x3cp\x3e").text(this.Rc.progress());Mm(this,this.Rc.title());this.$(".exporting").empty().append(a)};f.dj=function(){dH(this)};f.gG=function(a){a.preventDefault();dH(this);$G(this)};function dH(a){var b=Cm(Bm(Am(zm(ym(new xm,a.hq),a.mode),a.Gd),a.cg),"sharebutton");um(a.vt,b).bind(a).then(a.TG).catch(a.NG)}
f.NG=function(){Mm(this,this.Rc.format("emailDialogErrorTitle"));this.$(".content").append(this.ei({buttonClass:"retryEmail",buttonText:this.yc.format("exportDialogButtonTryAgain")}));this.$(".exporting").html(this.uv({messagePleaseRetry:this.Rc.Dq(),htmlReportError:ZG(this)}))};
f.TG=function(){var a=this.cg.length,b=this.cg[0],a=1===a?this.Rc.format("emailDialogEmailSentToSingleAddress",b):this.Rc.format("emailDialogEmailSentToMultipleAddresses",a),a=$("\x3cp\x3e").text(a);Mm(this,this.Rc.format("emailDialogSuccessTitle"));this.$(".content").append(this.ei({buttonClass:"done",buttonText:this.Rc.format("emailDialogButtonDone")}));this.$(".done").focus();this.$(".exporting").empty().append(a)};function eH(){}eH=X.extend();f=eH.prototype;f.defaults=function(a){return{title:a.title(),Db:""}};f.initialize=function(a){a=_.extend(this.defaults(Ib(a.B)),a);X.prototype.initialize.call(this,a);this.B=a.B;this.uj=new bH({location:"sharebutton",Nm:!1,Ao:!(!Kk()||!u.context.yk().view),oa:ed(),rb:Ib(a.B)});this.listenTo(this.uj,{shareClicked:this.Dg,emailSend:this.yq})};
f.render=function(){X.prototype.render.call(this);this.$(".dialog").addClass("shareDialog");this.$(".buttonContainer").remove();this.$(".content").append(this.uj.render().el);return this};f.Dg=function(a){this.ok();var b={facebook:"Facebook",linkedin:"LinkedIn",pinterest:"Pinterest",twitter:"Twitter"}[a.type];if(void 0===b)throw Error("Sharing type "+a.type+" not handled.");(new aH({name:b,type:a.type,url:a.url,height:a.height,width:a.width,yc:Kb(this.B),Xe:Mb(this.B)})).show();I&&Mf(a.type,"sharebutton")};
f.yq=function(a){this.ok();(new cH({hq:u.Ea(),mode:a.mode,Gd:a.Gd,cg:a.cg,mC:Ba,Rc:Ob(this.B),yc:Kb(this.B)})).show();I&&Mf("email","sharebutton")};function JC(){}JC=Backbone.View.extend({el:"#canvaDocument"});JC.$A=function(){$("#addNewPage").remove();JC.Gz=!0};f=JC.prototype;f.events=function(){return{"click #addNewPage":this.hA,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.Rr,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.oG}};f.remove=function(){this.undelegateEvents();this.stopListening();this.xa.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.oF,"page:move":this.pF,"page:remove":this.qF,resize:this.Mq});this.listenTo(H,{"pageView:copyButton:click":this.ox,"pageView:deleteButton:click":this.ox,"pageView:toolbar:mouseout":this.tF});this.xa=[];var b=this;this.model.S.forEach(function(c){b.xa.push(new fH({model:c,th:Eb(a.B)}))});this.B=a.B;this.$d=this.Nk=this.oc=this.Cs=0;this.tp=!1;this.LC=he(this);this.Ae=function(){var a=b.model.S[0],a=Math.max(a.A(),a.C());return Math.max(1,
Math.min(a/1024))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.xa.forEach(function(c,d){c.render();a.append(c.$el);c.Ve(gH(b,d));c.$el.addClass("on")});var c=this.xa[this.xa.length-1].$el,d=this.$("#addNewPage");JC.Gz?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",gH(this,this.xa.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),zj(this.model.za())&&(this.$el.addClass("multiPage"),1<this.model.S.length&&30<=this.model.S.length&&this.$("#addNewPage").addClass("off")));var c=
gH(this,0),d=hH(this),e=DB();a.css("height",c+d+($(window).height()-e.qa()));this.Mq();return this};f.hA=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Aj(this.model);var b=gy(a.serialize(!0));b.pageIndex=S(this.model,a);D.register(new iy(1,b))}iH(this);return!1};
f.oG=function(){var a=this.$el.scrollTop()||0,b=gH(this,0),c=DB(),d;d=this.model;d=S(d,L(d));var e=this.xa[d].$el.offset(),g=this.Cs<a?"down":"up",h=-1;H.trigger("documentView:scroll",a);Vh();this.Cs=1*a;jH(this);window.clearTimeout(this.Nk);if(!this.$el.hasClass("modifying")){d=$(window).height();if(IB>d/2)for(c=0;c<this.xa.length-1;c++){h=b+c*(IB+JB);if(h<a){if(e=h+IB-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+IB)?c:c+1;break}else"up"==g&&e.top+IB>c.qa()?h=Math.floor((a+$(window).height()-
(b-JB))/(IB+JB))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(IB+JB)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.S.length-1);0<=h&&(h=Math.min(this.model.S.length-1,h),h=Math.max(0,h),tj(this.model,h))}};
f.mousemove=function(a){this.LC.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.xa.forEach(function(a){var d=a.fa();he().write(function(){b>d.K()&&b<d.qa()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.xa.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.Rr=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||4<Math.abs(b)||4<Math.abs(a)){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),tj(q,S(q,r)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);Dj(q,r,b);b=a=h+a;a<x?(b=(x-a)/(x-w),b=2>=b?x-(x-a)*(1-b/4):w):a>A&&(b=(a-A)/(y-A),b=2>=b?A+(a-A)*(1-b/4):y);d.Ve(b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=r.W(),e=gH(v,a);d.$el.animate({top:e},500,"easeOutBack",function(){d.Ve(e);d.$el.removeClass("dragging")});D.register(new iy(5,{pageIndex:a,oldPageIndex:p}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.xa.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=d.fb(),k=!1,l=new V($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.xa.length;n++)m.push(gH(this,n)-IB/2);var q=this.model,r=d.model,p=S(q,r),v=this,w=gH(this,-1),y=gH(this,this.xa.length),x=gH(this,0),A=gH(this,this.xa.length-1);return!1}};
f.qF=function(a,b,c){Q();var d=this,e=this.xa[c];window.clearTimeout(this.Nk);this.oc&&tj(a,Math.min(a.S.length-1,c));b={height:0,top:gH(this,c)+this.$d*(IB+JB)};this.oc&&c==a.S.length&&(b.top+=IB);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:500,ze:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.oc?Gx&&(d.Nk=window.setTimeout(function(){jH(d)},1E3)):kH(d)}});this.xa.splice(c,1);lH(this,c);this.$el.hasClass("holding")||mH(this,
c)};
f.oF=function(a,b,c,d){30<=this.model.S.length&&this.$("#addNewPage").addClass("off");Q();a=!0;!1===d&&(a=!1);d=S(this.model,b);c=b.C()*O;var e=this.xa[0];this.xa.splice(d,0,new fH({model:b,th:Eb(this.B)}));var g=this.xa[d];b=e.$a();var h=this,k=gH(this,d,this.model.S.length-1);nH(g,b,k+this.$d*(IB+JB));g.$el.addClass("on").css("height",0);window.clearTimeout(this.Nk);this.oc?tj(this.model,d-1):a&&tj(this.model,d);0==d?g.$el.insertBefore(e.$el):g.$el.insertAfter(this.xa[d-1].$el);h.$el.addClass("modifying");var l=
gH(this,d);g.$el.animate({height:c,top:l},{duration:500,ze:"easeOutSine",queue:!1,complete:function(){g.Ve(l);h.$el.removeClass("modifying");h.oc&&Gx&&(h.Nk=window.setTimeout(function(){jH(h)},1E3))}}).css("overflow","");lH(this,d);a&&!this.$el.hasClass("holding")&&mH(this,d)};
f.pF=function(a,b,c,d){function e(a,b){return function(){a.Ve(b)}}a=this.xa[c];b=this.xa[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.xa.splice(d,0,this.xa.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.xa[c],a.$el.hasClass("dragging")||(b=gH(this,c),a.$el.animate({top:b},500,e(a,b)));mH(this,d)};f.ox=function(){this.oc=this.oc||this.model.S.length;this.$el.addClass("holding");30>=this.model.S.length&&this.$("#addNewPage").removeClass("off")};f.tF=function(){jH(this)};
function jH(a){a.oc&&!a.$el.hasClass("modifying")&&(a.oc=0,a.$d=0,lH(a,0,!0),a.$el.removeClass("holding"))}function kH(a){if(!nn){var b=DB(),c=a.xa[0],d=oH(c),e=pH(c),g;d.A()<=b.A()?(g=b.O()+Math.round((b.A()-d.A())/2),a.$el.children(".inner").css("width","")):(g=b.O()+b.A()/6,a.$el.children(".inner").css("width",g+e.A()+g));a.xa.forEach(function(b,c){var d=gH(a,c);nH(b,g,d)});e=pH(c);a.$("#addNewPage").css("top",gH(a,a.xa.length)).css("left",e.O()).css("width",e.A())}}
function gH(a,b,c){var d=gl(a.model.za())*O;void 0===c&&(c=a.model.S.length);a.oc&&(c=a.oc);var e=DB(),g=Math.round(50*O);a=hH(a,c);c=e.K();nn?c=0:a<=e.C()&&(c+=(e.C()-a)/2);return c+(d+g)*b}function hH(a,b){var c,d=gl(a.model.za())*O;void 0===b&&(b=a.model.S.length);void 0===c&&(c=HB);a.oc&&(b=Math.max(a.oc,b));c=GB[c];var e=a.$("#addNewPage"),d=b*d+50*(b-1)*c;a.model.wr()&&!$("body").hasClass("blockDocument")&&(d+=50*c+e.outerHeight());return Math.round(d)}
function qH(a,b){var c=DB(),d=hH(a);d>c.C()?(d=gH(a,0)+d+(a.$el.prop("clientHeight")-c.qa()),IB>c.C()&&(d+=c.A()/6)):d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:500,ze:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function lH(a,b,c){var d=gl(a.model.za());void 0===b&&(b=0);void 0===c&&(c=0<a.oc);qH(a,c);var e=0;a.oc&&b==a.model.S.length?(c=(a.$d||a.oc)-b,a.$d!=c-1&&(c=a.$d+1,a.$d=b),e+=(d+50*O)*c,a.$d=c):a.$d&&(c=a.$d,e+=(d+50*O)*c);a.$("#addNewPage").animate({top:gH(a,a.xa.length)+e},{duration:500,ze:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.xa.forEach(function(a,b){var c=gH(this,b)+e,n=c+d;!this.oc&&!this.$d||n>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:500,ze:"easeOutSine",queue:!1,complete:function(){a.Ve(c)}}):a.Ve(c)},a);window.setTimeout(function(){for(var b=0;b<a.xa.length;b++)a.xa[b].$el.removeClass("transitioning")},500)}
function mH(a,b){b=Math.max(0,Math.min(a.xa.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.xa.length-1)c=DB(),c=gH(a,a.model.S.length)+a.$("#addNewPage").height()-c.qa();else{var d=gH(a,b),e=d+IB,g=a.$el.prop("clientHeight"),g=c+g;g<e?c+=e-g+48:c>e&&(c-=c-d+48)}a.tp||c==a.$el.scrollTop()||(a.tp=!0,a.$el.animate({scrollTop:c},500,"easeOutSine",function(){a.tp=!1}))}
f.Mq=function(a){a=a||L(this.model);var b=DB(),c=HB,d=pH(this.xa[a.W()]).scale(1/O),c=d.A(),e=d.C();if(nn||0===c||0===e)c=GB.indexOf(1);else{d=b.A()/c;t&&t.wr&&t.wr()?(d=(b.A()-$(".pageToolbar").outerWidth(!0))/c,(e+50)*d>b.C()-this.$("#addNewPage").outerHeight()&&(d=(b.C()-this.$("#addNewPage").outerHeight())/(e+50))):e*d>b.C()&&(d=b.C()/e);-1==kb.indexOf(sn)&&(b=GB.indexOf(sn),GB.splice(b,1));sn=Math.min(d,1);for(b=GB.length-1;0<=b;b--)if(sn<GB[b]){GB.splice(b+1,0,sn);break}else if(sn==GB[b])break;
c=GB.indexOf(sn)}KB(this,c,a)};function kr(a){for(var b=Ja,c=0;c<b.xa.length;c++)if(b.xa[c].model==a)return b.xa[c].fa();return null}
function KB(a,b,c){c=c||L(a.model);a.$el.addClass("zooming");c=a.xa[c.W()];HB=b;O=GB[b];JB=Math.round(50*O);IB=Math.round(oH(c).C());hA();H.trigger("documentView:zoom",b);kH(a);qH(a,!1);b=DB();var d=a.$el.children(".inner").width();c=rH(c);d>b.A()&&(d=Math.round(c.O()+c.A()/2),d=Math.round(d-b.O()-b.A()/2),c.A()<b.A()&&(d+=(b.A()-c.A())/2),a.$el.scrollLeft(d));hH(a)>b.C()&&(c=Math.round(c.K()+c.C()/2),a.Cs=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(c-b.qa()/2)));a.model.ha().forEach(function(a){a.ua()});
Su(Ab(a.B));a.$el.removeClass("zooming")}function iH(a){a.$el.focus().blur();window.getSelection().removeAllRanges()};function lj(){}lj=X.extend();lj.prototype.initialize=function(a){this.analytics=a.analytics;this.me=a.me;this.Se=a.Se;this.anchor=a.anchor;this.Yj=a.Yj;this.Qh=a.Qh;this.zy=0;a=_.extend({},{wj:!0,position:"topLeft",Md:{left:10,top:-10}},a);X.prototype.initialize.call(this,a);0<this.Qh?(this.listenTo(this.Se,"session:sync",this.$v),this.analytics&&Nf(this.analytics,this.me)):sH(this)};
lj.prototype.$v=function(a){2==a&&(a=0===$(".modalContent").length,this.zy++,a&&this.zy>=this.Qh&&(sH(this),this.stopListening(this.Se,"session:sync",this.$v)))};function sH(a){a.ee(a.anchor);tH(a);a.analytics&&a.analytics.track("dialog_show",{type:a.me,section:"editor",subsection:"header",location:"publish_pop_over"})}function tH(a){a.anchor.one("click",function(){a.analytics&&Of(a.analytics,a.Yj,"header",a.me+"_dialog")})}lj.prototype.dn=function(){return uH};
lj.prototype.remove=function(){this.analytics&&Pf(this.analytics,this.me,"header","publish_pop_over");Jm.prototype.remove.call(this)};function vH(a,b,c){this.context=a;this.active=!!c;this.Xa=b}vH.prototype.getContext=function(){return this.context};
function wH(a){switch(a.context){case "PUBLIC_STREAM":return a.Xa.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.Xa.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.Xa.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":return a.Xa.format("editorControlsPublicationMarketplace");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
function xH(a){switch(a.context){case "PUBLIC_STREAM":return a.Xa.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.Xa.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.Xa.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.Xa.format("editorControlsPublicationMakeActivePublishAsLayout");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
vH.prototype.toggle=function(a){return new vH(this.context,this.Xa,void 0!==a?a:!this.active)};var yH={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},zH={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout"};function AH(){}AH=X.extend({className:"docPublisherPopOver"});AH.prototype.initialize=function(a){X.prototype.initialize.call(this,a);this.Xa=a.Xa};
function BH(a,b){function c(a,c){return new vH(b[c].getContext(),d.Xa,wD(a))}var d=a,e=b.map(function(a){return new vD({on:a.active})}),g=e.map(function(a,c){var e=$(d.oH({label:xH(b[c])}));e.addClass(zH[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new CH)})})}AH.prototype.ni=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
AH.prototype.oH=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function DH(a){this.analytics=a.analytics;this.document=a.document;this.na=a.na;this.fc=a.fc;this.fg=a.fg;this.kj=[];var b={};b.PUBLIC_STREAM=this.lj.bind(this);b.TEAM_STREAM=this.Bp.bind(this);b.TEAM_TEMPLATE=this.Rl.bind(this);b.MARKETPLACE_LAYOUT=this.NF.bind(this);this.MF=b;b={};b.PUBLIC_STREAM=this.Jj.bind(this);b.TEAM_STREAM=this.Dp.bind(this);b.TEAM_TEMPLATE=this.Tl.bind(this);this.KH=b;this.Zj=this.am=null;this.Xa=a.Xa}f=DH.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;
f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.Du=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.Xa.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function EH(a,b){var c=a.Xa;a.Zj=b.Jg.get("associatedMedia",null);a.kj=ue(b).map(function(a){return new vH(a,c,0<=b.Jg.get("activePublicationContexts",[]).indexOf(a))});return a}
function FH(a){return[].concat(a.kj).map(Object.freeze)}
f.Oy=function(a){function b(){return a.some(function(a){return a.active})}var c=this,d=function(){return a.map(function(a,b){var d=a.active?c.MF:c.KH;return a.active!==c.kj[b].active&&d[a.getContext()]})}();if(0===d.filter(function(a){return!!a}).length)return P.resolve(a);this.trigger("processingStateChange",!0);return tn(1E3).then(function(){var e=d.map(function(a){return a?a():P.resolve(null)});return P.settle(e).then(function(d){var e=d.filter(function(a){return a.isRejected()});c.kj=d.map(function(b,
d){return(b.isFulfilled()?a:c.kj)[d]});if(0<e.length)throw e[0].reason();b()&&GH(c);return c.kj})}).finally(function(){c.trigger("processingStateChange",!1)})};function HH(a){var b=(new Wp).Sj(!0);return a.Zj?vr(ya,a.Zj,b).then(function(a){return a.ia().ub()}):null!==a.Zj?P.resolve("PENDING_REVIEW"):P.resolve(null)}f.Bp=function(){return this.na.lj("BRAND")};f.lj=function(){return this.na.lj("GLOBAL").tap(function(){var a=this.analytics,b=this.na.Ea();a.track("design_public",{design:b,template:a.te})}.bind(this))};
f.Rl=function(){return this.na.Rl().tap(function(){var a=this.analytics,b=this.na.Ea();a.track("design_templatify",{design:b,template:a.te})}.bind(this))};f.Dp=function(){return this.na.Jj("BRAND")};f.Jj=function(){return this.na.Jj("GLOBAL").tap(function(){var a=this.analytics,b=this.na.Ea();a.track("design_private",{design:b,template:a.te})}.bind(this))};f.Tl=function(){return this.na.Tl().tap(function(){var a=this.analytics,b=this.na.Ea();a.track("design_untemplatify",{design:b,template:a.te})}.bind(this))};
f.NF=function(){var a=this;return gC(this.document.Ka())?P.reject(Error("You cannot publish an untitled design as a layout - please title your design.")):function(){function b(a){return!!a.ba}return a.document.ha().some(function(a){return(a.origin?a.origin.zb():"CANVA")===Fo})||a.document.S.some(b)}()?P.reject(Error("You cannot publish a design based from an existing layout.")):new P(function(b,c){function d(c,d){"submitted"==d&&(Ux(),b(new vH("MARKETPLACE_LAYOUT",a.Xa,!0)))}var e=new IH(a.na,a.fc),
g=new JH({workflow:e});e.on("change:state",d);g.on("remove",function(){e.off("change:state",d);c(Error("No action specified"))});g.show()})};function KH(a){var b=Cl(Dl(Fl(new Al)).Tj("THUMBNAIL"),96);return new P(function(c,d){var e=Jl(Il(Hl(new Gl,a.na.Ea()),a.na.Yb()),b);a.fg.gi(e,c,d)})}function GH(a){function b(){c.am=null}var c=a;a.am||(a.am=KH(a),a.am.finally(b))}
function CH(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}CH.prototype=Object.create(Error.prototype);CH.prototype.constructor=CH;function LH(a,b){return a.Jg.get("editorActions",[]).map(function(a){return(a=MH[a]||null)?a(b):null})}
var MH={UPGRADE:function(a){var b=new NH({Xa:Cb(a.B)});b.on("click",function(){var b=new OH,d=Hm(Em()).ma(),e=cC(),b=PH({jc:wa,analytics:a.analytics,Na:d,ij:QH(b),wy:e,xj:!1,Tg:!1,B:a.B});b.on("signup",function(){window.location="/brand/onboarding/upgrader"});RH(b);Qf(I,"editor")});return b},SHARE:function(a){var b=Cb(a.B),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(b){(new eH({model:a.document,B:a.B})).ee($(b.target))}}});c.$el.text(b.lt());return c},
EXPORT:function(a){var b,c,d,e,g,h;b=Cb(a.B);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c=!1;if("2"==window.localStorage.getItem("CHOF")&&a.oa.Ia.get(Bd)){c=!0;try{window.localStorage.setItem("CHOF","3")}catch(d){}}(new LG({model:a.document,oa:a.oa,Fg:c||"DESIGN_TUTORIAL"===a.Da.ae(),Vd:a.ii,B:a.B})).ee($(b.target))}}});try{d=Lf()}catch(k){}e=a.document.za().F();g=a.document.za().getName();h=b.download();if(d&&"invitation"===e&&a.oa.Ia.get(Cd)){d=
d&&d.getItem("dwldctaexpv");switch(d){case "download_my_doctype":h=b.format("editorControlsDownloadMy",g);break;case "finish_my_doctype":h=b.format("editorControlsFinishMy",g);break;case "save_my_doctype":h=b.format("editorControlsSaveMy",g);break;case "send_my_doctype":h=b.format("editorControlsSendMy",g)}a.la.requestAnimationFrame(function(){$("#documentTitle").css("width","calc(100% - "+($("#documentMenu").outerWidth()+55)+"px)")})}c.$el.text(h);return c}};MH.PUBLISH_TO_STREAM=function(a){function b(){return FH(l).filter(function(a){return a.active}).sort(function(a,b){var c=yH[a.getContext()]||0,d=yH[b.getContext()]||0;return c===d?0:c>d?-1:1})[0]}function c(a){null!==a&&(a===Cr?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),Ux()))}function d(b){var c=Cb(a.B);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new Sm({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Cb(a.B),e=FH(l).map(function(a,d){return new vH(a.getContext(),c,b&&0===d?b:a.active)}),h=new AH({Db:c.format("editorControlsPublicationSaveChanges"),Xa:c}),k=h.remove.bind(h);return BH(h.ee(m.$el),e).then(l.Du.bind(l)).then(l.Oy.bind(l)).finally(g).tap(k).catch(CH,k).catch(d)}function g(){var a=b()||FH(l)[0];if(a){n=!0;try{var c=m,d=wH(a);c.fl=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=FH(l).map(function(b){return b.toggle(a)});return l.Du(b).then(l.Oy.bind(l)).finally(g).catch(d)}var k=ue(a.Da),l=EH(new DH({analytics:a.analytics,na:a.na,document:a.document,fc:a.fc,fg:a.fg,Xa:Cb(a.B)}),a.Da),m=function(){var a=FH(l),c=a[0],d=b()||c;(a=d?new vD({on:d.active,fl:wH(d),Fn:xH(c),ci:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&HH(l).then(c);m.on("toggle",function(a){var b=
FH(l),c=1<b.length?e:h;m.ci=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){m.ci||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});return m};function NH(){}NH=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});NH.prototype.initialize=function(a){this.Xa=a.Xa};NH.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};NH.prototype.render=function(){this.$el.html(this.template({upgrade:this.Xa.SH()}));return this};NH.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function KC(){}KC=Backbone.View.extend({el:"#editorControls"});KC.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.Mt);this.listenTo(this.model,"resize",this.Mt);this.listenTo(this.model,"change",this.gB);this.listenTo(H,"documentView:scroll",this.hB);this.listenTo(H,"documentView:zoom",this.iB);this.listenTo(H,"session:sync",this.ct);this.oa=a.oa;this.ag=a.ag;this.na=a.na;this.jq=2;this.kq=!1;this.mh=Date.now();this.Po=a.Po;this.lp=a.lp;this.Rp=a.Rp;this.B=a.B;this.render()};
KC.prototype.events=function(){return{"click #documentFileMenuButton":this.mA,"click #documentTitle .content":this.qA,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.pA,"click #documentFileMenuRedoButton":this.oA,"click #editorLogo":this.nA}};KC.aB=function(){$(".helpMenuButton").remove();KC.gC=!0};KC.cB=function(){$("#yourDesigns").remove();KC.eI=!0};
KC.HG=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);KC.ty=a};KC.jr=function(){return void 0!==KC.ty};KC.TB=function(a){return"profileHeader"===a.model.za().F()?new SH(a):new KC(a)};f=KC.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.Mt();KC.gC&&this.$(".helpMenuButton").remove();KC.jr()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(KC.ty));KC.eI&&this.$("#yourDesigns").remove();this.lp.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};
f.mA=function(a){a=$(a.target);var b=this.Rp();b.ee(a);this.listenTo(b,"documentSaveRequested",this.lG);this.listenTo(b,"documentResizeRequested",this.ko)};f.qA=function(a){KC.jr()||(new WG({model:this.model,B:this.B})).ee($(a.currentTarget))};f.pA=function(){$("#documentBlocker").hasClass("on")||dv()};f.oA=function(){$("#documentBlocker").hasClass("on")||cv()};f.nA=function(){-1!=re.indexOf(this.ag.ae())&&I&&I.Gj("minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};
f.gB=function(){0<D.qc.length?this.$("#primaryNavigation").removeClass("undoDisabled"):(this.$("#primaryNavigation").addClass("undoDisabled"),this.$("#documentFileMenuUndoButton").blur());0<D.nj.length?this.$("#primaryNavigation").removeClass("redoDisabled"):(this.$("#primaryNavigation").addClass("redoDisabled"),this.$("#documentFileMenuRedoButton").blur())};f.iB=function(){$("#zoomText").text(Math.round(1E3*O)/10+"%")};f.hB=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.Mt=function(){var a=this.model.Ka();KC.jr()||(this.$("#documentTitle .content").text(Py(a)),this.Po&&this.Po(Py(a,{oC:!0})))};f.ct=function(a){function b(a){var b=Cb(c.B),g=$("#documentSyncStatus");0===a&&null!=c.na.Sf?g.text(b.format("editorControlsUnsavedChanges")):1===a?g.text(b.Vx()):2===a?g.text(b.tu()):g.text("")}var c=this;2===a&&(this.mh=Date.now());this.jq=a;this.kq||(b(a),window.setTimeout(function(){c.jq!==a&&b(c.jq);c.kq=!1},600),this.kq=!0)};
f.lG=function(){this.na.save();null==this.na.Sf||this.na.Ie()||(this.ct(1),this.ct(2))};f.ko=function(a){var b=new ky(2,{"new":{docType:a},old:{docType:this.model.za(),model:this.model.serialize(!0)}}),c=this.model.Ka();c.Zp=a.getName();c.trigger("change");Q();D.register(b);b.Bf()};function SH(){}SH=KC.extend({});
SH.prototype.initialize=function(a){KC.prototype.initialize.apply(this,arguments);this.username=$("head").find("meta[name\x3dauthorUsername]").attr("content");$(".editorActionShare").hide();this.stopListening(this.model,"change:title");this.$(".editorActionExport").text("Publish");this.render()};function TH(a){this.lb=a.lb;this.Dy=!!a.Dy;this.Kt=!!a.Kt}
TH.prototype.inject=function(){var a=this.Xd(),a=a&&a.Z(),b=[],c;UH(this)&&(c=document.createElement("style"),c.id="editorTheme",document.head.appendChild(c),a&&(b.push(VH(".editorControlsInner","background-color",a)),b.push(VH(".switchProcessing .switchHandle","color",a)),this.Kt&&(b.push(VH(".menuActionsList .button","background-color","transparent")),b.push(VH(".menuActionsList .button:hover","background-color",a)),b.push(VH(".menuOptionsList label:hover","background-color",a)),b.push(VH(".menuActionsList .button:active",
"background-color",a)),b.push(VH("#objectPanel \x3e menu a:hover","color",a,!0)),b.push(VH("#objectPanel \x3e menu a:hover svg","fill",a,!0))),this.Dy&&b.push(VH(".buttonThemeable:not(.disabled)","background-color",a))),b.forEach(c.sheet.insertRule.bind(c.sheet)))};function VH(a,b,c,d){var e=[".isBranded"];d&&e.push(".isLightTheme");return e.join("")+" "+a+" { "+b+": "+c+"; }"}TH.prototype.Xd=function(){var a=UH(this)&&this.lb.Xd();return a?R(fi(a)):null};
function UH(a){return!(!a.lb||!a.lb.Xd())}function WH(a){var b=UH(a)&&a.lb.Xd(),b=b&&R(fi(b));return UH(a)?!!(b&&208<Kh(b)):!1};function LC(){}LC=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=LC.prototype;f.initialize=function(a){this.ve=a.ve;this.B=a.B;H.on("documentView:zoom",this.Cl,this);this.listenTo(this.model,{"page:change:selected":this.render,resize:this.Cl});this.Yk=this.Yk.bind(this);this.Bm=this.Bm.bind(this);this.Om=this.Om.bind(this);this.ve.$el.on("mousedown",this.Yk);this.ve.$el.on("touchstart",this.Bm);this.ve.$el.on("touchend",this.Om);this.$el.html(this.template());this.render();this.$el.prependTo(this.ve.$el.children(".inner"))};
f.remove=function(){Backbone.View.prototype.remove.call(this);this.ve.$el.off("mousedown",this.Yk);this.ve.$el.off("touchstart",this.Bm);this.ve.$el.off("touchend",this.Om)};f.render=function(){this.model.ha().forEach(function(a){a.Nb&&a.va()});return this};f.Cl=function(){var a=el(this.model.za());this.$el.css("left",-a*O)};f.Bm=function(){this.ww=!0};f.Om=function(){this.ww=!1};
f.Yk=function(a,b){function c(a){m||a.shiftKey||Q();m=!0;var b=e(a)-r;a=g(a)-p;0>b&&x.css("left",v+b);0>a&&x.css("top",w+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(B).each(function(a,b){iD.call(b)});return!1}function d(a){A.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&y.forEach(gD);m&&(a=t.wa(),0===a.length?Q():1==a.length?(Q(),Md(a[0])):Su(Ab(h.B)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
a-=q.left;return a+=n*O}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=q.top}var h=this;if(h.ww||3==a.which||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img");if(!(k||l||b)||0<$(".dd-container.on").length)return!0;var m=!1,n=el(this.model.za()),q=$("#canvaDocument").offset(),r=e(a),p=g(a),k=document.getElementById("canvaDocument"),
v=r+k.scrollLeft,w=p+k.scrollTop,y=t.wa();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||Q();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",w).appendTo(this.$el);var A=new V($(document));A.on("mousemove|touchmove",c).on("mouseup|touchend",d);var B=$("#content .element");iH(h.ve);a.preventDefault()};function fH(){}fH=Backbone.View.extend({tagName:"section",className:"page"});fH.bB=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");fH.sF=!0};f=fH.prototype;f.events=function(){return{"mousedown \x3e .elements":this.Rr,"mouseout .pageToolbar":this.MC,"click .pageToolbarCopy.enabled":this.FA,"click .pageToolbarDelete.enabled":this.GA,"click .pageToolbarDown.enabled":this.HA,"click .pageToolbarUp.enabled":this.IA,click:this.zA}};
f.initialize=function(a){this.th=a.th;this.listenTo(H,"documentView:zoom",this.mq);this.listenTo(this.model,{change:this.OA,"change:background":this.Au,"change:selected":this.Xx,"change:preview":this.IF,"element:add":this.rB,"element:move":this.tB,"element:remove":this.uB,resize:this.dG,willchange:this.PA});this.listenTo(this.model.Ta,{"page:add":this.iq,"page:move":this.iq,"page:remove":this.iq});this.render()};
f.render=function(){var a=this.model.Ta,b=this.model.W();this.$el.html(this.template({pageNumber:b+1,isFirst:a&&0==b,isLast:a&&b==a.S.length-1,isPageNumMax:a&&30<=a.S.length,pageToolbarClass:fH.sF?"disabled":"",actionMoveUp:this.th.Bz(),actionMoveDown:this.th.Az(),actionCopy:this.th.yz(),actionDelete:this.th.zz()}));this.mq();this.Xx(0,S(a,L(a))===b);this.model.ea=this.$el;this.Au();return this};f.$a=function(){return this.model.$a()};
f.et=function(a){var b=el(this.model.za())*O;this.model.et(a);this.$el.css("left",a-b)};f.fb=function(){return this.model.fb()};f.Ve=function(a){var b=fl(this.model.za())*O;this.model.Ve(a);this.$el.css("top",a-b)};function nH(a,b,c){a.et(b);a.Ve(c)}
f.Rr=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;!h&&(4<Math.abs(b)||4<Math.abs(a))&&(h=!0)}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);h||0<d.wa().length||ev(Bj(d))}if(a.target===a.currentTarget||0!==$(a.target).closest(".element.background.image").length){var d=this.model;if(!(0<d.wa().length)){var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
g=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,h=!1,k=new V($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.zA=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Ta;var b=S(a,this.model);tj(a,b)}};f.IA=function(){var a=this.model.Ta;if(a){var b=this.model.W();1>b||(Dj(a,this.model,b-1),D.register(new iy(5,{pageIndex:b-1,oldPageIndex:b})),iH(Ja))}};
f.HA=function(){var a=this.model.Ta;if(a){var b=this.model.W();b>=a.S.length-1||(Dj(a,this.model,b+1),D.register(new iy(5,{pageIndex:b+1,oldPageIndex:b})),iH(Ja))}};f.FA=function(){H.trigger("pageView:copyButton:click");var a=this.model.W(),b=this.model.clone();Dj(this.model.Ta,b,a+1);b=gy(b.serialize(!0));b.pageIndex=a+1;D.register(new iy(1,b));iH(Ja)};
f.GA=function(){H.trigger("pageView:deleteButton:click");var a=this.model.W();this.model.remove();var b=gy(this.model.serialize());b.pageIndex=a;D.register(new iy(2,b));iH(Ja)};f.MC=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&H.trigger("pageView:toolbar:mouseout")};f.PA=function(){this.ol&&this.ol.remove();this.ol=this.$el.clone();this.ol.addClass("doNotAnimate").insertAfter(this.$el)};
f.OA=function(){var a=this;this.$el.one("animationend",function(){a.$el.addClass("on").css("opacity","");a.ol.remove()}).css("opacity",1).removeClass("on").insertAfter(this.ol)};f.Au=function(){this.model.un()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.Xx=function(a,b){this.$el.toggleClass("selected",b)};
f.rB=function(a,b,c,d){function e(){Q();g.removeClass("dropping");Md(b);g.hasClass("text")&&Xu(g,!0)}var g=b.D(),h=XH(this,b),h=h&&h.D();c&&(g.one("animationend",e),b.setPosition((a.A()-b.A())/2,(a.C()-b.C())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof Uo?g.appendTo(this.$el):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.children(".elements"));b.Nb=this.$el;b.ua()};
function XH(a,b){var c=a.model.elements.indexOf(b);return a.model.ha().slice(c+1).filter(function(a){return!(a instanceof Uo)&&!hp(a)})[0]}f.uB=function(a,b,c,d){var e=b.D();b.Od();d?e.addClass("disappearing").delay(300,function(){e.remove()}):e.remove()};f.tB=function(a,b){var c=b.D(),d=XH(this,b);d?c.insertBefore(d.D()):c.appendTo(this.$el.children(".elements"))};
f.iq=function(){this.$(".pageNumber").text((this.model.W()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Ta,b=this.model.W(),c=a&&0==b,a=a&&b==a.S.length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");30<=Ja.model.S.length&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.mq=function(){var a=this.model.C()*O,b=this.$(".pageToolbar");this.$el.css("width",this.model.A()*O).css("height",a);if(300<a){b.addClass("vertical");var c=a/2+Ia+190;c>a?b.css("margin-top",+Ia-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","")};f.fa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return mh(rH(this),a,0)};
function oH(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return mh(pH(a),b,0)}function rH(a){return new M(a.$a(),a.fb(),parseInt(a.$el.css("width"),10),parseInt(a.$el.css("height"),10))}
function pH(a){if(!a.model||!a.model.za())return new M(0,0,0,0);var b=a.model.za(),c=ae(b.sb()),d=hl(b)-c.A(),b=gl(b)-c.C(),d=parseInt(a.$el.css("width"),10)+Math.round(d*O),b=parseInt(a.$el.css("height"),10)+Math.round(b*O);if(isNaN(d)||!isFinite(d)||0>=d)d=c.A();if(isNaN(b)||!isFinite(b)||0>=b)b=c.C();return new M(a.$a(),a.fb(),d,b)}f.dG=function(){this.mq();this.model.ha().forEach(function(a){a.ua()})};
f.IF=function(){var a=this.model.Bs;a?this.$el.css("background-image","url("+a+")").css("background-size","cover"):this.$el.css("background-image","none").css("background-size","")};f.template=_.template('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e\x3cmenu class\x3d"pageToolbar \x3c%\x3d pageToolbarClass %\x3e"\x3e\x3cli class\x3d"pageToolbarUp \x3c%\x3d isFirst ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveUp %\x3e"\x3e\x3c%- actionMoveUp %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown \x3c%\x3d isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveDown %\x3e"\x3e\x3c%- actionMoveDown %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy \x3c%\x3d isPageNumMax ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionCopy %\x3e"\x3e\x3c%- actionCopy %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete \x3c%\x3d isFirst \x26\x26 isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionDelete %\x3e"\x3e\x3c%- actionDelete %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e\x3c%\x3d pageNumber %\x3e\x3c/li\x3e\x3c/menu\x3e');function KG(){}KG=Jm.extend({className:"popupBlocked"});KG.nz={Chrome:!0,IE:!0};KG.mH=function(a){return a in KG.nz};f=KG.prototype;f.initialize=function(a){Jm.prototype.initialize.call(this,{la:xf,vj:!1,wj:!1});this.ne=a.ne};f.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
f.render=function(){Jm.prototype.render.call(this);this.$(".content").html(this.hC());var a=this.$(".popupBlockedStepDirections").eq(0);if("Chrome"===this.ne)a.append(this.eA),this.$el.addClass("popupBlockedChrome");else if("IE"===this.ne)a.append(this.nC),this.$el.addClass("popupBlockedIE");else throw Error('Unsupported browser "'+this.ne+'"');return this};
f.show=function(){Jm.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};f.hC=_.template('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3eYou\x26rsquo;re almost there!\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3eCanva just needs permission to open multiple tabs in your browser.\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 1\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 2\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3eTry resizing again by hitting the magic button in the \x3cbutton class\x3d"buttonLink button popupBlockedFileMenuLink"\x3eFile menu\x3c/button\x3e\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e');
f.eA=_.template("\x3cspan\x3eClick the pop-up blocker icon at the top of your browser and allow pop-ups.\x3c/span\x3e");f.nC=_.template("\x3cspan\x3eClick \x3cstrong\x3e\x26lsquo;Options for this site\x26rsquo;\x3c/strong\x3e and then \x3cstrong\x3e\x26lsquo;Always allow\x26rsquo;\x3c/strong\x3e in the Internet Explorer alert below.\x3c/span\x3e");function JH(){}
JH=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"dialogTitle"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),BC:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your layout\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your layout to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% Object.keys(locales).forEach(function(languageTag) { %\x3e\x3coption data-locale\x3d"\x3c%- languageTag %\x3e"\x3e\x3c%- locales[languageTag] %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),sB:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"0"\x3eFREE\x3c/option\x3e\x3coption value\x3d"1"\x3e$1.00\x3c/option\x3e\x3c/select\x3e\x3c/fieldset\x3e')});
f=JH.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.Us,"click .button.submitElementsMetadata":this.iH,"click .button.submitLayoutMetadata":this.jH,"click .close":this.cancel}};f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.pc.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.vc.cancel();c.off("hide",b)}var c=this;this.pc=new Km({style:Lm,la:xf});this.listenTo(this.pc,"maskClick",this.cancel);this.document=t;this.vc=a.workflow;this.on("hide",b);this.zt=Object.freeze([{Ip:["pricingLayout"],label:"Layout"},{Ip:["reviewingElements"],label:"Elements"},{Ip:["submitted"],label:"Review"}]);this.Hw=new YH({zt:this.zt});this.listenTo(this.vc,"change:state",this.gl)};
f.render=function(){this.$el.html(this.template({title:"Submit your design as a layout"}));this.$(".dialog").toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);return this};function ZH(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);$H(a);aI(a,c)}
function bI(a){cI(a.vc,function(b){var c="Your layout does not contain any media that will affect the final price.";0<b&&(c="Your layout contains priced media elements.",c+=" The final price of your layout will be increased by "+("$"+b/100+".00")+".");a.$(".dialog").css("height","12em");a.$(".content").html("");window.setTimeout(function(){a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e'+c+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");aI(a,"reviewElements")},300)})}
function dI(a){function b(a,b){var c=a.ia(),l=c.Lb()[Np],m=new M(0,0,l.A(),l.C());oe(m,e);m="width:"+m.A()+"px;height:"+m.C()+"px;margin-top:"+m.K()+"px;margin-left:"+m.O()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.aa());return d.sB({media:a.F(),version:c.V(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new M(0,0,118,118);eI(a.vc,function(a){if(a&&
0!==a.length){var e=a.length;2<a.length&&(e=2);e=(14*e+2.5).toFixed(1);d.$(".dialog").css("width","45em").css("height",e+"em");ZH(d,a.map(b).join(""),"submitElementsMetadata");2<a.length&&d.$(".metadataForm").css("height","24em").addClass("scrolling");c()}else a=d.vc,a.xq=[],a.sa.transition("price")})}function $H(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function fI(a){a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e\x3cstrong\x3eYour design is now in the hands of our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3eOnce review is complete we\x26#8127;ll let you know and you can start looking for people who are using your layout in the wild!\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e');a.$(".dialog").css("width","30em").css("height","15em");$H(a);window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');
a.$(".content").append(b);$H(a)},300)}function aI(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);$H(a)},300)}
f.gl=function(a,b){switch(b){case "pricingLayout":this.$(".dialog").css("width","30em").css("height","22em");var c=this.document.Ka(),d=this.document.ih();0===d.length&&(d=fC(c));ZH(this,this.BC({title:c.Ek(),keywords:d.join(", "),locales:window.availableLocales}),"submitLayoutMetadata");break;case "pricingElements":dI(this);break;case "reviewingElements":bI(this);break;case "reviewingSubmission":gI(this.vc);break;case "submitted":fI(this);break;case "failed":c=this.$(".content"),c.html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3eSomething went wrong submitting your layout.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e'),
c.find(".reviewNotice").css("text-align","center"),$H(this)}this.Hw.render(b)};f.show=function(){var a=this;this.render();this.pc.show(this.el);this.$(".dialog").delay(20,function(){$(this).removeClass("preparing")});this.Hw.show(this.$el.find(".flowProgress"));window.setTimeout(function(){a.vc.start()},300)};f.cancel=function(){this.remove()};f.ok=function(){this.remove()};f.jH=function(){var a=this;hI(this.$(".layoutMetadata"),function(b){iI(a.vc,b)})};f.Us=function(){this.vc.Us()};
f.iH=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.vc;c.xq=a;c.sa.transition("price")});c.each(function(){var b=$(this);jI(b,function(b){a.push(b);d()})})};
function jI(a,b){var c=""+a.find(".elementMetadataMedia").val(),d;d=""+a.find(".elementMetadataVersion").val();d=parseFloat(d);var e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=kI(""+a.find(".elementMetadataKeywords").val()),k;k=""+a.find(".elementMetadataPrice").val();k=parseFloat(k);isNaN(k)||0!==k&&1!==k||!lI(h)?alert("That's not valid data for an element."):b({media:c,version:d,title:e,description:g,keywords:h,price:k})}
function hI(a,b){var c=a.find(".layoutMetadataTitle").val(),d=kI(""+a.find(".layoutMetadataKeywords").val()),e=a.find(".layoutMetadataLocale :selected").data("locale");lI(d)?b({title:c,keywords:d,locale:e}):alert("I don't understand your layout.")}function lI(a){function b(){return!1}return Array.isArray(a)&&0===a.filter(b).length}function kI(a){return a?a.split(",").map(function(a){return a.trim().replace(/[^a-z0-9\s_-]/gi,"")}).filter(function(a){return""!==a}):[]};function OG(){}OG=Backbone.View.extend({id:"exportDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- actionCloseHint %\x3e"\x3e\x3c%- actionClose %\x3e\x3c/a\x3e\x3c/div\x3e')});f=OG.prototype;
f.events=function(){var a={};a["click a.close"]=this.cancel;a["click button.done"]=this.ok;a["submit .payment form"]=this.kH;a["click .payment a.draft"]=this.rA;a["click .licenseParent"]=this.AC;return a};f.remove=function(){this.$el.children(".dialog").addClass("disappearing").forceLayout();this.pc.hide();window.setTimeout(function(){_.values(this.S).forEach(function(a){a.remove()});Backbone.View.prototype.remove.call(this)}.bind(this),330);this.trigger("remove")};
f.initialize=function(a){function b(){c.zh.cancel();c.off("hide",b)}var c=this,d=new M(0,0,a.bv,a.Zu);oe(d,new M(0,0,100,100));this.pc=new Km({style:Lm,la:xf});this.listenTo(this.pc,"maskClick",this.cancel);this.B=a.B;this.X=Qb(this.B);this.Dx=!1;this.Fg=a.Fg;this.state={brand:Hm(Em()).ma().F(),thumbWidth:d.A(),thumbHeight:d.C(),thumbnailUrl:"https://static.canva.com/static/images/spacer.gif",billing:null,sessionDate:null,exportUrl:null,outputType:null,isDraft:!1,includeCrops:!1,includeBleed:!1,pageRange:_.range(1,a.js+
1),pageCount:a.js,creditPack:null,errorMessage:null,showHomepageHints:a.Fg};this.$e=wa;this.ud=cC();this.S={vB:new mI({model:this.state,X:this.X}),Io:new OG.cp({model:this.state,X:this.X}),Vs:new oI({model:this.state,X:this.X}),WH:new pI({model:this.state,X:this.X}),ZH:new qI({model:this.state,X:this.X}),tx:new rI({model:this.state,$e:this.$e,ud:this.ud,Cb:Sb(this.B)}),wF:new sI({model:this.state,X:this.X}),Um:new tI({model:this.state,X:this.X}),tv:new uI({model:this.state,X:this.X,rb:Ib(this.B)}),
CB:new vI({model:this.state,X:this.X}),Pz:new wI({model:this.state,X:this.X})};this.Ib=this.S.Io;this.Gx=0;this.zh=new xI(u,this.$e,xa);this.listenTo(this.zh,"change:state",this.gl);this.on("hide",b)};f.Ld=function(){return this.state};f.Ov=function(){return this.S};function QG(a,b){a.stopListening(a.Ib);a.listenTo(b,"contentResize",a.gk);a.listenTo(b,"close",a.ok);a.Ib=b}
f.render=function(){var a=this,b=this.$(".dialog"),c=b.data("class");if(0===this.$(".content").length||this.$(".content").is(":empty"))this.Ib.render(),this.$el.html(this.template({title:this.Ib.vd(this.Ib.td()),actionCloseHint:this.X.xz(),actionClose:this.X.nu()})),this.$(".content").append(this.Ib.$el),b=this.$(".dialog"),b.data("class",this.Ib.className),b.toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);else if(c!==a.Ib.className){var d=$('\x3cdiv class\x3d"content new"\x3e');
this.$el.queue("pageQueue",function(){a.Ib.render();a.$(".dialog \x3e h2").html(a.Ib.vd(a.Ib.td()));b.data("class",a.Ib.className);d.append(a.Ib.$el);yI(b,d);window.setTimeout(function(){a.Gx--;a.$el.dequeue("pageQueue")},1E3)});1==++this.Gx&&this.$el.dequeue("pageQueue")}return this};f.gk=function(){var a=this.$(".dialog .content").outerHeight();this.$(".dialog").css("height",a+40)};
function yI(a,b){var c=a.outerHeight();a.addClass("preparing").css("height",c);var d=$(".content",a),e=d.outerHeight();d.one("transitionend",function(){$(this).remove()}).css("marginBottom",-e).addClass("replacing");b.appendTo(a).delay(20,function(){$(this).removeClass("new")});d=b.outerHeight();c=c+d-e;a.removeClass("preparing").css("height",c)}
f.gl=function(a,b,c){switch(b){case "billing:required":this.state.billing=c;break;case "billing:notRequired":this.state.sessionDate=c;break;case "payment:gatheringInfo":QG(this,this.S.tx);this.render();break;case "payment:paying":this.$(".payment button[type\x3dsubmit]").text(this.X.format("publishViewLabelPaying"));break;case "payment:complete":this.state.sessionDate=c;this.Ph("PRINT");break;case "export:exporting":this.state.isDraft="SCREEN"===c.Zq().mediaQuality;this.Ib!=this.S.Um&&(QG(this,this.S.Um),
this.render());break;case "export:complete":a=c.aa();this.state.exportUrl=a;QG(this,this.S.tv);this.render();this.Dx||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.Fg&&I&&Of(I,"download","export_dialog","first_time_publish"));a=null;try{a=Lf().getItem("dwldctaexpv")}catch(d){}I&&(b=I,c={format:this.state.outputType,watermark:this.state.isDraft,destination:"download",design:b.Fd,template:b.te},a&&
"invitation"===b.te&&(c.experiment="download-cta-exp",c.experimentVariant=a),b.track("design_publish",c),b.dh&&b.dh(6016629888538));break;case "error":a=c||{},this.state.errorMessage=a.message,2===a.type||3===a.type?QG(this,this.S.wF):0===a.type?QG(this,this.S.CB):QG(this,this.S.Pz),this.render()}};function RG(a){function b(){"billing:checking"===c.zh.sa.Ld()?(d*=1.4,setTimeout(b,Math.min(15E3,d))):c.Ph("PRINT")}var c=a,d=300;PG(a,{});zI(a)||("billing:checking"===a.zh.sa.Ld()?b():a.Ph("PRINT"))}
function PG(a,b){for(var c in b)a.state[c]=b[c]}OG.tw=function(a){a=a.hh();if(null==a)return!0;if(null==a.expMonth||null==a.expYear)return!1;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return!!(a.expYear<b||a.expYear==b&&a.expMonth<c)};f=OG.prototype;
f.kH=function(a){function b(){k.find("button[type\x3dsubmit]").text(h.X.format("publishViewActionMakePayment")).removeClass("disabled");h.gk()}function c(a){e(aC(Sb(h.B),a));b()}function d(a){var c;c=h.X.format("publishViewErrorGenericHtml","https://support.canva.com/hc/requests/new");e(c);b();throw a;}function e(a){$('\x3cp class\x3d"error"\x3e').html(a).insertBefore(k)}function g(){h.zh.Rs(h.state.creditPack)}a.preventDefault();var h=this,k=$(a.target);k.find("button[type\x3dsubmit]").text("Paying...").addClass("disabled");
k.prev(".error").remove();a=this.state.billing;Zg(a)&&OG.tw(a)?h.S.tx.gn().then(g).catch($B,d).catch(QB,c).catch(d):g()};f.rA=function(){this.Ph("SCREEN")};
f.Ph=function(a){var b=u.Ea(),c=u.Yb(),d=this.state.outputType,e=this.state.pageRange;if(0===e.length)for(var g=0,h=this.state.pageCount;g!==h;g++)e.push(g+1);switch(a){case "PREVIEW":case "SCREEN":case "THUMBNAIL":case "CUSTOM":g="SCREEN";break;case "PRINT":g="PRINT";break;default:throw Error("unknown export type: "+a);}b=Il(Hl(new Gl,b),c);c=El(Cl(new Al,this.state.mediaDpi),g);c.bleed=!!this.state.includeBleed;c.crops=!!this.state.includeCrops;c.removeCanvas=!!this.state.removeCanvas;c.pages=e;
c.targetImageSizeKb=this.state.targetImageSizeKb;a=Jl(b,c.Vo(d).Tj(a));this.zh.io(a)};
f.show=function(){function a(){g.zh.Qs(g.state.pageRange);if(g.$F){var a=Cl(Dl(Fl(new Al)).Tj("THUMBNAIL"),96),a=Jl(Il(Hl(new Gl,u.Ea()),u.Yb()),a);xa.gi(a,c,$.noop)}else{var a=va,d=u.Ea();ze(a.T,a.path+"/"+encodeURIComponent(d)+"/imagesets").get(0).then(nk).then(b)}}function b(a){a=a.Mb().Vq()[0].aa();g.state.thumbnailUrl=a;g.$("img.outputThumbnail").attr("src",a)}function c(a){if(a=a.Ck&&a.Ck()&&ul(a.Ck())&&ul(a.Ck())[0])g.state.thumbnailUrl=a.aa(),g.$("img.outputThumbnail").attr("src",a.aa())}
function d(){g.state.outputType?(a(),RG(g)):(QG(g,AI(g)||h),g.render())}function e(){u.Oi()?(QG(g,g.S.Vs),g.render(),g.$(".retry").one("click",function(){$(this).prop("disabled",!0);u.save();QG(g,g.S.Io);g.render();tn(3E4).then(a,e)})):(QG(g,g.S.ZH),g.render())}var g=this,h=this.Ib;null===AI(this)?(a(),this.render()):(QG(this,AI(this)),this.render(),zI(this)&&tn(3E4).then(d,e));this.pc.show(this.el);this.$(".dialog").delay(20,function(){$(this).removeClass("preparing")})};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};function zI(a){return AI(a)===a.S.Io}function AI(a){var b=null;t.isEmpty()?b=a.S.vB:u.Oi()?0<Aa.Hj.length?b=a.S.WH:u.Ie()&&(b=a.S.Io,u.save()):b=a.S.Vs;return b}function BI(){}BI=Backbone.View.extend({});BI.prototype.initialize=function(a){this.X=a.X};
BI.Kz=function(a){a.delay(600,function(){$(this).css("width","45%").children(".text").text("45%").parent().delay(4800,function(){$(this).css("width","67%").children(".text").text("67%").parent().delay(4800,function(){$(this).css("width","95%").children(".text").text("95%")})})})};BI.prototype.render=function(){this.$el.html(this.template(this.Ra()));return this};BI.prototype.Ra=function(){return{}};BI.prototype.td=function(){return{}};function mI(){}
mI=BI.extend({className:"error emptyDocError",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});mI.prototype.Ra=function(){return{errorMessage:this.X.format("publishViewErrorEmptyDesign"),actionOK:this.X.Yh()}};mI.prototype.td=function(){return{title:this.X.format("publishViewErrorEmptyDesignTitle")}};
function oI(){}oI=BI.extend({className:"error savingError",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- actionRetry %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});oI.prototype.Ra=function(){return{errorMessage:this.X.format("publishViewErrorSavingDesign"),actionRetry:this.X.kp()}};oI.prototype.td=function(){return{title:this.X.format("publishViewErrorSavingDesignTitle")}};
function qI(){}qI=BI.extend({className:"error versionConflictError",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});qI.prototype.Ra=function(){return{errorMessage:this.X.format("publishViewErrorVersionConflict"),actionOK:this.X.Yh()}};qI.prototype.td=function(){return{title:this.X.format("publishViewErrorVersionConflictTitle")}};
function pI(){}pI=BI.extend({className:"error uploadingError",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});pI.prototype.Ra=function(){return{errorMessage:this.X.format("publishViewErrorUploading"),actionOK:this.X.Yh()}};pI.prototype.td=function(){return{title:this.X.format("publishViewErrorUploadingTitle")}};
OG.cp=BI.extend({className:"publishing",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e')});OG.cp.prototype.Ra=function(){return{message:this.X.format("publishViewBillingCheck")}};OG.cp.prototype.td=function(){return{title:this.X.format("publishViewBillingCheckTitle")}};
OG.prototype.AC=function(a){a=$(a.currentTarget);var b=a.attr("id"),c=a.data("expanded"),d=$('tr[data-parent\x3d"'+b+'"]');c?(d.each(function(){$(this).hide()}),a.data("expanded",!1),$("#"+b+"_expand").html("\x26#x25b6;"),$("#"+b+"_price").show(),$("#"+b+"_count").show()):(d.each(function(){$(this).show()}),a.data("expanded",!0),$("#"+b+"_expand").html("\x26#x25bc;"),$("#"+b+"_price").hide(),$("#"+b+"_count").hide());this.gk()};function tI(){}
tI=BI.extend({className:"exporting",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue" style\x3d"width: 15%;"\x3e\x3cspan class\x3d"text"\x3e15%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e')});tI.prototype.Ra=function(){return{message:this.X.xs(1,24)}};tI.prototype.td=function(){return{title:this.X.format("publishViewTitlePreparingDesign")}};
tI.prototype.render=function(){function a(a){a=(a+864E5-Date.now())/36E5;var c=Math.round(a%1*60);a=1>a?b.X.format("publishViewExportingMinutesRemaining",c):24>Math.round(a)?b.X.format("publishViewExportingHoursRemaining",a):b.X.format("publishViewExportingInitial",24);return $("\x3cp\x3e").text(a)}var b=this;this.$el.html(this.template(this.Ra()));var c=this.model.billing;c&&!this.model.isDraft?(c=c.Ak(),null!==c&&(this.$el.find(".progress").nextAll().remove(),this.$el.append($("\x3ch3\x3e").text(b.X.format("publishViewExportingOneTimeLicenseHeader"))).append(a(c)))):
c&&this.model.isDraft&&(this.$el.find(".progress").nextAll().remove(),this.$el.append($("\x3cp\x3e").text(b.X.format("publishViewExportingWatermarked",1))));BI.Kz(this.$(".progressValue"));return this};function vI(){}vI=BI.extend({className:"exporting error",vd:_.template("\x3c%- titleErrorPage %\x3e"),template:_.template('\x3cp\x3e\x3c%\x3d errorPageHtml %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')});
vI.prototype.Ra=function(){return{errorPageHtml:this.X.AB("http://status.canva.com"),actionOK:this.X.Yh()}};vI.prototype.td=function(){return{titleErrorPage:this.X.wH()}};function uI(){}uI=BI.extend({className:"exporting complete",vd:_.template("\x3c%- title %\x3e")});f=uI.prototype;f.initialize=function(a){BI.prototype.initialize.call(this,a);this.vt=new sm(Ba);this.uj=new bH({location:"publish",Nm:!0,Ao:!1,oa:ed(),rb:a.rb});this.listenTo(this.uj,{shareClicked:this.Dg,emailSend:this.yq,shareViewResize:this.gk})};
f.render=function(){BI.prototype.render.call(this);this.$el.append(this.uj.render().el);this.model.showHomepageHints&&(this.$el.append(this.kC({hintEditable:this.X.format("publishViewHintDesignsEditable"),hintSeeAllDesigns:this.X.jC()})),this.$(".homepageHintCta \x3e a").click(function(){I&&Of(I,"see_your_designs","export_complete_dialog","first_time_publish")}));return this};f.gk=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("close");this.model.showHomepageHints&&I&&Pf(I,"export_complete","export_dialog","first_time_publish")};f.Dg=function(a){this.close();bH.openWindow(a.url,a.width,a.height);this.trigger("close");var b=this.model.showHomepageHints?"first_time_publish":"publish";I&&Mf(a.type,b)};
f.yq=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");I&&Mf("email","publish");a=Cm(Bm(Am(zm(ym(new xm,u.Ea()),a.mode),a.Gd),a.cg),"publish");um(this.vt,a).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");setTimeout(function(){this.trigger("close")}.bind(this),600)}).catch(function(){this.uj.trigger("emailSendingError",b.X.format("publishViewEmailSendingError"))})};
f.td=function(){return{title:this.model.showHomepageHints?this.X.format("publishViewFirstDesignCompleted"):this.X.Yp()}};f.Ra=function(){return{downloadStartedHtml:this.X.format("publishViewDownloadStarted",this.model.exportUrl)}};f.template=_.template("\x3cp\x3e\x3c%\x3d downloadStartedHtml %\x3e\x3c/p\x3e");f.kC=_.template('\x3cdiv class\x3d"homepageHint"\x3e\x3cp class\x3d"homepageHintMessage"\x3e\x3c%- hintEditable %\x3e\x3c/p\x3e\x3ch3 class\x3d"homepageHintCta"\x3e\x3ca href\x3d"/"\x3e\x3c%- hintSeeAllDesigns %\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e');
function CI(){}CI=BI.extend({className:"exporting complete",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e\x3c%- actionClose %\x3e\x3c/a\x3e\x3c/p\x3e')});CI.prototype.render=function(){BI.prototype.render.call(this);var a=this;window.setTimeout(function(){a.remove&&a.remove();a.listener&&a.listener()},1E3);return this};
CI.prototype.events=function(){return{"click .useExportButton":function(){this.remove&&this.remove();this.listener&&this.listener()}}};CI.prototype.Ra=function(){return{message:this.X.format("publishViewExportCompleteEmbedded"),actionClose:this.X.nu()}};CI.prototype.td=function(){var a=this.model.outputType;return{title:null==a||"PNG"==a||"JPG"==a?this.X.format("publishViewExportCompleteImage"):this.X.format("publishViewExportCompletePdf")}};function rI(){this.xc=void 0}
rI=BI.extend({className:"payment",vd:_.template("Purchase your premium elements"),template:_.template('\x3csection class\x3d"info"\x3e\x3cp\x3eThis design can be used for personal or commercial use under our \x3ca href\x3d"http://about.canva.com/license-agreements/onetimelicense/" target\x3d"_blank"\x3eOne Time Use Licence\x3c/a\x3e. Or you can \x3ca class\x3d"draft" href\x3d"#"\x3edownload a watermarked draft\x3c/a\x3e.\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"amount"\x3eTotal: $\x3c%- billing.totalCost.toFixed(2) %\x3e USD\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e Special offer:\x3c/label\x3e \x3cdiv class\x3d"creditPackOptions"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e Just pay\x3c/label\x3e $\x3c%- billing.totalCost.toFixed(2) %\x3e USD\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e'),
lh:_.template('\x3ctr \x3c% if (hasParent) { %\x3e class\x3d"license licenseChild" data-parent\x3d"lic_\x3c%-parent%\x3e" \x3c% } else { %\x3e class\x3d"license" \x3c%}%\x3e\x3e\x3ctd\x3e\x3c/td\x3e\x3c% if (hasParent) { %\x3e\x3ctd\x3e\x3c/td\x3e \x3c% } %\x3e\x3ctd class\x3d"thumbnail"\x3e\x3c% if (hasThumb) { %\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"off" src\x3d"\x3c%- item.thumbnail %\x3e" /\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/td\x3e\x3ctd class\x3d"info" \x3c% if (!hasParent) { var colspan\x3d2; if (!hasThumb) {colspan++;}  %\x3e colspan\x3d"\x3c%-colspan%\x3e" \x3c% } %\x3e\x3e\x3c% if (hasThumb) { %\x3e\x3cspan class\x3d"title"\x3e\x3c%- item.license.title %\x3e\x3c/span\x3e\x3cspan class\x3d"by"\x3e\x3c%- item.contributorName %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cem\x3eLayout price\x3c/em\x3e\x3c% } %\x3e\x3c/td\x3e\x3ctd class\x3d"price"\x3e\x3cspan\x3e\x3c%- item.license.price \x3e 0 ? paid ? "Paid" : "$" + item.license.price.toFixed(2) : "Free" %\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e'),
uF:_.template('\x3ctr class\x3d"license licenseParent" id\x3d"lic_\x3c%- parent.item.license.media %\x3e" data-expanded\x3d"false"\x3e\x3ctd class\x3d"licenseExpand" id\x3d"lic_\x3c%- parent.item.license.media %\x3e_expand"\x3e\x26#x25b6;\x3c/td\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"off" src\x3d"\x3c%- parent.item.thumbnail %\x3e" /\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info" colspan\x3d"2"\x3e\x3cspan class\x3d"title"\x3e\x3c%- parent.item.license.title %\x3e\x3c/span\x3e\x3cspan class\x3d"itemCount" id\x3d"lic_\x3c%- parent.item.license.media %\x3e_count"\x3e(\x3c%- itemCount %\x3e)\x26nbsp;\x3c/span\x3e\x3cspan class\x3d"by"\x3e\x3c%- parent.item.contributorName %\x3e\x3c/span\x3e\x3c/td\x3e\x3ctd id\x3d"lic_\x3c%- parent.item.license.media %\x3e_price" class\x3d"price"\x3e\x3cspan\x3e\x3c%- allPaid ? "Paid" : totalPrice \x3e 0 ?  "$" + totalPrice.toFixed(2) : "Free" %\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e'),
WA:_.template('\x3cform class\x3d"useCanvaCredits"\x3e\x3cp\x3eCredit remaining: $\x3c%- billing.totalCredit.toFixed(2) %\x3e USD\x3c/p\x3e \x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button" type\x3d"submit"\x3ePay \x26 Download\x3c/button\x3e\x3c/p\x3e\x3c/form\x3e')});
rI.prototype.initialize=function(a){BI.prototype.initialize.call(this,a);this.ns=$('\x3cform class\x3d"publishPagePaymentForm"\x3e\x3c/form\x3e');this.xc=new DI({$e:a.$e,Na:this.model.brand,mk:!1,ud:a.ud,Cb:a.Cb});this.hH=$('\x3cbutton class\x3d"button buttonBlock paymentPageSubmitButton" type\x3d"submit"\x3eMake payment\x3c/button\x3e')};function EI(a){this.ks=a;this.item=null;this.children=[]}EI.prototype.setItem=function(a){this.item=a};EI.prototype.getItem=function(){return this.item};
EI.prototype.CH=function(){var a=0;null==this.item||this.item.paid||(a+=bg(this.item).rf());for(var b=0;b<this.children.length;b++)this.children[b].paid||(a+=bg(this.children[b]).rf());return a};EI.prototype.Jz=function(){if(null!=this.item&&!this.item.paid)return!1;for(var a=0;a<this.children.length;a++)if(!this.children[a].paid)return!1;return!0};rI.prototype.gn=function(){return this.xc.gn()};rI.prototype.remove=function(){this.xc.remove()};
rI.prototype.render=function(){function a(){var a=$(this).parent(),b=a.width(),a=a.height(),b=new M(0,0,b,a),a=new M(0,0,this.naturalWidth,this.naturalHeight);this.src.match(/\.png$/)?oe(a,b):oh(a,b);$(this).css(a.serialize()).removeClass("off").attr("data-scaled","true")}var b=this,c=this.model.billing;c.totalCost=Yg(c);c.totalCredit=Xg(c);this.$el.html(this.template(this.model));0<c.paidItems.length?this.$(".payCount").text(c.od().length.toString()+" out of "+(c.paidItems.length+c.newItems.length).toString()+
" elements"):this.$(".payCount").text(_.pluralize("element",c.od().length));(function(){Xg(c)>=Yg(c)?b.$(".creditPacks").hide():fg(Yg(b.model.billing),function(a){function d(a,c){b.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0);b.$(".creditPackOptions .creditPackValue").html(a);b.$(".creditPackOptions .creditPackSaving").html("(save $"+(a-c)+")")}0<a.length?(b.$(".creditPacks").show(),b.$(".creditPackOptions").html("\x3cselect\x3e"+a.map(function(a){var b=$("\x3coption\x3e\x3c/option\x3e");
b.attr("data-credits",a.hi).val(a.name).text("$"+a.ql+" USD");return b.wrapAll("\x3cdiv\x3e\x3c/div\x3e").parent().html()}).join("")+'\x3c/select\x3e for \x3cspan class\x3d"creditPackValue"\x3e\x3c/span\x3e images \x3cstrong class\x3d"creditPackSaving"\x3e\x3c/strong\x3e'),d(a[0].hi,a[0].ql)):b.$(".creditPacks").hide();b.$("input[name\x3dpurchaseCreditPack]").on("change",function(){"yes"==$(this).val()?(b.model.creditPack=b.$(".creditPackOptions option:selected").val(),b.$(".creditBalance").hide()):
(b.model.creditPack=!1,0!=Xg(c)&&b.$(".creditBalance").show())});b.$(".creditPackOptions select").on("change",function(){var a=$(this).find("option:selected");b.model.creditPack=a.val();b.$(".creditBalance").hide();d(parseInt(a.data("credits"),10),parseInt(a.text().match(/[0-9]+/g)[0],10))});b.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)})})();var d=this.$(".itemList table"),e=this.lh,g=this.uF,h=function(a,b){function c(a,b){a.forEach(function(a){a.paid=b;var c=bg(a).Lv();
if(""!==c){var e=d[c];null==e&&(e=new EI(b),d[c]=e);e.children.push(a)}else c=bg(a).Qa(),e=d[c],null==e&&(e=new EI(b),d[c]=e),e.setItem(a)})}var d=[];c(a,!0);c(b,!1);return d}(c.paidItems,c.od());Object.keys(h).forEach(function(a){a=h[a];var b=!!a.item.paid;if(0<a.children.length){var c=bg(a.item).Qa();d.append(g({parent:a,allPaid:a.Jz(),totalPrice:a.CH(),itemCount:_.pluralize("item",a.children.length+1),paid:b}));d.append(e({hasParent:!0,hasThumb:!1,parent:c,item:a.item,paid:b}));a.children.forEach(function(a){d.append(e({hasParent:!0,
hasThumb:!0,parent:c,item:a,paid:!!a.paid}))})}else d.append(e({hasParent:!1,hasThumb:!0,item:a.item,paid:b}))});setTimeout(function(){var b=d.find(".thumbnail img");b.attr("data-scaled",!1).one("load",a);b.each(function(){this.complete&&!$(this).data("scaled")&&a.call(this)})},20);this.ns.appendTo(this.$el);if(Zg(c)){if(OG.tw(c))this.xc.sj(!0);else{var k=c.hh();this.xc.zg(k).sj(!1)}this.xc.render().Hc().appendTo(this.ns);this.hH.appendTo(this.ns)}else this.$el.append(this.WA(this.model));0===Xg(c)&&
this.$(".creditBalance").hide();return this};function sI(){}sI=BI.extend({className:"payment error",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cp\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')});sI.prototype.Ra=function(){return{errorMessage:this.X.format("publishViewErrorPayment"),actionOK:this.X.Yh()}};sI.prototype.td=function(){return{title:this.X.format("publishViewErrorPaymentTitle")}};
sI.prototype.render=function(){this.$el.html(this.template(this.Ra()));this.model.errorMessage&&$('\x3cp class\x3d"error"\x3e'+this.model.errorMessage+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"));return this};function wI(){}wI=BI.extend({className:"backgroundTask error",vd:_.template("\x3c%- title %\x3e"),template:_.template('\x3cp\x3e\x3c%\x3d errorMessageHtml %\x3e\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e\x3c%- actionOK %\x3e\x3c/button\x3e\x3c/p\x3e')});
wI.prototype.Ra=function(){return{errorMessageHtml:this.X.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),actionOK:this.X.Yh()}};wI.prototype.td=function(){return{title:this.X.format("publishViewErrorBackgroundTaskTitle")}};function YH(){}YH=Backbone.View.extend({className:"linearProgress"});
function FI(a,b){a.qy=(100/b.length).toFixed(4)+"%";return $("\x3cul\x3e"+b.map(function(a){return'\x3cli class\x3d"stage '+a.Ip.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")}
YH.prototype.initialize=function(a){this.qy="0%";this.$el.html(FI(this,a.zt))};YH.prototype.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
YH.prototype.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.qy);window.setTimeout(function(){d.addClass("appear")},100*a)})};YH.prototype.remove=function(){};function GI(){}GI=Backbone.View.extend({tagName:"menu",className:"textToolbar"});f=GI.prototype;f.events=function(){function a(a){a.preventDefault()}return{"click .textToolbar a":a,"click .textToolbarBold.disabled a":a,"click .textToolbarItalic.disabled a":a,"click .textToolbarBold:not(.disabled) a":this.kA,"click .textToolbarItalic:not(.disabled) a":this.wA,"click .textToolbarUpload a":this.Qy,"change .textToolbarFontFamily":this.$z,"change .textToolbarFontSize":this.aA}};
f.initialize=function(a){this.model=a.model;this.pm=!!a.pm;this.Vu=a.Vu;this.root=a.root;this.jv=a.jv;this.fh=a.fh;this.Pq=a.Pq;this.lb=a.lb;this.B=a.B;this.listenTo(this.model,"change",this.render)};f.remove=function(){this.$(".dd-container").ddslick("destroy");Backbone.View.prototype.remove.call(this)};
f.render=function(){function a(a,b,c){a.toggleClass("on",b&&c).toggleClass("enabled",c).toggleClass("disabled",!c)}var b=this,c=bb.map(function(a){return'\x3coption data-text\x3d"'+a+'"\x3e'+a+"\x3c/option\x3e"}).join(""),d=$.extend(!0,this.Vu.serialize(),this.model.serialize()),e=Yn(this.fh,d.fontFamily);d.fontFamilyOptGroupsHtml=function(){function a(b){var c=b.name||b.family,d=b.displayName||c;b=b.I;var e=$("\x3coption\x3e");e.attr("data-image-src",b).val(c).text(d);return e}function c(a){return function(b){b.appendTo(a)}}
var d=nu(b.fh),e=ku(b.fh),g=$('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'),h=g.find("optgroup.user"),p=g.find("optgroup.all");e.map(a).forEach(c(h));d.map(a).forEach(c(p));return""+g.html()}();d.fontSizeOptionsHtml=c;d.displayName=d.fontFamily;e&&e.displayName&&(d.displayName=e.displayName);d.canUpload=this.pm;this.$el.removeClass("subdued");
this.$el.html(this.template(d));this.pm&&this.$el.addClass("withUploadButton");this.jv&&this.$el.addClass("pointer");this.$(".textToolbarFontFamily").val(this.model.fontFamily);this.$(".textToolbarFontSize").val(this.model.nc());HI(this);var g=d.fontFamily,c=this.$el.children(".textToolbarBold"),d=this.$el.children(".textToolbarItalic"),e=pu(this.fh,g),h=qu(this.fh,g),g=ru(this.fh,g);a(c,!(!this.model.vi()||!e),!!(this.model.zi()&&g||!this.model.zi()&&e));a(d,!(!this.model.zi()||!h),!!(this.model.vi()&&
g||!this.model.vi()&&h));return this};
function HI(a){function b(){var a=$(this).siblings(".textToolbarFontFamily");$("#overlays \x3e .mask").addClass("on ddslick");a.ddslick("open");return!1}function c(a){var b=$(this).siblings(".textToolbarFontSize"),c=$(this).find("input");if(b.hasClass("on"))a.target===a.currentTarget&&b.ddslick("close");else return c.select(),$("#overlays \x3e .mask").addClass("on ddslick"),b.ddslick("open"),!1}function d(){$("#overlays \x3e .mask").removeClass("on ddslick")}function e(a){$("#overlays \x3e .mask").removeClass("on ddslick");
$("#null").focus();if(!a.didSelectAnOption){var b=g.model.nc(),c=m.find("input"),d=parseFloat(c.val()),e=a.lastKeyBeforeSelect;"enter"!=e&&"tab"!=e||isNaN(d)?(c.val(bB(b)),"enter"==e&&(a.cancel=!0,c.select())):(-1===bb.indexOf(d)&&$(this).ddslick("deselect"),g.model.Dc(Math.max(Math.min(400,d),1)))}}var g=a,h={},k=a.$(".textToolbarFontFamily"),l=a.$(".textToolbarFontFamilySpan");k.hasClass("dd-container")||(h={onClose:d},k.ddslick(h));h=new V(l);h.on("mousedown",b);h.on("touchstart",b);var l=a.$(".textToolbarFontSize"),
m=a.$(".textToolbarFontSizeSpan");$(l).hasClass("dd-container")||(h={onClose:e,width:"6em",align:"bottom",linkedControl:m.find("input").get(0)},$(l).ddslick(h));h=new V(m);h.on("mousedown",c);h.on("touchstart",c);k=k.find("optgroup.user option").last().index();a.$(".textToolbarFontFamily .dd-options li").eq(k).addClass("endOfGroup");a.$(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected")}f.$z=function(a){a=$(a.currentTarget);this.model.We(a.val())};
f.aA=function(a){a=$(a.currentTarget);a=parseInt(a.val(),10);this.model.Dc(a)};f.kA=function(a){var b=this.model;b.yg(!b.bold);a.preventDefault()};f.wA=function(a){var b=this.model;b.Ag(!b.o);a.preventDefault()};f.Qy=function(){if(!this.pm||!this.Pq)return!1;this.$el.addClass("subdued");this.trigger("upload");this.Pq.Qy();return!1};f.template=_.template('\x3cli class\x3d"textToolbarFont"\x3e\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3c%\x3d fontFamilyOptGroupsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c%- displayName %\x3e\x3c/span\x3e\x3cselect class\x3d"textToolbarFontSize"\x3e\x3c%\x3d fontSizeOptionsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"\x3c%- fontSize %\x3e"\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarBold \x3c%- bold ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Bold"\x3eBold\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic \x3c%- italic ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Italic"\x3eItalic\x3c/a\x3e\x3c/li\x3e\x3c% if (canUpload) { %\x3e\x3cli class\x3d"textToolbarUpload"\x3e\x3ca href\x3d"#"\x3eUpload a font\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e');function pp(){}pp=Backbone.View.extend({tagName:"div",className:"fxPanel"});(function(){var a=[];pp.Fz=function(b){a.push(b)};pp.$f=function(){a.forEach(function(a){a.remove()});a=[]}})();f=pp.prototype;
f.events=function(){var a={};a["click .preset"]=this.AA;a["click .presets .scrollLeft"]=this.pG;a["click .presets .scrollRight"]=this.qG;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.$w;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.$w;a["click .hex"]=this.vA;a["click .toggleAdvanced"]=this.yH;return a};
f.initialize=function(a){pp.Fz(this);this.ys=a.ys;this.$l=this.model.filter.name;this.fo=null;this.tr=!1;this.Bx={};this.eu=this.Ef=0;this.Qc=a.Qc;this.listenTo(this.model,"change",this.refresh);this.listenTo(D,"beforeOperationStackPop",this.vl);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:Ac(this.Qc),filterCodeMsg:this.Qc.format("editorToolbarFilterCode")}));Lt(this.model);window.setTimeout(function(){II(a);JI(a);KI(a);a.refresh()},300);this.fo=this.model.ut;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");$("#canvaDocument").off("scroll",this.ZF);this.vl();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&Sp(this.model);Backbone.View.prototype.remove.apply(this,arguments)};
function VA(a,b,c){function d(){var a=$("#canvaDocument").scrollTop();e.$el.css("margin-top",g-a)}a.$el.css("top",b.top).css("left",b.left-400).css("margin-top",0);c?a.$el.addClass("underneath"):a.$el.removeClass("underneath");var e=a,g=$("#canvaDocument").scrollTop();$("#canvaDocument").on("scroll",d);a.ZF=d}
f.refresh=function(){this.$l=this.model.filter.name;this.QI||LI(this);MI(this);NI(this);var a="Normal"==this.model.filter.name,b=!this.model.xr();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);KI(this)};function OI(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function II(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.ob();if(c){var c=c[Np].aa(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:Bc(a.Qc,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new M(0,0,a,b);oh(a,new M(0,0,52,52));e.css(a.serialize());e.css("opacity",1)});zp(Ap,e,c);b.append(d);b.find("."+PI(a.$l)).addClass("active")}a.ys.sort(function(b,c){var d=Bc(a.Qc,b.name),e=Bc(a.Qc,c.name);return d<e?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+QI(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){RI(a,e,c)},300*d)})}
function RI(a,b,c){a.model.sq(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new M(0,0,a,b);oh(a,new M(0,0,52,52));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.$H+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(Bc(a.Qc,c.name)));c.name===a.$l&&b.addClass("active")})}
function NI(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+PI(a.$l)).addClass("active");0===a.Ef?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.Ef===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function JI(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();OI().forEach(function(d){var e=Cc(a.Qc,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:SI(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function LI(a){var b=a.$el.find(".ranges");OI().forEach(function(c){b.find("."+SI(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function MI(a){var b=a.$el.find(".ranges");OI().forEach(function(c){var d=b.find("."+SI(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function KI(a){a.$el.find("input.hex").val(a.model.filter.Z())}function QI(a,b){var c=PI(b.name);a.Bx[c]=b;return c}function PI(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function SI(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.AA=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)Pt(this.model);else{var d=this.Bx[a];window.setTimeout(function(){Ot(b.model,d)},150)}window.clearTimeout(this.eu)}};
f.$w=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.uo(e[1],a),window.clearTimeout(this.eu),this.eu=
window.setTimeout(function(){c.model.update(!0)},400))};f.vA=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=zt(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.Jc*a.vignette*a.bd)||(b.filter=a,b.Ud=!0,b.update(!0));c.tr=!1}function b(b){13==b.which&&a()}if(!this.tr){this.tr=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.Z()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.pG=function(){0!==this.Ef&&(this.Ef-=3,TI(this))};f.qG=function(){var a=parseInt($(".preset").length,10);this.Ef<a-5&&(this.Ef+=3,TI(this))};function TI(a){var b=-63*a.Ef;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");NI(a)}
f.yH=function(){this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(Ac(this.Qc)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.Qc.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced").delay(300,function(){$(this).addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.vl=function(){var a=L(t).wa()[0],b=this.model.ut,c=!a,d=_.isEqual(b,this.fo);c||d||(a={placeholderIndex:a.nb(),elementIndex:a.W(),pageIndex:S(t,a.U()),"new":{filter:b},old:{filter:this.fo}},D.register(new U(11,a)),this.fo=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3cli\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function IH(a,b){EB.call(this,[{name:"start",from:"none",to:"pricingLayout"},{name:"price",from:"pricingLayout",to:"pricingElements"},{name:"price",from:"pricingElements",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"error",from:"pricingLayout",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",to:"failed"}]);this.document=t;this.Me=ta;this.na=a;this.fc=b;this.xq=
[]}IH.prototype=new EB;IH.prototype.start=function(){this.sa.start()};function iI(a,b){b.title&&hC(a.document.Ka(),b.title);b.keywords&&vj(a.document,b.keywords);b.locale&&a.document.setLocale(b.locale);tn(3E4).then(function(){a.sa.transition("price")},function(){a.sa.transition("error")})}IH.prototype.Us=function(){this.sa.transition("review")};
function gI(a){var b=Mu().Yo(a.document.cn());a.xq.forEach(function(a){var d=(a.keywords||[]).map(Gr),e=new Nu;e.media=a.media;e=e.Sd(a.version);e.title=a.title;a=e.Yy(a.description).Xo(d).hu(Ju(a.price));b.publicifyMediaRequests.push(a)});Gu(a.fc,a.na.Ea(),a.na.Yb(),b,function(b){200!=b&&a.sa.transition("error")},a.document.za().F());a.sa.transition("submit")}
function eI(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}var d=Ij(a.document).map(function(a){return a.F()});0===d.length?b&&b([]):(d=Nr(Or((new Mr).Mg(!0).Qf(!1),[Pd,Rd]).gu(),!1).Wo(d),sr(ya,d,c))}function UI(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}var d=Ij(a.document);0===d.length?b&&b([]):(d=Tr(new Sr,d).gu(),wr(ya,d,c))}
function cI(a,b){UI(a,function(a){a=a.reduce(function(a,b){return a+(b&&b.ia()&&Jr(b.ia())&&100*Jr(b.ia()).ONE_USE||0)},0);b(a)})};function YG(a){EB.call(this,[{name:"start",from:"none",to:"exporting"},{name:"complete",from:"exporting",to:"complete"},{name:"fail",from:"exporting",to:"error"},{name:"start",from:"error",to:"exporting"}]);this.fg=a;this.Tm=this.vv=null}YG.prototype=new EB;YG.prototype.io=function(a){var b=this;if(null!==this.mb)return!1;this.vv=vl(a);this.sa.start();this.mb=this.fg.gi(a,function(a){b.mb=null;b.Tm=a;b.sa.transition("complete")},function(a){b.mb=null;b.Tm=a;b.sa.fail()});return!0};
YG.prototype.hl=function(a,b){switch(b){case "error":this.trigger("change:state",this,b,{type:0,message:this.Zg,data:this.Tm});break;case "exporting":this.trigger("change:state",this,b,this.vv);break;case "complete":this.trigger("change:state",this,b,this.Tm)}};function VI(a,b){EB.call(this,[{name:"start",from:"none",to:"gatheringInfo"},{name:"pay",from:"gatheringInfo",to:"paying"},{name:"payWithCreditPack",from:"gatheringInfo",to:"payingForCreditPack"},{name:"pay",from:"payingForCreditPack",to:"paying"},{name:"fail",from:"payingForCreditPack",to:"error"},{name:"fail",from:"gatheringInfo",to:"error"},{name:"complete",from:"paying",to:"complete"},{name:"fail",from:"paying",to:"error"}]);this.ki=a;this.jc=b;this.rj=null;this.sa.start()}VI.prototype=new EB;
VI.prototype.Rs=function(a,b){if(null!==this.mb)return!1;this.Vf=a;this.ws(this.Vf,b);return!0};
VI.prototype.ws=function(a,b){function c(b,c){e.mb=null;l=!0;var h;200===b?(e.sa.transition("pay"),h=ag(e.jc,g,a.od(),d),e.mb=h):(e.Zg=c,e.sa.fail())}function d(a,b){e.mb=null;l=!0;200===a?(e.rj=b.Ak(),e.sa.transition("complete")):e.sa.fail()}var e=this,g=this.ki.Ea(),h=a.od().length,k=Yg(a);this.analytics&&this.analytics.track("license_purchase",{quantity_new_items:h,value_new_items:k});var l=!1;b?(this.sa.transition("payWithCreditPack"),h=gg(this.jc,b,c)):(this.sa.transition("pay"),h=ag(this.jc,
g,a.od(),d));l||(this.mb=h)};VI.prototype.hl=function(a,b,c){switch(b){case "error":this.trigger("change:state",this,b,{type:"gatheringInfo"===c?2:3,message:this.Zg});break;case "gatheringInfo":this.trigger("change:state",this,b,this.Vf);break;case "paying":case "payingForCreditPack":this.trigger("change:state",this,b);break;case "complete":this.trigger("change:state",this,b,this.rj)}};function WI(a,b){EB.call(this,[{name:"start",from:"none",to:"checking"},{name:"pay",from:"checking",to:"payingForFreeItems"},{name:"complete",from:"payingForFreeItems",to:"notRequired"},{name:"fail",from:"payingForFreeItems",to:"error"},{name:"dontRequire",from:"checking",to:"notRequired"},{name:"require",from:"checking",to:"required"},{name:"fail",from:"checking",to:"error"}]);this.jc=a;this.ki=b;this.rj=this.Vf=null}WI.prototype=new EB;
WI.prototype.Qs=function(a){if(null!==this.mb)return!1;var b=this,c=this.ki.Ea(),d=this.ki.Yb(),e=!1;this.sa.start();a=this.jc.bn(c,a,function(a,c){b.mb=null;e=!0;200===a?(b.Vf=c,b.rj=c.Ak(),c.documentVersion!==d?(b.Zg="Your design changed during the billing check. Someone else may be editing it.",b.sa.fail()):0<Yg(c)?b.sa.transition("require"):0===Yg(c)&&0<c.od().length?b.ws(c):b.sa.transition("dontRequire")):b.sa.fail()});e||(this.mb=a);return!0};
WI.prototype.ws=function(a,b){function c(b,c){e.mb=null;l=!0;var h;200===b?(e.sa.transition("pay"),h=ag(e.jc,g,a.od(),d),e.mb=h):(e.Zg=c,e.sa.fail())}function d(a,b){e.mb=null;l=!0;200===a?(e.rj=b.Ak(),e.sa.transition("complete")):e.sa.fail()}var e=this,g=this.ki.Ea(),h=a.od().length,k=Yg(a);this.analytics&&this.analytics.track("license_purchase",{quantity_new_items:h,value_new_items:k});var l=!1;b?(this.sa.transition("payWithCreditPack"),h=gg(this.jc,b,c)):(this.sa.transition("pay"),h=ag(this.jc,
g,a.od(),d));l||(this.mb=h)};WI.prototype.hl=function(a,b){switch(b){case "error":this.trigger("change:state",this,b,{type:1,message:this.Zg});break;case "required":this.trigger("change:state",this,b,this.Vf);break;case "notRequired":this.trigger("change:state",this,b,this.rj)}};function xI(a,b,c){this.gm=new WI(b,a);this.ps=new VI(a,b);this.ah=new YG(c);this.ki=a;this.hm=this.bI=null;EB.call(this,[{name:"start",from:"none",to:"billing:checking"},{name:"export",from:"none",to:"export:exporting"},{name:"export",from:"billing:required",to:"payment:gatheringInfo"},{name:"export",from:"billing:notRequired",to:"export:exporting"},{name:"export",from:"billing:error",to:"error"},{name:"export",from:"payment:gatheringInfo",to:"export:exporting"},{name:"export",from:"payment:complete",
to:"export:exporting"},{name:"fail",from:"payment:error",to:"error"},{name:"fail",from:"export:error",to:"error"}],[{name:"billing",vc:this.gm},{name:"payment",vc:this.ps},{name:"export",vc:this.ah}])}xI.prototype=new EB;f=xI.prototype;f.Qs=function(a){this.sa.start();return this.gm.Qs(a)};f.io=function(a){this.sa.transition("export");return"export:exporting"===this.sa.Ld()&&this.ah.io(a)};f.Rs=function(a){return this.ps.Rs(this.Vf,a)};
f.cs=function(a,b,c,d){EB.prototype.cs.apply(this,arguments);var e=Array.prototype.slice.call(arguments,2),g=a===this.ah&&"error"===b;a===this.ps&&"error"===b||g?(e=["change:state",this,"error"].concat(e),Gz(this.sa,"error"),this.trigger.apply(this,e)):a===this.gm&&"required"===b||"notRequired"===b?this.Vf=c:a===this.gm&&"error"===b&&(this.hm=c)};
f.hl=function(a,b,c){"payment:gatheringInfo"===b?this.trigger("change:state",this,b,this.Vf):"export:exporting"===b&&"none"===c?this.trigger("change:state",this,b,this.bI):"error"===b&&"billing:error"===c&&this.trigger("change:state",this,b,this.hm)};function DI(a){this.$e=a.$e;this.Na=a.Na;this.Lc=a.Lc;this.mk=a.mk;this.element=$('\x3cdiv class\x3d"creditCardEditor"\x3e');this.ud=a.ud;this.Cb=a.Cb;this.view=new XI({em:!1!==a.em,Cb:a.Cb});this.listenTo(this.view,"input",this.Xr)}f=DI.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.render=function(){this.view.render().$el.appendTo(this.element);this.sj(this.mk);this.Lc&&this.zg(this.Lc);return this};f.Hc=function(){return this.element};f.remove=function(){this.stopListening();this.view.remove()};f.zg=function(a){this.Lc=a;this.view.zg(a);return this};f.sj=function(a){this.mk=a;this.view.sj(a);return this};f.gn=P.method(function(a){function b(a){return a.hh()}return!this.Lc||this.view.Km||a?(a=YI(this.view),ZI(a),this.NH(a).then(b).tap(this.zg.bind(this))):this.Lc});
f.Xr=function(){this.Lc&&!YI(this.view)&&this.zg(this.Lc);this.trigger("input",this.view.Km)};f.NH=P.method(function(a){var b=this;return this.ud.createToken({Xg:a.Xg,qv:a.Rm,rv:a.Sm,oh:a.oh}).then(function(a){return b.$e.RA(b.Na,a)})});
function ZI(a){if(!a)throw new bC;if(!(a.Xg&&3<=a.Xg.length&&4>=a.Xg.length))throw new VB;if(!function(){var b=a.Rm&&parseInt(a.Rm,10);return b&&1<=b&&12>=b}())throw new WB;if(!a.Sm||!parseInt(a.Sm,10))throw new XB;if(!function(){var b=a.oh&&a.oh.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new YB;};function XI(){}XI=Backbone.View.extend({className:"creditCardEditView"});f=XI.prototype;f.initialize=function(a){this.Km=!1;this.Cb=a.Cb;this.em=a.em};f.events=function(){return{"click .cancelEditCreditCard":this.trigger.bind(this,"cancelEditCreditCard"),"keydown #expMonth":this.uE,"input #expMonth":this.tE,input:this.Xr,"focus input:not([readonly])":this.Vr,"blur input":this.Tr}};
function YI(a){a={Xg:a.$("#cvc").val().trim(),Rm:a.$("#expMonth").val().trim(),Sm:a.$("#expYear").val().trim(),oh:a.$("#ccNumber").val().trim()};return a.Xg.length||a.Rm.length||a.Sm.length||a.oh.length?a:null}f.zg=function(a){this.$el.addClass("prefilled");this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.last4);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");this.Km=!1};
f.sj=function(a){this.$("input").prop("readonly",!a);$I(this)};f.render=function(){var a=this.template({cardNumberPlaceholder:this.Cb.Gu(),monthPlaceholder:this.Cb.Ow(),yearPlaceholder:this.Cb.ez(),cvcPlaceholder:this.Cb.Ru()});this.$el.html(a);$I(this);return this};function $I(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.em&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}
f.Xr=function(a){a=$(a.target);var b=a.data("oldValue"),c=a.val();b!==c?(a.data("oldValue",c),a=!0):a=!1;a&&(this.$el.hasClass("prefilled")&&(this.$("#ccNumber").attr("placeholder",this.Cb.Gu()),this.$("#expMonth").attr("placeholder",this.Cb.Ow()),this.$("#expYear").attr("placeholder",this.Cb.ez()),this.$("#cvc").attr("placeholder",this.Cb.Ru())),this.$el.removeClass("prefilled"),this.Km=!0,this.trigger("input"))};f.Vr=function(){this.$el.addClass("focused")};f.Tr=function(){this.$el.removeClass("focused")};
f.uE=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.tE=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};f.template=_.template('\x3cinput class\x3d"textInput" id\x3d"ccNumber" name\x3d"ccNumber" placeholder\x3d"\x3c%- cardNumberPlaceholder %\x3e" pattern\x3d"[0-9 -]{13,19}" type\x3d"text" maxlength\x3d"19" autocomplete\x3d"off" required /\x3e\x3cspan class\x3d"creditCardExpiry"\x3e\x3cinput class\x3d"textInput" id\x3d"expMonth" name\x3d"expMonth" placeholder\x3d"\x3c%- monthPlaceholder %\x3e" type\x3d"text" pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3cinput class\x3d"textInput" id\x3d"expYear" name\x3d"expYear" placeholder\x3d"\x3c%- yearPlaceholder %\x3e" type\x3d"text" pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3c/span\x3e\x3cinput class\x3d"textInput" id\x3d"cvc" name\x3d"cvc" placeholder\x3d"\x3c%- cvcPlaceholder %\x3e" type\x3d"text" pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"off" required /\x3e');function OH(){this.Ex=window.pricingPlans}function QH(a){return[Object.freeze(G(Cg,a.Ex.paidMonthly)),Object.freeze(G(Cg,a.Ex.paidYearly))]};function aJ(a){this.plan=a.AF;this.title=a.title;this.pricePerIntervalText=a.JF;this.summaryText=a.lH}
function bJ(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthly",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearly",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return Eg(b)-Eg(a)})[0];return a.map(function(a){var g;if("MONTHLY"===Dg(a))g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===Dg(a))g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(a.rf(),Dg(a)),k;k="YEARLY"===Dg(a)?b.format("canvaForWorkUpgradePlanPercentSaving",((Eg(d)-Eg(a))/Eg(d)*100).toFixed(0)/100):c(Eg(a),"YEARLY");return new aJ({AF:a,title:g,JF:h,lH:k})})};function cJ(){}cJ=Backbone.View.extend({tagName:"ul",className:"textIconList"});cJ.prototype.initialize=function(a){this.items=a.items};cJ.prototype.render=function(){this.$el.html(this.items.map(this.lh).join(""));return this};cJ.prototype.lh=_.template('\x3cli class\x3d"textIconItem"\x3c% if (icon) { %\x3e data-icon\x3d"\x3c%- icon %\x3e"\x3c% } %\x3e\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isHtml) { %\x3e\x3c%\x3d content %\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- content %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e');function dJ(){}dJ=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=dJ.prototype;f.initialize=function(a){this.wh=a.wh};f.events=function(){return{click:this.xA}};f.render=function(){this.$el.html(this.wh.map(this.KF).join(""));return this};f.xA=function(a){a=$(a.target).closest("li");eJ(this,a.index())};function eJ(a,b){0<=b&&b<a.wh.length&&(a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.wh[b].plan))}
f.$s=function(){function a(a){switch(Dg(a)){case "MONTHLY":return a.rf();case "YEARLY":return Eg(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.wh).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.wh.indexOf(b[0]);eJ(this,b)};f.KF=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerBillingInterval"\x3e\x3c%- pricePerIntervalText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3c/li\x3e');function fJ(a){return _.template("\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- subTitle %\x3e\x3c/p\x3e")({title:a.format("canvaForWorkUpgradeWelcomeTitle"),subTitle:a.format("canvaForWorkUpgradeWelcomeSubTitle")})}_.template('\x3cul\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc/requests/new"\x3e\x3c%- linkCustomerHappiness %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc"\x3e\x3c%- linkHelpCenter %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e');
_.template("\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e");var gJ=_.template("\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2 %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e");function hJ(a,b,c){this.title=a;this.content=b;this.icon=c||"";this.isHtml=!1};function iJ(a){return[new hJ(Ec(a),a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),"teamBrandKits"),new hJ(Fc(a),a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),"layoutCreators"),new hJ(Gc(a),a.format("canvaForWorkUpgradeMagicallyResizeDescription"),"magicResize"),new hJ(Hc(a),a.format("canvaForWorkUpgradePhotoFoldersDescription"),"photoFolders")]}
function jJ(a){return[new hJ(Ec(a),a.format("canvaForWorkUpgradeTeamBrandKitsShortDescription"),"teamBrandKits"),new hJ(Gc(a),a.format("canvaForWorkUpgradeMagicallyResizeShortDescription"),"magicResize"),new hJ(Fc(a),a.format("canvaForWorkUpgradeLayoutCreatorsShortDescription"),"layoutCreators"),new hJ(Hc(a),a.format("canvaForWorkUpgradePhotoFoldersShortDescription"),"photoFolders")]};function kJ(a){this.QB=a.PB;this.zC=a.yC;this.Gg=a.sy.map(function(a){return new lJ(a)});this.Gg.forEach(function(a){this.listenTo(a,{willAdvance:this.hw,advance:this.VE,finish:this.XE,reset:this.YE,die:this.WE})},this);this.ts=a.ts.map(function(a){return _.defaults({},a,{position:"leftTop",Nd:0})});this.Fx=!1;this.Bo=new mJ({Sr:a.sy.length,Ob:a.Ob})}f=kJ.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function mj(a){var b=[],c=[],d=a.Ob;b.push([{Rb:"#documentFileMenuButton",dd:10},{Rb:".dropdownMenuPopoverContainer .documentResizePaneButton",Xu:!0,Nd:500,Uf:142,dd:18}]);c.push({Rb:".documentResizeButton[value\x3dpinterest]",bm:-170,Nd:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),Db:Wc(d)});b.push([{Rb:"#objectPanel menu .uploads a",Rg:"#objectPanel.stage6",Uf:15,dd:15},{Rb:"#resultsUpload .newUploadsFolder",Hi:"#objectPanel:not(.stage6)",
zs:function(){$("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},Nd:500}]);c.push({Rb:"#resultsUpload .newUploadsFolderThumbnail",Nd:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),Db:Wc(d)});a.zm&&(b.push([{Rb:"#objectPanel menu .layout a",Rg:"#objectPanel.stage2",Uf:15,dd:15},{Rb:"#resultsLayout .layoutsTabs \x3e li:last-child a",dd:10,Hi:"#objectPanel:not(.stage2)",Nd:500}]),
c.push({Rb:"#resultsLayout .layoutsTabs \x3e li:last-child a",text:d.format("starOnboardingStepDesignsInEditorText"),title:d.format("starOnboardingStepDesignsInEditorTitle"),Db:Wc(d)}));b.push([{Rb:"#objectPanel menu .backgrounds a",Rg:"#objectPanel.stage5",Uf:15,dd:15},{Rb:"#resultsBackground .colorPaletteBrandSingle .colorPaletteSwatch",Fv:!0,Hi:"#objectPanel:not(.stage5)",Kr:!0,Nd:500}]);c.push({Rb:"#resultsBackground .colorPaletteBrandSingle .colorPaletteSwatch",text:d.format("starOnboardingStepBrandKitText"),
title:d.format("starOnboardingStepBrandKitTitle"),Db:Wc(d)});b.push([{Rb:"#objectPanel menu .uploads a",Rg:"#objectPanel.stage6",Uf:15,dd:15},{Rb:"#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",Hi:"#objectPanel:not(.stage6)",zs:function(){$("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},Nd:500}]);c.push({Rb:"#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",Nd:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),Db:Wc(d)});a.OF&&(b.push([{Rb:".publishToStreamSwitch",Uf:5,dd:5},{Rb:".switchPublishTemplate",Nd:500}]),c.push({Rb:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),Db:Wc(d)}));var e="C4W_UPGRADED_USER"===a.ae;a=e?[d.format("starOnboardingActionSetupTeam"),Vc(d)]:[d.format("starOnboardingActionGotoTeamSpace"),Vc(d)];b=new kJ({PB:{Bu:[d.format("starOnboardingActionFindTheStars")],
Go:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),Ws:"",Ob:d},yC:{Bu:a,Go:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),Ws:e?"starFinderSplashScreenNewUser":void 0,Ob:d},sy:b,ts:c,Ob:d});b.once("finish",function(a){"solo"===a?(null!=I&&I.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a&&(null!=I&&I.track("upgrade_onboarding_finish_team"),window.location="/brand#members")});
return b}f.start=function(){var a=this;nJ(this).then(function(){a.Bo.render().$el.appendTo(document.body);oJ(a)})};f.remove=function(){this.stopListening();this.Bo.remove();this.Gg.forEach(function(a){a.remove()})};f.hw=function(a){this.Gg.forEach(function(b){b!==a&&b.toggle(!1)})};f.VE=function(a){this.hw(a);this.Fx||(this.Fx=!0,pJ(a.Oc))};
f.XE=function(a){function b(){a.toggle(!1);qJ(d.Bo)}function c(){rJ(d)}var d=this,e=this.Gg.indexOf(a),g=this.ts[e];P.delay(g.Nd).then(function(){var a=new sJ(g);a.ee($(g.Rb));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});tJ(this)};function rJ(a){a.Gg.every(function(a){return uJ(a)})?vJ(a).then(a.remove.bind(a)):wJ(a)}f.YE=function(){wJ(this)};f.WE=function(){qJ(this.Bo);rJ(this)};function wJ(a){a.Gg.forEach(function(a){uJ(a)||a.toggle(!0)})}
function tJ(a){a.Gg.filter(function(a){return!uJ(a)}).forEach(function(a,c){a.Jl(2*c+1)})}function oJ(a){tJ(a);a.Gg.forEach(function(a){a.start()})}function nJ(a){var b=new xJ(a.QB);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=I&&I.track("upgrade_onboarding_start_stars");c()})})}
function vJ(a){var b,c=new xJ(a.zC);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function sJ(){}sJ=X.extend({className:"starFinderPopOver"});sJ.prototype.initialize=function(a){a=_.defaults({},a,{bm:0,Uf:0,Db:a.Db});X.prototype.initialize.call(this,a);this.options=a};sJ.prototype.dn=function(){return yJ};sJ.prototype.render=function(){X.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
sJ.prototype.Kj=function(){X.prototype.Kj.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.bm).css("top",parseInt(a.css("top"),10)+this.options.dd);return this};function mJ(){}mJ=Backbone.View.extend({className:"starFinderProgress"});mJ.prototype.initialize=function(a){this.Sr=a.Sr;this.Ob=a.Ob};mJ.prototype.render=function(){this.$el.html(this.template({progressTitle:this.Ob.LF()}));for(var a=0;a<this.Sr;a++)this.$(".starFinderProgressList").append(this.lh());return this};function qJ(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}mJ.prototype.lh=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
mJ.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function xJ(){}xJ=Backbone.View.extend({className:"starFinderSplashScreen"});f=xJ.prototype;f.events=function(){return{"click .buttonNext":this.zD}};f.initialize=function(a){this.la=xf;this.options=a;this.pc=new Km({la:this.la,style:Lm});this.Go=a.Go;this.title=a.title;this.Ob=a.Ob};
f.render=function(){var a=$(this.Nz());this.$el.html(this.template(this.Ra()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.Bu.forEach(function(a,c){var d=$(this.ei({text:a}));d.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(d)},this);this.options.Ws&&this.$el.addClass(this.options.Ws);return this};
f.show=function(){var a=this,b=Op(Ap,this.$(".starFinderStarImage img").prop("src")),c=Op(Ap,this.$(".starFinderAstronaut img").prop("src"));this.pc.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.pc.hide();this.la.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.Ra=function(){return{subtitle:this.options.Go,title:this.options.title,specialInstructionsTitle:this.Ob.$G(),specialInstructionsHtml:this.Ob.YG(),specialInstructionsQuestionText:this.Ob.ZG(),responseSolo:this.Ob.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.Ob.format("starOnboardingSpecialInstructionsResponseTeam")}};
f.zD=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")?c="splash":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.Nz=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.ei=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"/brand#members" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function lJ(a){this.active=!1;this.cf=0;this.Oc=new zJ(a[0]);AJ(this);this.Gs=0;this.Nl=a;this.ye=new ez({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.KD.bind(this),100,{trailing:!1});this.ye.on("attrModified",a);this.ye.on("subtreeModified",a)}f=lJ.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.Oc.show();this.active=!0};f.remove=function(){this.stopListening();gz(this.ye);this.Oc.remove();this.active=!1};function uJ(a){return a.cf===a.Nl.length}f.Jl=function(a){this.Gs=a;0===this.cf&&this.Oc.Jl(a)};function AJ(a){a.listenTo(a.Oc,"advance",a.UE);a.listenTo(a.Oc,"die",a.ZE)}f.toggle=function(a){uJ(this)||(this.active=a,this.Oc.toggle(a))};
f.UE=function(){function a(){c.ye.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;gz(this.ye);this.cf++;this.Oc.remove();uJ(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),BJ(this).then(b).then(a).catch(function(){}))}};f.ZE=function(){this.active&&(gz(this.ye),this.Oc.remove(),this.toggle(!1),this.cf=this.Nl.length,this.trigger("die",this))};
f.KD=function(){var a;if(a=this.active&&0<this.cf){var b=CJ(this.Oc);if(uJ(this)||!b.is(":visible"))a=!1;else if(a=this.Nl[this.cf].Hi)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.Oc.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){gz(this.ye);this.cf=0;this.Oc.remove();BJ(this);a||this.trigger("reset",this)};
function BJ(a){var b=_.extend({},a.Nl[a.cf],{filled:a.cf===a.Nl.length-1});a.Oc=new zJ(b);AJ(a);a.Gs&&a.Jl(a.Gs);return a.Oc.show()};function zJ(){}zJ=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});zJ.prototype.events=function(){return{"click .starFinderStar":this.zf}};zJ.prototype.initialize=function(a){a=_.defaults({},a,{bm:0,Uf:0,dd:0,Xu:!1,filled:!1,Fv:!1,Kr:!1,position:3,Nd:0});this.yr=!1;this.options=a;this.ao=0;this.ph=this.ph.bind(this);this.al=this.al.bind(this);this.ej=_.throttle(this.ej.bind(this),100);$(document).on("click",this.ej);$(window).on("resize",this.ej)};
zJ.lu=1600;zJ.gp=500;f=zJ.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.Xu);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.Cl=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.bm);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.Uf)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.dd);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.dd)}var c=this,d=CJ(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.ej);$(window).off("resize",this.ej);CJ(this).off("click",this.ph).off("mousedown",this.al);window.clearInterval(this.ao);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.Hi&&0<$(this.options.Hi).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.Nd).then(function(){this.options.zs&&this.options.zs();if(0===CJ(this).length)return this.trigger("die",this),P.reject();DJ(this,!0);this.Cl();if(this.options.Kr)CJ(this).off("mousedown",this.al).on("mousedown",this.al);else CJ(this).off("click",this.ph).on("click",this.ph);this.options.Rg&&0<$(this.options.Rg).length&&
this.trigger("advance",this)}.bind(this))};f.Jl=function(a,b){function c(){pJ(e)}function d(){pJ(e);e.Jl(a,e.yr)}var e=this,g=0!==this.ao,h=1E3*a;this.yr=!!b;window.clearInterval(this.ao);this.ao=g?window.setInterval(c,h+(zJ.lu+(b?2*zJ.gp:0))):window.setTimeout(d,h)};
function pJ(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(zJ.lu).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){DJ(d,!1);return P.delay(zJ.gp)}var d=a;a.yr?(DJ(d,!0),P.delay(zJ.gp).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);DJ(this,a);this.options.Rg&&0<$(this.options.Rg).length&&this.trigger("advance",this)};function CJ(a){return $(a.options.Rb)}
function DJ(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.ph=function(){this.trigger("advance",this)};f.al=function(){var a=this;CJ(this).one("mouseup",function(){a.ph()})};f.zf=function(){function a(a){var d=CJ(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.Fv?(CJ(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.Kr||b.ph()):CJ(this).click()};f.ej=function(){P.delay(300).bind(this).then(this.Cl)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function EJ(a){this.analytics=a.analytics;this.jc=a.jc;this.Na=a.Na;this.Lc=null;this.xc=a.xc;this.listenTo(this.xc,"input",this.ID);this.Yx=null;this.xj=a.xj;this.jp=a.jp||null;this.B=a.B;this.view=a.view;this.listenTo(this.view,{selectPlan:this.OH,resize:this.trigger.bind(this,"resize"),retry:this.ME,revert:this.OE,submit:this.aF})}f=EJ.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function FJ(a){var b=a.ij.slice(0).sort(function(a,b){return Eg(a)-Eg(b)}),b=new dJ({wh:bJ(b,Gb(a.B))});return new GJ({compact:a.compact,rl:b,Zc:a.Zc||0<a.ij.length&&a.ij[0].br()||30,B:a.B})}f.appendTo=function(a){this.view.render().$el.appendTo(a);this.view.$s();HJ(this.view,!1);this.xc.render();this.xc.Hc().prependTo(this.view.$(".teamBillingCreditCardContainer"))};f.remove=function(){this.stopListening();this.xc.remove();this.view.remove()};f.Ej=function(a){this.view.Ej(a)};
f.zv=function(){function a(a){return 404===a}var b=this,c=this.Na.F();this.Ej(!1);return function(){return b.jp?P.resolve(b.jp):Zf(b.jc,c).catch(a,function(){return Xf({})})}().bind(this).then(function(a){a.hh()&&(this.Lc=a.hh(),this.xc.sj(!0).zg(this.Lc))}).catch(function(){var a=this.view;a.$el.html(a.hG({billingError:a.ge.hm(),tryAgain:a.ge.GH()}))}).finally(function(){this.Ej(!0)})};f.ID=function(a){this.Lc&&HJ(this.view,a)};f.ME=function(){this.zv()};
f.OE=function(){this.Lc&&(this.xc.zg(this.Lc),HJ(this.view,!1))};
f.aF=function(){this.Ej(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.xc.gn().bind(this).then(function(){if(!this.xj){var a=(new Fg).Pj(this.Na.F());a.plan=this.Yx.F();return this.jc.PH(a)}}).then(function(a){var b=this.analytics;b.ga&&b.ga("send","event",{eventCategory:"Subscription",eventAction:"Upgraded"});this.trigger("signup",a)}).catch(QB,function(a){this.analytics.track("upgrade_onboarding_card_error",{message:a.message});a=aC(Sb(this.B),a);this.view.qt(a)}).catch(function(){this.view.qt("An error occured while trying to subscribe")}).finally(function(){this.Ej(!0)});
this.analytics.track("upgrade_onboarding_card_submit")};f.OH=function(a){this.Yx=a};function GJ(){}GJ=Backbone.View.extend({className:"teamBillingSignup"});f=GJ.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.rl=a.rl;this.listenTo(this.rl,"selectPlan",this.trigger.bind(this,"selectPlan"));this.sl=new cJ({items:iJ(Gb(a.B))});this.Zc=a.Zc;a=this.B=a.B;a.ge||(a.ge=new Uc(a.Da));this.ge=a.ge};
f.render=function(){var a=moment().add(this.Zc,"days").format("MMMM Do, YYYY"),b;b=this.B;b.It||(b.It=new Tc(b.Da));b=b.It;this.$el.html(this.template({compact:this.compact,claimHtml:this.ge.fA(this.Zc),revertCard:this.ge.jG(),startTrial:this.ge.eH(),itemsTitle:this.ge.vC(),encryption:this.ge.xB(),trialPeriodInfoItemsHtml:gJ({createTrialPeriodPoint1Html:b.TA(a),createTrialPeriodPoint2:b.UA(),createTrialPeriodPoint3Html:b.VA()})}));this.compact||this.sl.render().$el.appendTo(this.$(".teamBillingPromoItems"));
this.rl.render().$el.appendTo(this.$(".teamBillingPriceOptions"));return this};f.$s=function(){this.rl.$s()};f.qt=function(a){alert(a)};function HJ(a,b){var c=a.$(".teamBillingCreditCardRevert");b?c.show():c.hide();a.trigger("resize")}f.Ej=function(a){this.$el.toggleClass("enabled",a)};f.template=_.template('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2\x3e\x3c%\x3d claimHtml %\x3e\x3c/h2\x3e\x3c%\x3d trialPeriodInfoItemsHtml %\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cbutton class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c%- startTrial %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e\x3c%- revertCard %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e\x3c%- encryption %\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (!compact) { %\x3e\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e\x3c%- itemsTitle %\x3e\x3c/h4\x3e\x3c/div\x3e\x3c% } %\x3e');
f.hG=_.template('\x3cp class\x3d"teamBillingRetry"\x3e\x3c%- billingError %\x3e\x3cbr/\x3e\x3cbutton class\x3d"button teamBillingRetryButton"\x3e\x3c%- tryAgain %\x3e\x3c/button\x3e\x3c/p\x3e');function IJ(){}IJ=Backbone.View.extend({className:"promotion"});IJ.prototype.initialize=function(a){this.jw=new cJ({items:a.sl});this.Fs=a.Fs||"";this.yh=a.yh||"";this.Cd=a.Cd||""};IJ.prototype.events=function(){return{"click .promoActions button":this.trigger.bind(this,"next")}};IJ.prototype.render=function(){this.$el.html(this.template({promoHeaderHtml:this.yh,promoIntroHtml:this.Fs,buttonText:this.Cd}));this.jw.render().$el.appendTo(this.$(".promoContent"));return this};IJ.prototype.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3c% if (promoIntroHtml) { %\x3e\x3cdiv class\x3d"promoIntro"\x3e\x3c%\x3d promoIntroHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoContent"\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function JJ(){}JJ=Backbone.View.extend({className:"promotionVideo promotion"});JJ.prototype.initialize=function(a){this.Uy=a.Uy;this.jw=new cJ({items:a.sl});this.yh=a.yh||"";this.Cd=a.Cd||""};JJ.prototype.events=function(){return{"click .promoActions button":this.trigger.bind(this,"next")}};JJ.prototype.render=function(){this.$el.html(this.template({promoHeaderHtml:this.yh,buttonText:this.Cd,videoId:this.Uy}));return this};JJ.prototype.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3cdiv class\x3d"promoContent"\x3e\x3ciframe class\x3d"promoVideo" type\x3d"text/html" width\x3d"650" height\x3d"369" src\x3d"https://www.youtube.com/embed/\x3c%- videoId %\x3e?autoplay\x3d1\x26modestbranding\x3d1\x26controls\x3d2\x26rel\x3d0\x26loop\x3d1" frameborder\x3d"0" allowfullscreen\x3d"false"/\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function KJ(a){this.Lh=a.Lh;this.Sb=null;this.Zc=a.Zc||0;this.pe=void 0===a.pe||a.pe;this.Tg=void 0===a.Tg||a.Tg;this.Yc=void 0===a.Yc||a.Yc;this.analytics=a.analytics;this.yB=_.once(this.Lh.zv).bind(this.Lh);this.Lh.once("signup",this.TE.bind(this));this.Pf=a.Yz}var vA=0,cG=1,IG=2,TG=3;
function PH(a){var b=new DI({$e:a.jc,Na:a.Na.F(),ud:a.wy,mk:!0,Cb:Sb(a.B)}),b=new EJ({analytics:a.analytics,jc:a.jc,Na:a.Na,xc:b,xj:a.xj,B:a.B,view:FJ({compact:!0,ij:a.ij,Zc:a.Zc,B:a.B})});return new KJ({analytics:a.analytics,Tg:a.Tg,pe:a.pe,Yz:Gb(a.B),Yc:a.Yc,Zc:a.Zc,Lh:b})}f=KJ.prototype;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.remove=function(){this.Sb&&this.Sb.remove()};f.show=function(){LJ(this,[])};function RH(a){var b=[],c=a.Pf;b.push(new IJ({Cd:MJ(a),yh:fJ(c),sl:iJ(c)}));LJ(a,b)}
function Gi(a,b){var c=[],d=a.Pf,e=new IJ({Cd:MJ(a),yh:_.template("\x3ch2\x3e\x3c%- text %\x3e\x3c/h2\x3e")({text:d.format("canvaForWorkUpgradeIntroducingCanvaForWork")}),Fs:function(){switch(b){case cG:return d.format("canvaForWorkUpgradeHighlightPhotoFolders");case vA:return d.format("canvaForWorkUpgradeHighlightFontUpload");case IG:return d.format("canvaForWorkUpgradeHighlightDocumentResize");case TG:return d.format("canvaForWorkUpgradeHighlightExportTransparentBackground");default:return""}}(),
sl:jJ(d)});a.listenToOnce(e,"next",function(){Qf(this.analytics,"learn_more")});c.push(e);LJ(a,c)}
function LJ(a,b){var c=new Backbone.View({className:"upgradeDialogSignup"});b.push(c);a.Sb=new Qm({Jq:["upgradeDialog"],pe:a.pe,Yc:a.Yc,S:b});a.Sb.on("hide",function(){a.Sb.remove();a.Sb=null;a.Lh.remove();a.trigger("hide")});a.yB();a.Sb.show();a.analytics&&a.analytics.track("upgrade_dialog_loaded");a.Lh.appendTo(c.$el);c.$el.append(a.QF({meganKelleyQuote:a.Pf.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),meganKelleyCite:a.Pf.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),donnaMoritzQuote:a.Pf.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),
donnaMoritzCite:a.Pf.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),travisBernardQuote:a.Pf.format("canvaForWorkUpgradeQuoteTravisBernardContent"),travisBernardCite:a.Pf.format("canvaForWorkUpgradeQuoteTravisBernardCite")}))}function MJ(a){var b=a.Pf;return 0===a.Zc?b.format("canvaForWorkUpgradeGetCanvaForWork"):b.format("canvaForWorkUpgradeStartYourTrial",a.Zc)}f.TE=function(){this.Tg&&this.Sb&&this.Sb.remove();this.trigger("signup")};f.QF=_.template('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e\x3c%- meganKelleyQuote %\x3e\x3ccite\x3e\x3c%- meganKelleyCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- donnaMoritzQuote %\x3e\x3ccite\x3e\x3c%- donnaMoritzCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- travisBernardQuote %\x3e\x3ccite\x3e\x3c%- travisBernardCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e');function NJ(){}function te(a){return Object.freeze(G(NJ,a))}function Ax(a){if(a.magic)return Object.freeze(G(OJ,a.magic))}function OJ(){}OJ.prototype.kf=function(){return this.color};OJ.prototype.Mb=function(){return this.thumbnail};function cE(a,b,c){function d(){return b.map(function(b){return cE(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=cE(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function oD(a,b){var c=b.serialize();c&&PJ(a,c)}function PJ(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&PJ(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function QJ(a,b){this.vF=(this.zu="PUBLIC"!==a)?a:"*";this.pH=b}QJ.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.zu})};QJ.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.pH.postMessage(a,this.vF)};function RJ(a,b){function c(a){a.preventDefault();y?(v.sendMessage({type:"PublishRequested",designId:u.Ea(),untouched:h()}),k()):(Q(),g())}var d=Ca,e=Ea;function g(){var a=!1,b=new Jm({la:xf,dk:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),vj:!1,Yc:!1,title:"Saving your design..."});!y&&u.Ie()&&(b.show(),a=!0);tn(2E4).then(function(){a&&
b.remove();v.sendMessage({type:"Close",designId:u.Ea(),untouched:h()})},function(){var c=new Jm({la:xf,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});a&&b.remove();c.show()})}
function h(){return 1===u.Yb()&&t.isEmpty()}function k(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function l(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function m(a){var c=a.layout;return c?b.za((new il).ke(c)).then(function(a){a=a.docType?cj(a.docType):void 0;return a},function(){return n(a)}):n(a)}function n(a){a=a.pages&&a.pages[0];return cl(a?a.width:0,a?a.height:0)}function q(a){return new P(function(b){var c=
Array.isArray(a)&&a||null,c=qq(c)||[],c=jw(Aa,c);Gv(c,b)})}function r(){return LH(a,{Da:a,ii:Fa,oa:Ca,analytics:I,document:t,na:u,fc:La,fg:xa,B:Ea,la:xf})}function p(){var a=ae(t.za().sb()),b=new OG({bv:a.A(),Zu:a.C(),js:t.pf(),B:e});b.Dx=!0;b.$F=!0;a=new CI({model:b.Ld(),X:Qb(e)});a.listener=function(){var a=b.Ld().exportUrl,c=b.Ld().thumbnailUrl;v.sendMessage({type:"Published",designId:u.Ea(),exportUrl:a,thumbnailUrl:c,untouched:h()});b.remove()};b.S.tv=a;a={outputType:"PNG",mediaDpi:96};w&&(a.outputType=
"PDF");PG(b,a);QG(b,b.S.Um);b.show();RG(b)}var v=new QJ(window.CANVA_EMBED.embedDomain,window.parent),w=!1,y=!0;v.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:k,close:g,focus:l,publish:function(){try{p()}catch(a){l()}},loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(g){return}var h="object"===typeof c&&c||{},k=Ji(),l=new Kl(Ba);P.all([m(h),q(h.media)]).spread(function(c){(new bj(k,Fa,l,d,e,I,H)).go(h,c,a,null,r,null);!0===
b.killInterface&&(on=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){y=!!a.enabled},setMultipagePdf:function(a){a.enabled?w=!0:(fH.bB(),JC.$A())},setStaticTitle:function(a){KC.HG(a.title)},upload:function(a){Kw.call($("#objectPanel .uploads a"),e);$v(new Wv({source:"third_party_editor",R:tb(e),il:function(a){var d=L(t).A(),e=L(t).C(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a=Jd({type:"image",
isBackground:!1,isRecolorable:!1,mediaId:a.F(),mediaVersion:a.ia().V(),isCutout:!1,width:g,height:h});L(t).addElement(a,!0);v.sendMessage({type:"Upload",status:"done"})}}),a.dataUri);var b=a.width,c=a.height}});u?v.sendMessage({type:"Editor",designId:u.Ea()}):v.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();g()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});KC.aB();KC.cB();$("#documentMenuUpgrade").remove();
MH.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:c}});a.$el.text("Publish");return a}};$(function(a,b){function c(){t&&u?(u.Vi(t.serialize()),setInterval(function(){t&&u&&Ik(u,t.serialize())&&t.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){return LH(h,{Da:h,ii:Fa,oa:Ca,analytics:I,document:t,na:u,fc:La,fg:xa,B:Ea,la:xf})}function e(a){var b=dm(a);return b&&(a=Yn(z,fm(b)||""))?{fontFamily:a.family,fontSize:b.Ei(),bold:b.vi(),italic:b.zi()}:null}function g(a){return function(b){return b.getName()===a}}var h=new qe(b||window.viewConfig),k=Im(Hm(Em())),l=new TH({lb:k,Kt:!0});
l.inject();$("body").toggleClass("isBranded",UH(l)).toggleClass("isLightTheme",WH(l)).toggleClass("highDpi",cb);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Ea=new sb;Ca=ed();Gx&&(jQuery.event.props.push("touches"),jQuery.event.props.push("changedTouches"),$("html").addClass("touch"));SJ();TJ();var m=window.csrfTokens;Ba=l=hf();var n=Df(Cf(new pf(l)));Af(n,"init-start");Fd=new Qs(Ba,window.facebookConfig);Fd.init(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",
!1)});Gd=new dt({Jp:window.googleConfig.clientId,mo:["https://www.googleapis.com/auth/drive.readonly"],bj:!1});Gd.load().then(function(){$("#objectPanel .content .buttonGoogleDrive").prop("disabled",!1)});I=Uf(window.analyticsConfig||null);Fa=new Ei({analytics:I,Sp:function(){var a=QH(new OH),b=Hm(Em()).ma(),c=cC();return PH({jc:wa,analytics:I,Na:b,ij:a,wy:c,xj:!1,Zc:a[0].br(),Tg:!1,B:Ea})},window:window});va=new Uj(Ba);xa=new ol(Ba);wa=new Vf(Ba);La=new Fu;ya=new jn(Ba);ta=new Ev(window.mediaMap,
ya);ua=new Ev(window.fontMediaMap,ya);Aa=new iw(Ba,ya,La,ta,new rw);za=new Kl(Ba);var q=Em();Za=window.localStorage?new li(window.localStorage,q.user.F()):new li;z=new ju(gu,ya,window.WebFont,ua,window.cmsg.localePrecedence[0]);Ca.Ia.get(td)&&lu();window.scrollTo(0,0);var r=function(){var a=Im(Hm(Em()));return(a=a&&Yl(a))&&a[0]?am(a[0])||[]:[]}(),p={};zu(z,r,function(){var a=UJ(r);Ca.Ia.get(td)&&0<a.length&&(z.Ds=a,p={title:r.filter(g("title")).map(e)[0],subtitle:r.filter(g("subtitle")).map(e)[0],
body:r.filter(g("body")).map(e)[0]},Object.keys(p).forEach(function(a){p[a]||delete p[a]}))});Ca.Ia.get(ud)&&(lb=["#000000","#ffffff"]);var v=window.csession,q=window.cdoc,w=window.cdocType;if(q){(new bj(Ji(),Fa,za,Ca,Ea,I,H)).go(q,w,h,k,d,n);window.history.replaceState("",document.title,window.location.pathname+window.location.search);var y=Hy(v,q);setTimeout(c,15E3);var x=q.id,A=Date.now(),k=window.CANVA_EMBED,B=m.session,m=!!navigator.sendBeacon,w=new un({T:Ba,es:A,Fd:x,na:y,zq:k,Jt:Aa,zp:m,uq:B});
$(window).resize(fn).on("beforeunload",w.kG.bind(w));if(!k&&m){var C=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(window).on("unload",function(){var a=JSON.stringify({docId:x,session:v,durationSecs:Math.floor((Date.now()-A)/1E3)+"",docMetrics:{sync:y.Ft.serialize()},csrfToken:B});navigator.sendBeacon(C+"/session/editor/"+encodeURIComponent(x)+"?close",a)})}}fn();window.CANVA_EMBED&&RJ(h,new Tk(l));$a=new ji($("#canvaDocument"));$a.render();I&&q&&Kf(q.id,q.designType);
Af(n,"init-end")});function UJ(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){var d=a.getName(),k=b.getName();return c[d]-c[k]||d.localeCompare(k)}}(["title","subtitle","body"])).map(function(a){var c;dm(a)&&(c=fm(dm(a)));return Yn(z,c||"")}).filter(Boolean)}function TJ(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function en(){function a(a){a.stopPropagation();a.preventDefault();a=Yo($(a.currentTarget).data("canvaElement"));ib.test(a)?window.open(a):VJ(a)}t.ha().filter(function(a){a=Yo(a);return fb.test(a)||jb.test(a)||ib.test(a)}).forEach(function(b){b.D().on("mousedown",a).on("touchstart",a).attr("data-has-onboarding-link","true")})}
function VJ(a){function b(){d.addClass("disappearing").delay(500,function(){$(this).remove()});$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("off").delay(500,function(){$(this).removeClass("on off white")});$("body \x3e .mask").off("click");$("#videoLightboxClose").remove()}var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"},d;if("#"===a.charAt(0)){a=a.substring(1);
if(!c.hasOwnProperty(a))return;c=c[a]}else if(jb.test(a))c=a.match(jb)[1];else return;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("white").forceLayout().addClass("on").on("click",b);d=$('\x3cdiv id\x3d"videoLightbox" class\x3d"dialog"\x3e\x3c/div\x3e');d.append('\x3ciframe width\x3d"640" height\x3d"480" src\x3d"//www.youtube.com/embed/'+c+"?"+$.param({rel:0,autoplay:1,modestbranding:1,fs:0,showinfo:0})+'" frameborder\x3d"0"\x3e\x3c/iframe\x3e').append('\x3ca id\x3d"videoLightboxClose" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e').appendTo("body").addClass("playing");
$("#videoLightboxClose").on("click",b)}function SJ(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");Vx();I&&I.track("touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}Gx&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))};function WJ(){}WJ=X.extend({className:"editorHintPopOver"});WJ.prototype.initialize=function(a){_.extend(a,{Db:"Show me!"});X.prototype.initialize.call(this,a)};function ln(a,b,c,d){this.oa=a;this.analytics=b;this.profiles=c;this.media=d;this.iw={UploadImages:this.UG.bind(this)}}
ln.prototype.UG=function(){return new P(function(a,b){function c(c,e){if(200===c&&e&&0>=e.total){var k=new WJ({position:"left",title:"Upload your own photos",content:"Use photos in your designs by uploading from your computer or from Facebook."}),l=$(".uploads a");k.on("hide",function(a){2===a&&l.click()});k.ee(l);d.analytics.Gj("experiment_hints_upload_image_shown");a()}else b()}if(this.oa.Ia.get(rd)){var d=this,e=Or(Nr((new Mr).Mg(!0).Qf(!1).Kg(),!0),[Pd,Rd]).Yl(0,0);sr(this.media,e,c)}else b()}.bind(this))};
function kn(a){function b(){function a(){Nl(d.profiles,"Hint::"+h)}function g(){b()}if(!(0>=c.length)){var h=c.pop();d.iw[h]().then(a).catch(g)}}var c,d=a;Ml(a.profiles).then(function(a){c=_.filter(_.keys(d.iw),function(b){return!a["Hint::"+b]},this);b()})};$(function(){function a(){zE(function(){var a=Em(),e=Hm(a).ma(),a=a.user;zE.identify({name:c(a),email:a.Iv(),externalId:a.F(),organization:d(e)||void 0});zE.setLocale(a.cn());$(".helpMenuButton").click(b)})}function b(){zE&&zE.activate({hideOnClose:!0});return!zE}function c(a){var b=a.mc();a=a.ln();return b?b:a}function d(a){var b=a.mc();a=a.brandname;return b?b:a}var e=Uf(window.analyticsConfig);!ed().Ia.get(zd)||window.brandPageConfig&&window.brandPageConfig.brandOnboardingSettings||a();(function(){$("#editorHelpMenuButton").click(function(){e.track("button_click",
{type:"need_help",section:"editor",subsection:"canvas",location:"bottom_right"})})})()});$(document).on("wheel",".dd-options",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function Km(a){this.la=a.la;this.element=$(this.template());this.element.addClass(XJ(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style}f=Km.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function YJ(a){return["modalContentVisible",XJ(a)+"Visible"].join(" ")}
function XJ(a){switch(a){case Lm:return"modalContentBlurAndDarken";case Um:return"modalContentDarken";case yJ:return"modalContentClear";case uH:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(YJ(this.style));this.element.removeClass("modalContentOn");this.la.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");yf(function(){$("body").addClass(YJ(this.style));this.element.addClass("modalContentOn")}.bind(this))};f.template=_.template('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e');var Lm="BLUR_AND_DARKEN",Um="DARKEN",yJ="CLEAR",uH="NONE";})();
